{"version":3,"sources":["assets/sound.mp3","assets/wa-background.png","components/MainContainer/index.js","services/api.js","translate/languages/index.js","translate/languages/pt.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","components/QueueSelect/index.js","components/WhatsAppModal/index.js","components/ConfirmationModal/index.js","components/QrcodeModal/index.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/useAuth.js/index.js","rules.js","components/Can/index.js","pages/QR/index.js","context/Auth/AuthContext.js","layout/MainListItems.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","components/TicketListItem/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","layout/index.js","pages/Dashboard/Title.js","pages/Dashboard/Chart.js","pages/Dashboard/index.js","components/ContactModal/index.js","components/NewTicketModal/index.js","components/TicketsListSkeleton/index.js","components/TicketsList/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TicketsManager/index.js","components/ContactDrawerSkeleton/index.js","components/ContactDrawer/index.js","components/MessageInput/RecordingTimer.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageInput/index.js","hooks/useLocalStorage/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/TransferTicketModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtons/index.js","components/ModalImageCors/index.js","components/MessageOptionsMenu/index.js","components/MessagesList/index.js","components/Ticket/index.js","pages/Tickets/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","pages/Connections/index.js","pages/Settings/index.js","pages/ClientAPI/index.js","pages/Users/index.js","pages/Contacts/index.js","components/QuickAnswersModal/index.js","pages/QuickAnswers/index.js","components/ColorPicker/index.js","components/QueueModal/index.js","pages/Queues/index.js","routes/Route.js","routes/index.js","App.js","index.js"],"names":["module","exports","useStyles","makeStyles","theme","mainContainer","flex","padding","height","contentWrapper","overflowY","display","flexDirection","MainContainer","children","classes","Container","className","maxWidth","api","axios","create","baseURL","process","withCredentials","messages","pt","translations","signup","title","toasts","success","fail","form","name","email","password","buttons","submit","login","register","auth","dashboard","charts","perDay","connections","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","disconnect","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","actions","session","whatsappModal","edit","okAdd","okEdit","cancel","qrCode","message","contacts","searchPlaceholder","importTitlte","importMessage","import","whatsapp","contactModal","mainInfo","extraInfo","number","extraName","extraValue","addExtraInfo","quickAnswersModal","shortcut","queueModal","color","greetingMessage","userModal","profile","chat","noTicketMessage","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","tabs","open","closed","search","showAll","transferTicketModal","fieldLabel","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","accept","newTicketModal","mainDrawer","listItems","quickAnswers","queues","administration","users","settings","appBar","user","logout","notifications","noTickets","greeting","queueSelect","inputLabel","userCreation","options","enabled","disabled","messagesList","header","assignedTo","return","resolve","reopen","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","ticketOptionsMenu","delete","transfer","confirm","messageOptionsMenu","reply","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","titleFrom","es","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","toastError","err","errorMsg","response","data","error","exists","toast","t","toastId","chips","flexWrap","chip","margin","QueueSelect","selectedQueueIds","onChange","useState","setQueues","useEffect","a","get","style","marginTop","FormControl","fullWidth","variant","InputLabel","Select","multiple","labelWidth","value","e","target","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","renderValue","selected","length","map","id","queue","find","q","Chip","key","backgroundColor","label","MenuItem","root","multFieldLine","marginRight","spacing","btnWrapper","position","buttonProgress","green","top","left","marginLeft","SessionSchema","Yup","shape","min","max","required","React","memo","onClose","whatsAppId","initialState","isDefault","whatsApp","setWhatsApp","setSelectedQueueIds","whatsQueueIds","fetchSession","handleSaveWhatsApp","values","whatsappData","queueIds","put","post","handleClose","Dialog","scroll","DialogTitle","initialValues","enableReinitialize","validationSchema","onSubmit","setTimeout","setSubmitting","touched","errors","isSubmitting","DialogContent","dividers","as","TextField","autoFocus","Boolean","helperText","textField","FormControlLabel","control","Switch","checked","type","multiline","rows","selectedIds","DialogActions","Button","onClick","CircularProgress","size","ConfirmationModal","onConfirm","aria-labelledby","Typography","setQrCode","socket","openSocket","on","action","Paper","elevation","gutterBottom","reducer","state","whatsApps","payload","whatsAppIndex","findIndex","s","updatedAt","retries","splice","useWhatsApps","useReducer","dispatch","loading","setLoading","whatsappId","WhatsAppsContext","createContext","WhatsAppsProvider","Provider","useAuth","history","useHistory","isAuth","setIsAuth","setUser","interceptors","request","config","token","localStorage","getItem","headers","JSON","parse","Promise","reject","originalRequest","_retry","setItem","stringify","defaults","Authorization","removeItem","undefined","handleLogin","userData","push","handleLogout","rules","static","admin","superadmin","Can","role","perform","yes","no","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","check","defaultProps","container","paddingTop","paddingBottom","fixedHeightPaper","overflow","mainPaper","scrollbarStyles","customTableCell","alignItems","justifyContent","tooltip","fontSize","typography","pxToRem","border","tooltipPopper","textAlign","QR","clientSerial","useContext","whatsAppModalOpen","qrModalOpen","setQrModalOpen","caseQrModalOpen","setCaseQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleStartWhatsAppSession","handleRequestNewQrCode","handleOpenQrModal","handleCloseQrModal","useCallback","console","log","handleSubmitConfirmationModal","renderActionButtons","CustomToolTip","Tooltip","arrow","popper","Fragment","handalSerial","ClientID","TableBody","TableCell","align","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","AuthContext","AuthProvider","ListItemLink","props","icon","primary","to","renderLink","useMemo","forwardRef","itemProps","ref","ListItem","button","component","ListItemIcon","ListItemText","MainListItems","drawerClose","connectionWarning","setConnectionWarning","delayDebounceFn","filter","whats","clearTimeout","ListSubheader","inset","Badge","badgeContent","Divider","ButtonWithSpinner","rest","elements","allowedElements","CustomLink","rel","MarkdownWrapper","boldRegex","tildaRegex","test","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","forEach","element","el","ticket","pendingTicket","cursor","noTicketsDiv","noTicketsText","lineHeight","fontWeight","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","alignSelf","contactLastMessage","paddingRight","newMessagesCount","badgeStyle","acceptButton","ticketQueueColor","width","TicketListItem","ticketId","useParams","isMounted","useRef","current","handleAcepptTicket","userId","dense","clsx","placement","ListItemAvatar","Avatar","src","contact","profilePicUrl","disableTypography","noWrap","lastMessage","isSameDay","parseISO","Date","format","secondary","unreadMessages","badge","useTickets","searchParam","pageNumber","date","withUnreadMessages","hasMore","setHasMore","setTickets","params","fetchTickets","tabContainer","maxHeight","popoverPaper","breakpoints","down","noShadow","boxShadow","NotificationsPopOver","ticketIdUrl","location","pathname","split","ticketIdRef","anchorEl","isOpen","setIsOpen","setNotifications","setDesktopNotifications","useSound","alertSound","play","soundAlertRef","historyRef","window","Notification","requestPermission","emit","prevState","ticketIndex","notfiticationIndex","n","tag","String","close","read","document","visibilityState","isGroup","handleNotifications","body","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","IconButton","buttonRef","aria-label","Popover","disableScrollLock","paper","List","formControl","minWidth","UserSchema","UserModal","loggedInUser","userQueueIds","fetchUser","handleSaveUser","labelId","backdrop","zIndex","drawer","BackdropLoading","Backdrop","toolbar","toolbarIcon","minHeight","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","up","appBarSpacer","LoggedInLayout","userModalOpen","setUserModalOpen","setAnchorEl","menuOpen","setMenuOpen","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","offsetWidth","handleCloseMenu","Drawer","AppBar","Toolbar","edge","aria-controls","aria-haspopup","event","currentTarget","Menu","Title","Chart","useTheme","toISOString","time","amount","chartData","setChartData","aux","startOfHour","createdAt","ResponsiveContainer","BarChart","barSize","right","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","stroke","palette","text","YAxis","allowDecimals","Label","angle","textAnchor","fill","Bar","main","Dashboard","Grid","item","xs","extraAttr","ContactSchema","ContactModal","contactId","onSave","setContact","fetchContact","handleSaveContact","marginBottom","remove","info","index","createFilterOptions","trim","NewTicketModal","modalOpen","setOptions","setSearchParam","selectedContact","setSelectedContact","newContact","setNewContact","contactModalOpen","setContactModalOpen","fetchContacts","handleSaveTicket","Autocomplete","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","option","renderOption","filterOptions","filtered","inputValue","newValue","handleSelectOption","renderInput","onKeyPress","InputProps","endAdornment","TicketsSkeleton","Skeleton","animation","ticketsListWrapper","borderTopRightRadius","borderBottomRightRadius","borderTop","ticketsListHeader","borderBottom","ticketsCount","unshift","TicketsList","setPageNumber","shouldUpdateTicket","queueId","indexOf","square","onScroll","scrollTop","scrollHeight","clientHeight","TicketsListSkeleton","TabPanel","TicketsQueueSelect","userQueues","displayEmpty","Checkbox","ticketsWrapper","tabsHeader","settingsIcon","tab","ticketOptionsBox","background","serachInputWrapper","borderRadius","searchIcon","searchInput","TicketsManager","searchTimeout","setTab","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","Tabs","indicatorColor","textColor","Tab","InputBase","inputRef","searchedTerm","toLowerCase","labelPlacement","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","flexShrink","borderRight","ContactDrawer","handleDrawerClose","setModalOpen","anchor","PaperProps","BackdropProps","ModalProps","getElementById","alt","Link","href","timerBox","RecordingTimer","minutes","seconds","timer","setTimer","interval","setInterval","clearInterval","addZero","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","Mp3Recorder","MicRecorder","bitRate","mainWrapper","newMessageBox","messageInputWrapper","messageInput","paddingLeft","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","circleLoading","opacity","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","messageQuickAnswersWrapper","listStyle","textOverflow","MessageInput","ticketStatus","medias","setMedias","inputMessage","setInputMessage","showEmoji","setShowEmoji","recording","setRecording","setQuickAnswer","typeBar","setTypeBar","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","setSignMessage","handleChangeMedias","files","selectedMedias","Array","from","handleUploadMedia","formData","FormData","append","media","handleSendMessage","fromMe","mediaUrl","quotedMsg","handleStartRecording","navigator","mediaDevices","getUserMedia","audio","start","handleLoadQuickAnswer","substring","handleUploadAudio","stop","getMp3","blob","filename","getTime","handleCancelAudio","handleMenuItemClick","renderReplyingMessage","Hidden","only","ClickAwayListener","onClickAway","perLine","showPreview","showSkinTones","onSelect","emoji","native","htmlFor","keepMounted","input","rowsMax","onPaste","clipboardData","handleInputPaste","shiftKey","messageQuickAnswersWrapperItem","handleQuickAnswersClick","ticketHeader","TicketHeaderSkeleton","Card","CardHeader","titleTypographyProps","subheaderTypographyProps","avatar","subheader","TicketHeader","TicketInfo","TransferTicketModal","ticketid","selectedUser","setSelectedUser","fetchUsers","noOptionsText","TicketOptionsMenu","confirmationOpen","setConfirmationOpen","transferTicketModalOpen","setTransferTicketModalOpen","handleDeleteTicket","handleOpenConfirmationModal","actionButtons","TicketActionButtons","ticketOptionsMenuOpen","handleUpdateTicketStatus","startIcon","Replay","messageMedia","objectFit","borderTopLeftRadius","borderBottomLeftRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","url","URL","createObjectURL","Blob","fetchImage","smallSrcSet","medium","large","MessageOptionsMenu","handleDeleteMessage","messagesListWrapper","backgroundImage","whatsBackground","messageLeft","quotedContainerLeft","quotedSideColorLeft","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","dailyTimestamp","dailyTimestampText","ackIcons","verticalAlign","deletedIcon","ackDoneAllIcon","downloadMedia","newMessages","messageIndex","m","newMessage","messageToUpdate","MessagesList","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","scrollToBottom","fetchMessages","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","mediaType","controls","GetApp","renderDailyTimestamps","messageDay","previousMessageDay","float","clear","renderMessageDivider","renderQuotedMessage","prevPageNumber","isDeleted","ExpandMore","Block","ack","AccessTime","Done","DoneAll","renderMessageAck","ticketInfo","flexBasis","ticketActionButtons","borderLeft","mainWrapperShift","easeOut","Ticket","setTicket","fetchTicket","chatContainer","chatPapper","contactsWrapper","contactsWrapperSmall","messagessWrapper","welcomeMsg","ticketsManagerClosed","Chat","md","SignUp","handleSignUp","CssBaseline","autoComplete","justify","RouterLink","Box","mt","Login","handleChangeInput","noValidate","contactsHeader","MainHeader","MainHeaderButtonsWrapper","TableRowSkeleton","columns","TableRow","_","Connections","setWhatsAppModalOpen","handleCloseWhatsAppModal","Table","TableHead","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","settingOption","Settings","setSettings","settingIndex","setting","handleChangeSetting","selectedValue","settingKey","platfrom","ClientAPI","platfromValue","setplatfromValue","Valid","setValid","copyCase","setCopyCase","handleChange","handleURLValueChange","match","then","res","catch","handelCopy","clipboard","writeText","initialValuesClintAPI","GenerateToken","sx","onKeyUp","newUsers","userIndex","u","Users","deletingUser","setDeletingUser","handleDeleteUser","startAdornment","InputAdornment","handleEditUser","newContacts","contactIndex","c","Contacts","selectedContactId","setSelectedContactId","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","handleDeleteContact","handleimportContact","go","textQuickAnswerContainer","QuickAnswerSchema","QuickAnswersModal","quickAnswerId","quickAnswer","fetchQuickAnswer","handleSaveQuickAnswer","newQuickAnswers","quickAnswerIndex","QuickAnswers","selectedQuickAnswers","setSelectedQuickAnswers","quickAnswersModalOpen","setQuickAnswersModalOpen","deletingQuickAnswers","setDeletingQuickAnswers","fetchQuickAnswers","handleDeleteQuickAnswers","handleEditQuickAnswers","ColorPicker","currentColor","selectedColor","setSelectedColor","triangle","hex","onChangeComplete","colorAdorment","QueueSchema","QueueModal","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","handleSaveQueue","onFocus","Colorize","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","selectedQueue","setSelectedQueue","handleDeleteQueue","handleEditQueue","Route","Component","isPrivate","Routes","exact","path","Signup","Tickets","autoClose","App","locale","setLocale","createTheme","i18nlocale","ptBR","ThemeProvider","ReactDOM","render"],"mappings":"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,WAAY,GACZwC,YAAa,QAiBA6N,GAbW,SAAC,GAAoC,IAAlC1I,EAAiC,EAAjCA,QAASrU,EAAwB,EAAxBA,SAAagd,EAAW,mBACvD/c,EAAUb,KAEhB,OACC,kBAACoT,EAAA,EAAD,eAAQrS,UAAWF,EAAQ6b,OAAQlU,SAAUyM,GAAa2I,GACxDhd,EACAqU,GACA,kBAAC3B,EAAA,EAAD,CAAkBC,KAAM,GAAIxS,UAAWF,EAAQ6O,mB,0BCzB7CmO,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAa,SAAC,GAAD,IAAGnd,EAAH,EAAGA,SAAaob,EAAhB,0BAClB,uCAAOA,EAAP,CAAchO,OAAO,SAASgQ,IAAI,wBAChCpd,IAsCYqd,GAlCS,SAAC,GAAkB,IAAhBrd,EAAe,EAAfA,SACpBsd,EAAY,aACZC,EAAa,WAEfvd,GAAYsd,EAAUE,KAAKxd,KAC9BA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","file":"static/js/main.da69dc1e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/wa-background.adbccee0.png\";","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    flex: 1,\n    // padding: theme.spacing(2),\n    // height: `calc(100% - 48px)`,\n    padding: 0,\n    height: \"100%\",\n  },\n\n  contentWrapper: {\n    height: \"100%\",\n    overflowY: \"hidden\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst MainContainer = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.mainContainer} maxWidth={false}>\n      <div className={classes.contentWrapper}>{children}</div>\n    </Container>\n  );\n};\n\nexport default MainContainer;\n","import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\r\n\twithCredentials: true,\r\n});\r\n\r\nexport default api;\r\n","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"Já tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"Não tem um conta? Cadastre-se!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets hoje: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Conexões\",\n        toasts: {\n          deleted: \"Conexão com o WhatsApp excluída com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sessão do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\n          },\n          connected: {\n            title: \"Conexão estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexão com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"Última atualização\",\n          default: \"Padrão\",\n          actions: \"Ações\",\n          session: \"Sessão\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\n        form: {\n          name: \"Nome\",\n          default: \"Padrão\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sessão\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excluído com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos os tickets relacionados serão perdidos.\",\n          importMessage: \"Deseja importas todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Ações\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informações adicionais\",\n          name: \"Nome\",\n          number: \"Número do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informação\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Adicionar Resposta Rápida\",\n          edit: \"Editar Resposta Rápida\",\n        },\n        form: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rápida\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Resposta Rápida salva com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudação\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usuário\",\n          edit: \"Editar usuário\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuário salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"O ticket que você estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets e mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Digite para buscar usuários\",\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum ticket encontrado com esse status ou termo pesquisado\",\n        buttons: {\n          accept: \"Aceitar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Ticket\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexões\",\n          tickets: \"Tickets\",\n          contacts: \"Contatos\",\n          quickAnswers: \"Respostas Rápidas\",\n          queues: \"Filas\",\n          administration: \"Administração\",\n          users: \"Usuários\",\n          settings: \"Configurações\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificação.\",\n      },\n      queues: {\n        title: \"Filas\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudação\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! Os tickets dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      quickAnswers: {\n        title: \"Respostas Rápidas\",\n        table: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rápida\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar Resposta Rápida\",\n        },\n        toasts: {\n          deleted: \"Resposta Rápida excluída com sucesso.\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle:\n            \"Você tem certeza que quer excluir esta Resposta Rápida: \",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      users: {\n        title: \"Usuários\",\n        table: {\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar usuário\",\n        },\n        toasts: {\n          deleted: \"Usuário excluído com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usuário serão perdidos. Os tickets abertos deste usuário serão movidos para a fila.\",\n        },\n      },\n      settings: {\n        success: \"Configurações salvas com sucesso.\",\n        title: \"Configurações\",\n        settings: {\n          userCreation: {\n            name: \"Criação de usuário\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribuído à:\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informações\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"Deletar o ticket do contato\",\n          message:\n            \"Atenção! Todas as mensagens relacionadas ao ticket serão perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticação. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Já existe um tíquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criação do usuário foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor já está em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  en: {\n    translations: {\n      signup: {\n        title: \"Sign up\",\n        toasts: {\n          success: \"User created successfully! Please login!\",\n          fail: \"Error creating user. Check the reported data.\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Register\",\n          login: \"Already have an account? Log in!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Enter\",\n          register: \"Don't have an account? Register!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login successfully!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets today: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Connections\",\n        toasts: {\n          deleted: \"WhatsApp connection deleted sucessfully!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage: \"Are you sure? It cannot be reverted.\",\n          disconnectTitle: \"Disconnect\",\n          disconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n        },\n        buttons: {\n          add: \"Add WhatsApp\",\n          disconnect: \"Disconnect\",\n          tryAgain: \"Try Again\",\n          qrcode: \"QR CODE\",\n          newQr: \"New QR CODE\",\n          connecting: \"Connectiing\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Failed to start WhatsApp session\",\n            content:\n              \"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n          },\n          qrcode: {\n            title: \"Waiting for QR Code read\",\n            content:\n              \"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n          },\n          connected: {\n            title: \"Connection established\",\n          },\n          timeout: {\n            title: \"Connection with cell phone has been lost\",\n            content:\n              \"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n          },\n        },\n        table: {\n          name: \"Name\",\n          status: \"Status\",\n          lastUpdate: \"Last Update\",\n          default: \"Default\",\n          actions: \"Actions\",\n          session: \"Session\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Add WhatsApp\",\n          edit: \"Edit WhatsApp\",\n        },\n        form: {\n          name: \"Name\",\n          default: \"Default\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"WhatsApp saved successfully.\",\n      },\n      qrCode: {\n        message: \"Read QrCode to start the session\",\n      },\n      contacts: {\n        title: \"Contacts\",\n        toasts: {\n          deleted: \"Contact deleted sucessfully!\",\n        },\n        searchPlaceholder: \"Search ...\",\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          importTitlte: \"Import contacts\",\n          deleteMessage:\n            \"Are you sure you want to delete this contact? All related tickets will be lost.\",\n          importMessage: \"Do you want to import all contacts from the phone?\",\n        },\n        buttons: {\n          import: \"Import Contacts\",\n          add: \"Add Contact\",\n        },\n        table: {\n          name: \"Name\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Actions\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Add contact\",\n          edit: \"Edit contact\",\n        },\n        form: {\n          mainInfo: \"Contact details\",\n          extraInfo: \"Additional information\",\n          name: \"Name\",\n          number: \"Whatsapp number\",\n          email: \"Email\",\n          extraName: \"Field name\",\n          extraValue: \"Value\",\n        },\n        buttons: {\n          addExtraInfo: \"Add information\",\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Contact saved successfully.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Add Quick Reply\",\n          edit: \"Edit Quick Answer\",\n        },\n        form: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Quick Reply saved successfully.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Add queue\",\n          edit: \"Edit queue\",\n        },\n        form: {\n          name: \"Name\",\n          color: \"Color\",\n          greetingMessage: \"Greeting Message\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Add user\",\n          edit: \"Edit user\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n          profile: \"Profile\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"User saved successfully.\",\n      },\n      chat: {\n        noTicketMessage: \"Select a ticket to start chatting.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"New\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Queues\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"The ticket you were on has been deleted.\",\n        },\n        notification: {\n          message: \"Message from\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolved\" },\n          search: { title: \"Search\" },\n        },\n        search: {\n          placeholder: \"Search tickets and messages.\",\n        },\n        buttons: {\n          showAll: \"All\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transfer Ticket\",\n        fieldLabel: \"Type to search for users\",\n        noOptions: \"No user found with this name\",\n        buttons: {\n          ok: \"Transfer\",\n          cancel: \"Cancel\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Queue\",\n        assignedHeader: \"Working on\",\n        noTicketsTitle: \"Nothing here!\",\n        noTicketsMessage: \"No tickets found with this status or search term.\",\n        buttons: {\n          accept: \"Accept\",\n        },\n      },\n      newTicketModal: {\n        title: \"Create Ticket\",\n        fieldLabel: \"Type to search for a contact\",\n        add: \"Add\",\n        buttons: {\n          ok: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Connections\",\n          tickets: \"Tickets\",\n          contacts: \"Contacts\",\n          quickAnswers: \"Quick Answers\",\n          queues: \"Queues\",\n          administration: \"Administration\",\n          users: \"Users\",\n          settings: \"Settings\",\n        },\n        appBar: {\n          user: {\n            profile: \"Profile\",\n            logout: \"Logout\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"No notifications.\",\n      },\n      queues: {\n        title: \"Queues\",\n        table: {\n          name: \"Name\",\n          color: \"Color\",\n          greeting: \"Greeting message\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add queue\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Queues\",\n      },\n      quickAnswers: {\n        title: \"Quick Answers\",\n        table: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add Quick Reply\",\n        },\n        toasts: {\n          deleted: \"Quick Reply deleted successfully.\",\n        },\n        searchPlaceholder: \"Search...\",\n        confirmationModal: {\n          deleteTitle: \"Are you sure you want to delete this Quick Reply: \",\n          deleteMessage: \"This action cannot be undone.\",\n        },\n      },\n      users: {\n        title: \"Users\",\n        table: {\n          name: \"Name\",\n          email: \"Email\",\n          profile: \"Profile\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add user\",\n        },\n        toasts: {\n          deleted: \"User deleted sucessfully.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"All user data will be lost. Users' open tickets will be moved to queue.\",\n        },\n      },\n      settings: {\n        success: \"Settings saved successfully.\",\n        title: \"Settings\",\n        settings: {\n          userCreation: {\n            name: \"User creation\",\n            options: {\n              enabled: \"Enabled\",\n              disabled: \"Disabled\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Assigned to:\",\n          buttons: {\n            return: \"Return\",\n            resolve: \"Resolve\",\n            reopen: \"Reopen\",\n            accept: \"Accept\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Type a message\",\n        placeholderClosed: \"Reopen or accept this ticket to send a message.\",\n        signMessage: \"Sign\",\n      },\n      contactDrawer: {\n        header: \"Contact details\",\n        buttons: {\n          edit: \"Edit contact\",\n        },\n        extraInfo: \"Other information\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Delete\",\n        transfer: \"Transfer\",\n        confirmationModal: {\n          title: \"Delete ticket #\",\n          titleFrom: \"from contact \",\n          message: \"Attention! All ticket's related messages will be lost.\",\n        },\n        buttons: {\n          delete: \"Delete\",\n          cancel: \"Cancel\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancel\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Delete\",\n        reply: \"Reply\",\n        confirmationModal: {\n          title: \"Delete message?\",\n          message: \"This action cannot be reverted.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"There must be at lest one default WhatsApp connection.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No default WhatsApp found. Check connections page.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"This WhatsApp session is not initialized. Check connections page.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Could not check WhatsApp contact. Check connections page.\",\n        ERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Could not download media from WhatsApp. Check connections page.\",\n        ERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error sending WhatsApp message. Check connections page.\",\n        ERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET:\n          \"There's already an open ticket for this contact.\",\n        ERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n        ERR_USER_CREATION_DISABLED:\n          \"User creation was disabled by administrator.\",\n        ERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n        ERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n        ERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n        ERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n        ERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n        ERR_NO_USER_FOUND: \"No user found with this ID.\",\n        ERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n        ERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n        ERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error fetching the message in WhtasApp, maybe it is too old.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"This color is already in use, pick another one.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"Greeting message is required if there is more than one queue.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  es: {\n    translations: {\n      signup: {\n        title: \"Registro\",\n        toasts: {\n          success:\n            \"¡El usuario ha sido creado satisfactoriamente! ¡Ahora inicia sesión!\",\n          fail: \"Error creando el usuario. Verifica la data reportada.\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrónico\",\n          password: \"Contraseña\",\n        },\n        buttons: {\n          submit: \"Regístrate\",\n          login: \"¿Ya tienes una cuenta? ¡Inicia sesión!\",\n        },\n      },\n      login: {\n        title: \"Inicio de Sesión\",\n        form: {\n          email: \"Correo Electrónico\",\n          password: \"Contraseña\",\n        },\n        buttons: {\n          submit: \"Ingresa\",\n          register: \"¿No tienes cuenta? ¡Regístrate!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"¡Inicio de sesión exitoso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets hoy: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Conexiones\",\n        toasts: {\n          deleted:\n            \"¡La conexión de WhatsApp ha sido borrada satisfactoriamente!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage: \"¿Estás seguro? Este proceso no puede ser revertido.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage: \"Estás seguro? Deberá volver a leer el código QR\",\n        },\n        buttons: {\n          add: \"Agrega WhatsApp\",\n          disconnect: \"Desconectar\",\n          tryAgain: \"Inténtalo de nuevo\",\n          qrcode: \"QR CODE\",\n          newQr: \"Nuevo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"No se pudo iniciar la sesión de WhatsApp\",\n            content:\n              \"Asegúrese de que su teléfono celular esté conectado a Internet y vuelva a intentarlo o solicite un nuevo código QR\",\n          },\n          qrcode: {\n            title: \"Esperando la lectura del código QR\",\n            content:\n              \"Haga clic en el botón 'CÓDIGO QR' y lea el Código QR con su teléfono celular para iniciar la sesión\",\n          },\n          connected: {\n            title: \"Conexión establecida\",\n          },\n          timeout: {\n            title: \"Se perdió la conexión con el teléfono celular\",\n            content:\n              \"Asegúrese de que su teléfono celular esté conectado a Internet y que WhatsApp esté abierto, o haga clic en el botón 'Desconectar' para obtener un nuevo código QR\",\n          },\n        },\n        table: {\n          name: \"Nombre\",\n          status: \"Estado\",\n          lastUpdate: \"Última Actualización\",\n          default: \"Por Defecto\",\n          actions: \"Acciones\",\n          session: \"Sesión\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Agrega WhatsApp\",\n          edit: \"Edita WhatsApp\",\n        },\n        form: {\n          name: \"Nombre\",\n          default: \"Por Defecto\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp guardado satisfactoriamente.\",\n      },\n      qrCode: {\n        message: \"Lée el código QR para empezar la sesión.\",\n      },\n      contacts: {\n        title: \"Contactos\",\n        toasts: {\n          deleted: \"¡Contacto borrado satisfactoriamente!\",\n        },\n        searchPlaceholder: \"Buscar...\",\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          importTitlte: \"Importar contactos\",\n          deleteMessage:\n            \"¿Estás seguro que deseas borrar este contacto? Todos los tickets relacionados se perderán.\",\n          importMessage:\n            \"¿Quieres importar todos los contactos desde tu teléfono?\",\n        },\n        buttons: {\n          import: \"Importar Contactos\",\n          add: \"Agregar Contacto\",\n        },\n        table: {\n          name: \"Nombre\",\n          whatsapp: \"WhatsApp\",\n          email: \"Correo Electrónico\",\n          actions: \"Acciones\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Agregar contacto\",\n          edit: \"Editar contacto\",\n        },\n        form: {\n          mainInfo: \"Detalles del contacto\",\n          extraInfo: \"Información adicional\",\n          name: \"Nombre\",\n          number: \"Número de Whatsapp\",\n          email: \"Correo Electrónico\",\n          extraName: \"Nombre del Campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Agregar información\",\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contacto guardado satisfactoriamente.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Agregar respuesta rápida\",\n          edit: \"Editar respuesta rápida\",\n        },\n        form: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rápida\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Respuesta rápida guardada correctamente.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Agregar cola\",\n          edit: \"Editar cola\",\n        },\n        form: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greetingMessage: \"Mensaje de saludo\",\n        },\n        buttons: {\n          okAdd: \"Añadir\",\n          okEdit: \"Ahorrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Agregar usuario\",\n          edit: \"Editar usuario\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrónico\",\n          password: \"Contraseña\",\n          profile: \"Perfil\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuario guardado satisfactoriamente.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Nuevo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Linhas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"El ticket en el que estabas ha sido borrado.\",\n        },\n        notification: {\n          message: \"Mensaje de\",\n        },\n        tabs: {\n          open: { title: \"Bandeja\" },\n          closed: { title: \"Resueltos\" },\n          search: { title: \"Buscar\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets y mensajes.\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Escriba para buscar usuarios\",\n        noOptions: \"No se encontraron usuarios con ese nombre\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Cola\",\n        assignedHeader: \"Trabajando en\",\n        noTicketsTitle: \"¡Nada acá!\",\n        noTicketsMessage:\n          \"No se encontraron tickets con este estado o término de búsqueda\",\n        buttons: {\n          accept: \"Acceptar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Crear Ticket\",\n        fieldLabel: \"Escribe para buscar un contacto\",\n        add: \"Añadir\",\n        buttons: {\n          ok: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexiones\",\n          tickets: \"Tickets\",\n          contacts: \"Contactos\",\n          quickAnswers: \"Respuestas rápidas\",\n          queues: \"Linhas\",\n          administration: \"Administración\",\n          users: \"Usuarios\",\n          settings: \"Configuración\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Cerrar Sesión\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Sin notificaciones.\",\n      },\n      queues: {\n        title: \"Linhas\",\n        table: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greeting: \"Mensaje de saludo\",\n          actions: \"Comportamiento\",\n        },\n        buttons: {\n          add: \"Agregar cola\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Eliminar\",\n          deleteMessage:\n            \"¿Estás seguro? ¡Esta acción no se puede revertir! Los tickets en esa cola seguirán existiendo, pero ya no tendrán ninguna cola asignada.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Linhas\",\n      },\n      quickAnswers: {\n        title: \"Respuestas rápidas\",\n        table: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rápida\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar respuesta rápida\",\n        },\n        toasts: {\n          deleted: \"Respuesta rápida eliminada correctamente\",\n        },\n        searchPlaceholder: \"Buscar ...\",\n        confirmationModal: {\n          deleteTitle:\n            \"¿Está seguro de que desea eliminar esta respuesta rápida?\",\n          deleteMessage: \"Esta acción no se puede deshacer.\",\n        },\n      },\n      users: {\n        title: \"Usuarios\",\n        table: {\n          name: \"Nombre\",\n          email: \"Correo Electrónico\",\n          profile: \"Perfil\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar usuario\",\n        },\n        toasts: {\n          deleted: \"Usuario borrado satisfactoriamente.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage:\n            \"Toda la información del usuario se perderá. Los tickets abiertos de los usuarios se moverán a la cola.\",\n        },\n      },\n      settings: {\n        success: \"Configuración guardada satisfactoriamente.\",\n        title: \"Configuración\",\n        settings: {\n          userCreation: {\n            name: \"Creación de usuarios\",\n            options: {\n              enabled: \"Habilitado\",\n              disabled: \"Deshabilitado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Asignado a:\",\n          buttons: {\n            return: \"Devolver\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceptar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Escribe un mensaje\",\n        placeholderClosed:\n          \"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\n        signMessage: \"Firmar\",\n      },\n      contactDrawer: {\n        header: \"Detalles del contacto\",\n        buttons: {\n          edit: \"Editar contacto\",\n        },\n        extraInfo: \"Otra información\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Borrar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"¿Borrar ticket #\",\n          titleFrom: \"del contacto \",\n          message:\n            \"¡Atención! Todos los mensajes Todos los mensajes relacionados con el ticket se perderán.\",\n        },\n        buttons: {\n          delete: \"Borrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Borrar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"¿Borrar mensaje?\",\n          message: \"Esta acción no puede ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"Debe haber al menos una conexión de WhatsApp predeterminada.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No se encontró WhatsApp predeterminado. Verifique la página de conexiones.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesión de WhatsApp no ​​está inicializada. Verifique la página de conexiones.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No se pudo verificar el contacto de WhatsApp. Verifique la página de conexiones.\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no es un número de whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No se pudieron descargar los medios de WhatsApp. Verifique la página de conexiones.\",\n        ERR_INVALID_CREDENTIALS: \"Error de autenticación. Vuelva a intentarlo.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error al enviar el mensaje de WhatsApp. Verifique la página de conexiones.\",\n        ERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n        ERR_SESSION_EXPIRED: \"Sesión caducada. Inicie sesión.\",\n        ERR_USER_CREATION_DISABLED:\n          \"La creación de usuarios fue deshabilitada por el administrador.\",\n        ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\n        ERR_NO_SETTING_FOUND:\n          \"No se encontró ninguna configuración con este ID.\",\n        ERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con este ID.\",\n        ERR_NO_TICKET_FOUND: \"No se encontró ningún ticket con este ID.\",\n        ERR_NO_USER_FOUND: \"No se encontró ningún usuario con este ID.\",\n        ERR_NO_WAPP_FOUND: \"No se encontró WhatsApp con este ID.\",\n        ERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\n        ERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Este color ya está en uso, elija otro.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"El mensaje de saludo es obligatorio cuando hay más de una cola.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"en\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t}\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t}\n};\n\nexport default toastError;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport {\r\n\tDialog,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tButton,\r\n\tDialogActions,\r\n\tCircularProgress,\r\n\tTextField,\r\n\tSwitch,\r\n\tFormControlLabel,\r\n} from \"@material-ui/core\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelect from \"../QueueSelect\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\r\n\tmultFieldLine: {\r\n\t\tdisplay: \"flex\",\r\n\t\t\"& > *:not(:last-child)\": {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst SessionSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n});\r\n\r\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\r\n\tconst classes = useStyles();\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\tgreetingMessage: \"\",\r\n\t\tisDefault: false,\r\n\t};\r\n\tconst [whatsApp, setWhatsApp] = useState(initialState);\r\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchSession = async () => {\r\n\t\t\tif (!whatsAppId) return;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(`whatsapp/${whatsAppId}`);\r\n\t\t\t\tsetWhatsApp(data);\r\n\r\n\t\t\t\tconst whatsQueueIds = data.queues?.map(queue => queue.id);\r\n\t\t\t\tsetSelectedQueueIds(whatsQueueIds);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\t\tfetchSession();\r\n\t}, [whatsAppId]);\r\n\r\n\tconst handleSaveWhatsApp = async values => {\r\n\t\tconst whatsappData = { ...values, queueIds: selectedQueueIds };\r\n\r\n\t\ttry {\r\n\t\t\tif (whatsAppId) {\r\n\t\t\t\tawait api.put(`/whatsapp/${whatsAppId}`, whatsappData);\r\n\t\t\t} else {\r\n\t\t\t\tawait api.post(\"/whatsapp\", whatsappData);\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"whatsappModal.success\"));\r\n\t\t\thandleClose();\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetWhatsApp(initialState);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"sm\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle>\r\n\t\t\t\t\t{whatsAppId\r\n\t\t\t\t\t\t? i18n.t(\"whatsappModal.title.edit\")\r\n\t\t\t\t\t\t: i18n.t(\"whatsappModal.title.add\")}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={whatsApp}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={SessionSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveWhatsApp(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ values, touched, errors, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"isDefault\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.isDefault}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.default\")}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.greetingMessage\")}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"greetingMessage\"\r\n\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\trows={5}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tname=\"greetingMessage\"\r\n\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && Boolean(errors.greetingMessage)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\thelperText={\r\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && errors.greetingMessage\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<QueueSelect\r\n\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\r\n\t\t\t\t\t\t\t\t\tonChange={selectedIds => setSelectedQueueIds(selectedIds)}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"whatsappModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{whatsAppId\r\n\t\t\t\t\t\t\t\t\t\t? i18n.t(\"whatsappModal.buttons.okEdit\")\r\n\t\t\t\t\t\t\t\t\t\t: i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default React.memo(WhatsAppModal);\r\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React, { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport openSocket from \"socket.io-client\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n\tconst [qrCode, setQrCode] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\tif (!whatsAppId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/whatsapp/${whatsAppId}`);\n\t\t\t\tsetQrCode(data.qrcode);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, [whatsAppId]);\n\n\tuseEffect(() => {\n\t\tif (!whatsAppId) return;\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\" && data.session.id === whatsAppId) {\n\t\t\t\tsetQrCode(data.session.qrcode);\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && data.session.qrcode === \"\") {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [whatsAppId, onClose]);\n\n\treturn (\n\t\t<Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<DialogContent>\n\t\t\t\t<Paper elevation={0}>\n\t\t\t\t\t<Typography color=\"primary\" gutterBottom>\n\t\t\t\t\t\t{i18n.t(\"qrCode.message\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{qrCode ? (\n\t\t\t\t\t\t<QRCode value={qrCode} size={256} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>Waiting for QR Code</span>\n\t\t\t\t\t)}\n\t\t\t\t</Paper>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n\nexport default React.memo(QrcodeModal);\n","import { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"socket.io-client\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst reducer = (state, action) => {\n\tif (action.type === \"LOAD_WHATSAPPS\") {\n\t\tconst whatsApps = action.payload;\n\n\t\treturn [...whatsApps];\n\t}\n\n\tif (action.type === \"UPDATE_WHATSAPPS\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex] = whatsApp;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [whatsApp, ...state];\n\t\t}\n\t}\n\n\tif (action.type === \"UPDATE_SESSION\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex].status = whatsApp.status;\n\t\t\tstate[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n\t\t\tstate[whatsAppIndex].qrcode = whatsApp.qrcode;\n\t\t\tstate[whatsAppIndex].retries = whatsApp.retries;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [...state];\n\t\t}\n\t}\n\n\tif (action.type === \"DELETE_WHATSAPPS\") {\n\t\tconst whatsAppId = action.payload;\n\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsAppId);\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate.splice(whatsAppIndex, 1);\n\t\t}\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET\") {\n\t\treturn [];\n\t}\n};\n\nconst useWhatsApps = () => {\n\tconst [whatsApps, dispatch] = useReducer(reducer, []);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/whatsapp/\");\n\t\t\t\tdispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (err) {\n\t\t\t\tsetLoading(false);\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"delete\") {\n\t\t\t\tdispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\treturn { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","import { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport openSocket from \"socket.io-client\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useAuth = () => {\r\n\tconst history = useHistory();\r\n\tconst [isAuth, setIsAuth] = useState(false);\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [user, setUser] = useState({});\r\n\r\n\tapi.interceptors.request.use(\r\n\t\tconfig => {\r\n\t\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t\tif (token) {\r\n\t\t\t\tconfig.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\r\n\t\t\t\tsetIsAuth(true);\r\n\t\t\t}\r\n\t\t\treturn config;\r\n\t\t},\r\n\t\terror => {\r\n\t\t\tPromise.reject(error);\r\n\t\t}\r\n\t);\r\n\r\n\tapi.interceptors.response.use(\r\n\t\tresponse => {\r\n\t\t\treturn response;\r\n\t\t},\r\n\t\tasync error => {\r\n\t\t\tconst originalRequest = error.config;\r\n\t\t\tif (error?.response?.status === 403 && !originalRequest._retry) {\r\n\t\t\t\toriginalRequest._retry = true;\r\n\r\n\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\r\n\t\t\t\tif (data) {\r\n\t\t\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\r\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n\t\t\t\t}\r\n\t\t\t\treturn api(originalRequest);\r\n\t\t\t}\r\n\t\t\tif (error?.response?.status === 401) {\r\n\t\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\t\tapi.defaults.headers.Authorization = undefined;\r\n\t\t\t\tsetIsAuth(false);\r\n\t\t\t}\r\n\t\t\treturn Promise.reject(error);\r\n\t\t}\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst token = localStorage.getItem(\"token\");\r\n\t\t(async () => {\r\n\t\t\tif (token) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\r\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n\t\t\t\t\tsetIsAuth(true);\r\n\t\t\t\t\tsetUser(data.user);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\ttoastError(err);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tsetLoading(false);\r\n\t\t})();\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\r\n\t\tsocket.on(\"user\", data => {\r\n\t\t\tif (data.action === \"update\" && data.user.id === user.id) {\r\n\t\t\t\tsetUser(data.user);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn () => {\r\n\t\t\tsocket.disconnect();\r\n\t\t};\r\n\t}, [user]);\r\n\r\n\tconst handleLogin = async userData => {\r\n\t\tsetLoading(true);\r\n\r\n\t\ttry {\r\n\t\t\tconst { data } = await api.post(\"/auth/login\", userData);\r\n\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\r\n\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n\t\t\tsetUser(data.user);\r\n\t\t\tsetIsAuth(true);\r\n\t\t\ttoast.success(i18n.t(\"auth.toasts.success\"));\r\n\t\t\thistory.push(\"/tickets\");\r\n\t\t\tsetLoading(false);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleLogout = async () => {\r\n\t\tsetLoading(true);\r\n\r\n\t\ttry {\r\n\t\t\tawait api.delete(\"/auth/logout\");\r\n\t\t\tsetIsAuth(false);\r\n\t\t\tsetUser({});\r\n\t\t\tlocalStorage.removeItem(\"token\");\r\n\t\t\tapi.defaults.headers.Authorization = undefined;\r\n\t\t\tsetLoading(false);\r\n\t\t\thistory.push(\"/login\");\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t\tsetLoading(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn { isAuth, user, loading, handleLogin, handleLogout };\r\n};\r\n\r\nexport default useAuth;\r\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t// \"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t],\n\t},\n\n\tsuperadmin: {\n\t\tstatic: [\n\t\t\t\"drawer-superadmin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import React, { useState, useCallback, useContext } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n \r\nimport { toast } from \"react-toastify\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n\tButton,\r\n\tTableCell,\r\n\tTableBody,\r\n\tTooltip,\r\n\tTypography,\r\n\tCircularProgress,\r\n\r\n} from \"@material-ui/core\";\r\nimport {\r\n\tSignalCellularConnectedNoInternet2Bar,\r\n\tSignalCellularConnectedNoInternet0Bar,\r\n\tSignalCellular4Bar,\r\n\tCropFree,\r\n} from \"@material-ui/icons\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport api from \"../../services/api\";\r\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport QrcodeModal from \"../../components/QrcodeModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport useAuth from \"../../hooks/useAuth.js\";\r\nimport { Can } from \"../../components/Can\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcontainer: {\r\n\t\tpaddingTop: theme.spacing(4),\r\n\t\tpaddingBottom: theme.spacing(4),\r\n\t},\r\n\tfixedHeightPaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\toverflow: \"auto\",\r\n\t\tflexDirection: \"column\",\r\n\t\theight: 240,\r\n\t},\r\n\t// \r\n\tmainPaper: {\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(1),\r\n\t\toverflowY: \"scroll\",\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\tcustomTableCell: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\ttooltip: {\r\n\t\tbackgroundColor: \"#f5f5f9\",\r\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tborder: \"1px solid #dadde9\",\r\n\t\tmaxWidth: 450,\r\n\t},\r\n\ttooltipPopper: {\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t},\r\n\t// \r\n}));\r\n\r\n\r\n    const QR = () => {\r\n        const {user} = useAuth();\r\n        const classes = useStyles();\r\n        const [clientSerial] = useState(8)\r\n        const { whatsApps } = useContext(WhatsAppsContext);\r\n        const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\r\n        const [qrModalOpen, setQrModalOpen] = useState(false);\r\n        const [caseQrModalOpen, setCaseQrModalOpen] = useState(true);\r\n        const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\r\n        const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n        const confirmationModalInitialState = {\r\n            action: \"\",\r\n            title: \"\",\r\n            message: \"\",\r\n            whatsAppId: \"\",\r\n            open: false,\r\n        };\r\n        const [confirmModalInfo, setConfirmModalInfo] = useState(\r\n            confirmationModalInitialState\r\n        );\r\n    \r\n        const handleStartWhatsAppSession = async whatsAppId => {\r\n            try {\r\n                await api.post(`/whatsappsession/${whatsAppId}`);\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n        };\r\n    \r\n        const handleRequestNewQrCode = async whatsAppId => {\r\n            try {\r\n                await api.put(`/whatsappsession/${whatsAppId}`);\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n        };\r\n    \r\n    \r\n        const handleOpenQrModal = whatsApp => {\r\n            setCaseQrModalOpen(true)\r\n            setSelectedWhatsApp(whatsApp);\r\n            setQrModalOpen(true);\r\n        };\r\n    \r\n        const handleCloseQrModal = useCallback(() => {\r\n            console.log(\"end\")\r\n            console.log(qrModalOpen)\r\n            console.log(caseQrModalOpen)\r\n            setCaseQrModalOpen(false)\r\n            setSelectedWhatsApp(null);\r\n            setQrModalOpen(false);\r\n        }, [setQrModalOpen, setSelectedWhatsApp]);\r\n    \r\n    \r\n        const handleOpenConfirmationModal = (action, whatsAppId) => {\r\n            if (action === \"disconnect\") {\r\n                setConfirmModalInfo({\r\n                    action: action,\r\n                    title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\r\n                    message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\r\n                    whatsAppId: whatsAppId,\r\n                });\r\n            }\r\n    \r\n            if (action === \"delete\") {\r\n                setConfirmModalInfo({\r\n                    action: action,\r\n                    title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\r\n                    message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\r\n                    whatsAppId: whatsAppId,\r\n                });\r\n            }\r\n            setConfirmModalOpen(true);\r\n        };\r\n    \r\n        const handleSubmitConfirmationModal = async () => {\r\n            if (confirmModalInfo.action === \"disconnect\") {\r\n                try {\r\n                    await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\r\n                } catch (err) {\r\n                    toastError(err);\r\n                }\r\n            }\r\n    \r\n            if (confirmModalInfo.action === \"delete\") {\r\n                try {\r\n                    await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\r\n                    toast.success(i18n.t(\"connections.toasts.deleted\"));\r\n                } catch (err) {\r\n                    toastError(err);\r\n                }\r\n            }\r\n    \r\n            setConfirmModalInfo(confirmationModalInitialState);\r\n        };\r\n    \r\n        const renderActionButtons = whatsApp => {\r\n            return (\r\n                <>\r\n                    {whatsApp.status === \"qrcode\" && (\r\n                        <Button\r\n                            size=\"small\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => handleOpenQrModal(whatsApp)}\r\n                        >\r\n                            {\"Qr\"}\r\n                        </Button>\r\n                    )}\r\n                    {whatsApp.status === \"DISCONNECTED\" && (\r\n                        <>\r\n                            <Button\r\n                                size=\"small\"\r\n                                variant=\"outlined\"\r\n                                color=\"primary\"\r\n                                onClick={() => handleStartWhatsAppSession(whatsApp.id)}\r\n                            >\r\n                                {i18n.t(\"connections.buttons.tryAgain\")}\r\n                            </Button>{\" \"}\r\n                            <Button\r\n                                size=\"small\"\r\n                                variant=\"outlined\"\r\n                                color=\"secondary\"\r\n                                onClick={() => handleRequestNewQrCode(whatsApp.id)}\r\n                            >\r\n                                {i18n.t(\"connections.buttons.newQr\")}\r\n                            </Button>\r\n                        </>\r\n                    )}\r\n                    {(whatsApp.status === \"CONNECTED\" ||\r\n                        whatsApp.status === \"PAIRING\" ||\r\n                        whatsApp.status === \"TIMEOUT\") && (\r\n                        <Button\r\n                            size=\"small\"\r\n                            variant=\"outlined\"\r\n                            color=\"secondary\"\r\n                            onClick={() => {\r\n                                handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\r\n                            }}\r\n                        >\r\n                            {i18n.t(\"connections.buttons.disconnect\")}\r\n                        </Button>\r\n                    )}\r\n                    {whatsApp.status === \"OPENING\" && (\r\n                        <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\r\n                            {i18n.t(\"connections.buttons.connecting\")}\r\n                        </Button>\r\n                    )}\r\n                </>\r\n            );\r\n        };\r\n        const CustomToolTip = ({ title, content, children }) => {\r\n            const classes = useStyles();\r\n        \r\n            return (\r\n                <Tooltip\r\n                    arrow\r\n                    classes={{\r\n                        tooltip: classes.tooltip,\r\n                        popper: classes.tooltipPopper,\r\n                    }}\r\n                    title={\r\n                        <React.Fragment>\r\n                            <Typography gutterBottom color=\"inherit\">\r\n                                {title}\r\n                            </Typography>\r\n                            {content && <Typography>{content}</Typography>}\r\n                        </React.Fragment>\r\n                    }\r\n                >\r\n                    {children}\r\n                </Tooltip>\r\n            );\r\n        };\r\n    \r\n        const renderStatusToolTips = whatsApp => {\r\n            return (\r\n                <div className={classes.customTableCell}>\r\n                    {whatsApp.status === \"DISCONNECTED\" && (\r\n                        <CustomToolTip\r\n                            title={i18n.t(\"connections.toolTips.disconnected.title\")}\r\n                            content={i18n.t(\"connections.toolTips.disconnected.content\")}\r\n                        >\r\n                            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\r\n                        </CustomToolTip>\r\n                    )}\r\n                    {whatsApp.status === \"OPENING\" && (\r\n                        <CircularProgress size={24} className={classes.buttonProgress} />\r\n                    )}\r\n                    {whatsApp.status === \"qrcode\" && (\r\n                        <CustomToolTip\r\n                            title={i18n.t(\"connections.toolTips.qrcode.title\")}\r\n                            content={i18n.t(\"connections.toolTips.qrcode.content\")}\r\n                        >\r\n                            <CropFree />\r\n                        </CustomToolTip>\r\n                    )}\r\n                    {whatsApp.status === \"CONNECTED\" && (\r\n                        <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\r\n                            <SignalCellular4Bar style={{ color: green[500] }} />\r\n                        </CustomToolTip>\r\n                    )}\r\n                    {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\r\n                        <CustomToolTip\r\n                            title={i18n.t(\"connections.toolTips.timeout.title\")}\r\n                            content={i18n.t(\"connections.toolTips.timeout.content\")}\r\n                        >\r\n                            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\r\n                        </CustomToolTip>\r\n                    )}\r\n                </div>\r\n            );\r\n        };\r\n        const handalSerial = () =>{\r\n            return whatsApps.findIndex(ClientID => ClientID.id === clientSerial)\r\n        }\r\n        return(\r\n            <div>\r\n                \r\n\t\t\t<MainContainer>\r\n\t\t\t\t<ConfirmationModal\r\n\t\t\t\t\ttitle={confirmModalInfo.title}\r\n\t\t\t\t\topen={confirmModalOpen}\r\n\t\t\t\t\tonClose={setConfirmModalOpen}\r\n\t\t\t\t\tonConfirm={handleSubmitConfirmationModal}\r\n\t\t\t\t>\r\n\t\t\t\t\t{confirmModalInfo.message}\r\n\t\t\t\t</ConfirmationModal>\r\n\t\t\t\t<QrcodeModal\r\n\t\t\t\t\topen={qrModalOpen}\r\n\t\t\t\t\tonClose={handleCloseQrModal}\r\n\t\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\r\n                <Can\r\n\t\t\t\t\trole={user.profile}\r\n\t\t\t\t\tperform=\"drawer-admin-items:view\"\r\n\t\t\t\t\tyes={() => (\r\n\t\t\t\t\t<>             \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tuser.profile === 'admin' ?\r\n\t\t\t\t\t\t\twhatsApps[handalSerial()].status === 'qrcode' ?\r\n\t\t\t\t\t\t\t\thandleOpenQrModal(whatsApps[handalSerial()])\r\n\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t: null\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n                    {\r\n                        user.profile === 'admin' ?\r\n                            caseQrModalOpen === false ? handleCloseQrModal()\r\n                            : null\r\n                        : null\t\r\n                       \r\n                    }\r\n\t\t\t\t\t{console.log(whatsApps[handalSerial()].status)}\r\n\t\t\t\t\t<TableBody style={{justifyContent:'right'}}>\r\n\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t{renderStatusToolTips(whatsApps[handalSerial()])}\r\n\t\t\t\t\t\t</TableCell> \r\n\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\r\n\t\t\t\t\t\t\t\trenderActionButtons(whatsApps[handalSerial()])\r\n\t\t\t\t\t\t\t} \r\n                            \r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</TableBody>\r\n\r\n                \r\n\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n               />\r\n\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t</MainContainer>\r\n\t\t\r\n            </div>\r\n        )\r\n    }\r\n\r\n    export default QR ;","import React, { createContext } from \"react\";\r\n\r\nimport useAuth from \"../../hooks/useAuth.js\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nconst AuthProvider = ({ children }) => {\r\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider\r\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { AuthContext, AuthProvider };\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\n\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport { Badge } from \"@material-ui/core\";\r\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\r\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\r\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\r\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\r\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\r\nimport QuestionAnswerOutlinedIcon from \"@material-ui/icons/QuestionAnswerOutlined\";\r\n\r\nimport { i18n } from \"../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport { Can } from \"../components/Can\";\r\n\r\nfunction ListItemLink(props) {\r\n  const { icon, primary, to, className } = props;\r\n\r\n  const renderLink = React.useMemo(\r\n    () =>\r\n      React.forwardRef((itemProps, ref) => (\r\n        <RouterLink to={to} ref={ref} {...itemProps} />\r\n      )),\r\n    [to]\r\n  );\r\n\r\n  return (\r\n    <li>\r\n      <ListItem button component={renderLink} className={className}>\r\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\r\n        <ListItemText primary={primary} />\r\n      </ListItem>\r\n    </li>\r\n  );\r\n}\r\n\r\nconst MainListItems = (props) => {\r\n  const { drawerClose } = props;\r\n  const { whatsApps } = useContext(WhatsAppsContext);\r\n  const { user } = useContext(AuthContext);\r\n  const [connectionWarning, setConnectionWarning] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const delayDebounceFn = setTimeout(() => {\r\n      if (whatsApps.length > 0) {\r\n        const offlineWhats = whatsApps.filter((whats) => {\r\n          return (\r\n            whats.status === \"qrcode\" ||\r\n            whats.status === \"PAIRING\" ||\r\n            whats.status === \"DISCONNECTED\" ||\r\n            whats.status === \"TIMEOUT\" ||\r\n            whats.status === \"OPENING\"\r\n          );\r\n        });\r\n        if (offlineWhats.length > 0) {\r\n          setConnectionWarning(true);\r\n        } else {\r\n          setConnectionWarning(false);\r\n        }\r\n      }\r\n    }, 2000);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [whatsApps]);\r\n\r\n  return (\r\n    <div onClick={drawerClose}>\r\n      <Can\r\n        role={user.profile}\r\n        perform=\"drawer-superadmin-items:view\"\r\n        yes={() => (\r\n          <>\r\n            <ListSubheader inset>\r\n              {i18n.t(\"mainDrawer.listItems.administration\")}\r\n            </ListSubheader>\r\n            <ListItemLink\r\n              to=\"/\"\r\n              primary=\"Dashboard\"\r\n              icon={<DashboardOutlinedIcon />}\r\n            />\r\n            <ListItemLink\r\n              to=\"/connections\"\r\n              primary={i18n.t(\"mainDrawer.listItems.connections\")}\r\n              icon={\r\n                <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\r\n                  <SyncAltIcon />\r\n                </Badge>\r\n              }\r\n            />\r\n            <ListItemLink\r\n              to=\"/users\"\r\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\r\n              icon={<PeopleAltOutlinedIcon />}\r\n            />\r\n            <ListItemLink\r\n              to=\"/queues\"\r\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\r\n              icon={<AccountTreeOutlinedIcon />}\r\n            />\r\n            <ListItemLink\r\n              to=\"/settings\"\r\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\r\n              icon={<SettingsOutlinedIcon />}\r\n            />\r\n            <ListItemLink\r\n              to=\"/clientapi\"\r\n              primary=\"clientapi\"\r\n              icon={<ContactPhoneOutlinedIcon />}\r\n            />\r\n            <Divider />\r\n          </>\r\n        )}\r\n      />\r\n\r\n      <Can\r\n        role={user.profile}\r\n        perform=\"drawer-admin-items:view\"\r\n        yes={() => (\r\n          <>\r\n            <ListSubheader inset>\r\n              {i18n.t(\"mainDrawer.listItems.administration\")}\r\n            </ListSubheader>\r\n            <ListItemLink\r\n              to=\"/\"\r\n              primary=\"Dashboard\"\r\n              icon={<DashboardOutlinedIcon />}\r\n            />\r\n\r\n            <ListItemLink\r\n              to=\"/users\"\r\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\r\n              icon={<PeopleAltOutlinedIcon />}\r\n            />\r\n            <ListItemLink\r\n              to=\"/clientapi\"\r\n              primary=\"API\"\r\n              icon={<ContactPhoneOutlinedIcon />}\r\n            />\r\n            <Divider />\r\n          </>\r\n        )}\r\n      />\r\n\r\n      <ListItemLink\r\n        to=\"/tickets\"\r\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\r\n        icon={<WhatsAppIcon />}\r\n      />\r\n\r\n      <ListItemLink\r\n        to=\"/contacts\"\r\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\r\n        icon={<ContactPhoneOutlinedIcon />}\r\n      />\r\n\r\n      <ListItemLink\r\n        to=\"/quickAnswers\"\r\n        primary={i18n.t(\"mainDrawer.listItems.quickAnswers\")}\r\n        icon={<QuestionAnswerOutlinedIcon />}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainListItems;\r\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\tticket: {\n\t\tposition: \"relative\",\n\t},\n\n\tpendingTicket: {\n\t\tcursor: \"unset\",\n\t},\n\n\tnoTicketsDiv: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100px\",\n\t\tmargin: 40,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\n\tnoTicketsText: {\n\t\ttextAlign: \"center\",\n\t\tcolor: \"rgb(104, 121, 146)\",\n\t\tfontSize: \"14px\",\n\t\tlineHeight: \"1.4\",\n\t},\n\n\tnoTicketsTitle: {\n\t\ttextAlign: \"center\",\n\t\tfontSize: \"16px\",\n\t\tfontWeight: \"600\",\n\t\tmargin: \"0px\",\n\t},\n\n\tcontactNameWrapper: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\n\tlastMessageTime: {\n\t\tjustifySelf: \"flex-end\",\n\t},\n\n\tclosedBadge: {\n\t\talignSelf: \"center\",\n\t\tjustifySelf: \"flex-end\",\n\t\tmarginRight: 32,\n\t\tmarginLeft: \"auto\",\n\t},\n\n\tcontactLastMessage: {\n\t\tpaddingRight: 20,\n\t},\n\n\tnewMessagesCount: {\n\t\talignSelf: \"center\",\n\t\tmarginRight: 8,\n\t\tmarginLeft: \"auto\",\n\t},\n\n\tbadgeStyle: {\n\t\tcolor: \"white\",\n\t\tbackgroundColor: green[500],\n\t},\n\n\tacceptButton: {\n\t\tposition: \"absolute\",\n\t\tleft: \"50%\",\n\t},\n\n\tticketQueueColor: {\n\t\tflex: \"none\",\n\t\twidth: \"8px\",\n\t\theight: \"100%\",\n\t\tposition: \"absolute\",\n\t\ttop: \"0%\",\n\t\tleft: \"0%\",\n\t},\n}));\n\nconst TicketListItem = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [loading, setLoading] = useState(false);\n\tconst { ticketId } = useParams();\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleAcepptTicket = async id => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${id}`, {\n\t\t\t\tstatus: \"open\",\n\t\t\t\tuserId: user?.id,\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t\tif (isMounted.current) {\n\t\t\tsetLoading(false);\n\t\t}\n\t\thistory.push(`/tickets/${id}`);\n\t};\n\n\tconst handleSelectTicket = id => {\n\t\thistory.push(`/tickets/${id}`);\n\t};\n\n\treturn (\n\t\t<React.Fragment key={ticket.id}>\n\t\t\t<ListItem\n\t\t\t\tdense\n\t\t\t\tbutton\n\t\t\t\tonClick={e => {\n\t\t\t\t\tif (ticket.status === \"pending\") return;\n\t\t\t\t\thandleSelectTicket(ticket.id);\n\t\t\t\t}}\n\t\t\t\tselected={ticketId && +ticketId === ticket.id}\n\t\t\t\tclassName={clsx(classes.ticket, {\n\t\t\t\t\t[classes.pendingTicket]: ticket.status === \"pending\",\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<Tooltip\n\t\t\t\t\tarrow\n\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\ttitle={ticket.queue?.name || \"Sem fila\"}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }}\n\t\t\t\t\t\tclassName={classes.ticketQueueColor}\n\t\t\t\t\t></span>\n\t\t\t\t</Tooltip>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Avatar src={ticket?.contact?.profilePicUrl} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tdisableTypography\n\t\t\t\t\tprimary={\n\t\t\t\t\t\t<span className={classes.contactNameWrapper}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.contact.name}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tclassName={classes.closedBadge}\n\t\t\t\t\t\t\t\t\tbadgeContent={\"closed\"}\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{ticket.lastMessage && (\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tclassName={classes.lastMessageTime}\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n\t\t\t\t\t\t\t\t\t\t<>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\tsecondary={\n\t\t\t\t\t\t<span className={classes.contactNameWrapper}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tclassName={classes.contactLastMessage}\n\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.lastMessage ? (\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tclassName={classes.newMessagesCount}\n\t\t\t\t\t\t\t\tbadgeContent={ticket.unreadMessages}\n\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\tbadge: classes.badgeStyle,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tclassName={classes.acceptButton}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tonClick={e => handleAcepptTicket(ticket.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"ticketsList.buttons.accept\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t)}\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" component=\"li\" />\n\t\t</React.Fragment>\n\t);\n};\n\nexport default TicketListItem;\n","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n\tsearchParam,\n\tpageNumber,\n\tstatus,\n\tdate,\n\tshowAll,\n\tqueueIds,\n\twithUnreadMessages,\n}) => {\n\tconst [loading, setLoading] = useState(true);\n\tconst [hasMore, setHasMore] = useState(false);\n\tconst [tickets, setTickets] = useState([]);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchTickets = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/tickets\", {\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tsearchParam,\n\t\t\t\t\t\t\tpageNumber,\n\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\tdate,\n\t\t\t\t\t\t\tshowAll,\n\t\t\t\t\t\t\tqueueIds,\n\t\t\t\t\t\t\twithUnreadMessages,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tsetTickets(data.tickets);\n\t\t\t\t\tsetHasMore(data.hasMore);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\t\t\tfetchTickets();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [\n\t\tsearchParam,\n\t\tpageNumber,\n\t\tstatus,\n\t\tdate,\n\t\tshowAll,\n\t\tqueueIds,\n\t\twithUnreadMessages,\n\t]);\n\n\treturn { tickets, loading, hasMore };\n};\n\nexport default useTickets;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport openSocket from \"socket.io-client\";\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = () => {\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\n\tconst [play] = useSound(alertSound);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tsetNotifications(tickets);\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"connect\", () => socket.emit(\"joinNotification\"));\n\n\t\tsocket.on(\"ticket\", data => {\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\n\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t);\n\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"appMessage\", data => {\n\t\t\tif (\n\t\t\t\tdata.action === \"create\" &&\n\t\t\t\t!data.message.read &&\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId)\n\t\t\t) {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t});\n\n\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\tdata.ticket.isGroup;\n\n\t\t\t\tif (shouldNotNotificate) return;\n\n\t\t\t\thandleNotifications(data);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.profilePicUrl,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\thistoryRef.current.push(`/tickets/${ticket.id}`);\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tbuttonRef={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t>\n\t\t\t\t<Badge badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\",\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, queueIds: selectedQueueIds };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tconsole.log(userData)\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"superadmin\">Super Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport clsx from \"clsx\";\r\n\r\nimport {\r\n  makeStyles,\r\n  Drawer,\r\n  AppBar,\r\n  Toolbar,\r\n  List,\r\n  Typography,\r\n  Divider,\r\n  MenuItem,\r\n  IconButton,\r\n  Menu,\r\n} from \"@material-ui/core\";\r\n\r\nimport QR from \"../pages/QR\"\r\n\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nimport MainListItems from \"./MainListItems\";\r\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\r\nimport UserModal from \"../components/UserModal\";\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport BackdropLoading from \"../components/BackdropLoading\";\r\nimport { i18n } from \"../translate/i18n\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100vh\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      height: \"calc(100vh - 56px)\",\r\n    },\r\n  },\r\n\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"flex-end\",\r\n    padding: \"0 8px\",\r\n    minHeight: \"48px\",\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: {\r\n    minHeight: \"48px\",\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    overflow: \"auto\",\r\n    marginTop:\"30px\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n  },\r\n}));\r\n\r\nconst LoggedInLayout = ({ children }) => {\r\n  const classes = useStyles();\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const { handleLogout, loading } = useContext(AuthContext);\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\r\n  const { user } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    if (document.body.offsetWidth > 600) {\r\n      setDrawerOpen(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (document.body.offsetWidth < 600) {\r\n      setDrawerVariant(\"temporary\");\r\n    } else {\r\n      setDrawerVariant(\"permanent\");\r\n    }\r\n  }, [drawerOpen]);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuOpen(true);\r\n  };\r\n\r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n    setMenuOpen(false);\r\n  };\r\n\r\n  const handleOpenUserModal = () => {\r\n    setUserModalOpen(true);\r\n    handleCloseMenu();\r\n  };\r\n\r\n  const handleClickLogout = () => {\r\n    handleCloseMenu();\r\n    handleLogout();\r\n  };\r\n\r\n  const drawerClose = () => {\r\n    if (document.body.offsetWidth < 600) {\r\n      setDrawerOpen(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <BackdropLoading />;\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Drawer\r\n        variant={drawerVariant}\r\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\r\n        classes={{\r\n          paper: clsx(\r\n            classes.drawerPaper,\r\n            !drawerOpen && classes.drawerPaperClose\r\n          ),\r\n        }}\r\n        open={drawerOpen}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <MainListItems drawerClose={drawerClose} />\r\n        </List>\r\n        <Divider />\r\n      </Drawer>\r\n      <UserModal\r\n        open={userModalOpen}\r\n        onClose={() => setUserModalOpen(false)}\r\n        userId={user?.id}\r\n      />\r\n      <AppBar\r\n        position=\"absolute\"\r\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\r\n        color={process.env.NODE_ENV === \"development\" ? \"inherit\" : \"primary\"}\r\n      >\r\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={() => setDrawerOpen(!drawerOpen)}\r\n            className={clsx(\r\n              classes.menuButton,\r\n              drawerOpen && classes.menuButtonHidden\r\n            )}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography\r\n            component=\"h1\"\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n            thinkvolc\r\n          </Typography>\r\n\r\n          <QR />\r\n          \r\n          {user.id && <NotificationsPopOver />}\r\n          <div>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"menu-appbar\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMenu}\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              getContentAnchorEl={null}\r\n              anchorOrigin={{\r\n                vertical: \"bottom\",\r\n                horizontal: \"right\",\r\n              }}\r\n              transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              open={menuOpen}\r\n              onClose={handleCloseMenu}\r\n            >\r\n              <MenuItem onClick={handleOpenUserModal}>\r\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\r\n              </MenuItem>\r\n              <MenuItem onClick={handleClickLogout}>\r\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n\r\n        {children ? children : null}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoggedInLayout;\r\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tBarChart,\n\tCartesianGrid,\n\tBar,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = () => {\n\tconst theme = useTheme();\n\n\tconst date = useRef(new Date().toISOString());\n\tconst { tickets } = useTickets({ date: date.current });\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData(prevState => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach(a => {\n\t\t\t\ttickets.forEach(ticket => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time &&\n\t\t\t\t\t\ta.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${i18n.t(\"dashboard.charts.perDay.title\")}${\n\t\t\t\ttickets.length\n\t\t\t}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<BarChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tbarSize={40}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tleft: 24,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{ textAnchor: \"middle\", fill: theme.palette.text.primary }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Bar dataKey=\"amount\" fill={theme.palette.primary.main} />\n\t\t\t\t</BarChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n","import React from \"react\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Chart from \"./Chart\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcontainer: {\r\n\t\tpaddingTop: theme.spacing(4),\r\n\t\tpaddingBottom: theme.spacing(4),\r\n\t},\r\n\tfixedHeightPaper: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tdisplay: \"flex\",\r\n\t\toverflow: \"auto\",\r\n\t\tflexDirection: \"column\",\r\n\t\theight: 240,\r\n\t},\r\n}));\r\n\r\nconst Dashboard = () => {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Container maxWidth=\"lg\" className={classes.container}>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t<Paper className={classes.fixedHeightPaper}>\r\n\t\t\t\t\t\t\t<Chart />\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Container>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Dashboard;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\r\n\textraAttr: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\r\n\temail: Yup.string().email(\"Invalid email\"),\r\n});\r\n\r\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\r\n\tconst classes = useStyles();\r\n\tconst isMounted = useRef(true);\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\tnumber: \"\",\r\n\t\temail: \"\",\r\n\t};\r\n\r\n\tconst [contact, setContact] = useState(initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchContact = async () => {\r\n\t\t\tif (initialValues) {\r\n\t\t\t\tsetContact(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...initialValues };\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (!contactId) return;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\r\n\t\t\t\tif (isMounted.current) {\r\n\t\t\t\t\tsetContact(data);\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchContact();\r\n\t}, [contactId, open, initialValues]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetContact(initialState);\r\n\t};\r\n\r\n\tconst handleSaveContact = async values => {\r\n\t\ttry {\r\n\t\t\tif (contactId) {\r\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\r\n\t\t\t\thandleClose();\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\r\n\t\t\t\tif (onSave) {\r\n\t\t\t\t\tonSave(data);\r\n\t\t\t\t}\r\n\t\t\t\thandleClose();\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{contactId\r\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\r\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={contact}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ContactSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveContact(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\r\n\t\t\t\t\t\t\t\t\tname=\"number\"\r\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\r\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\r\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</FieldArray>\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{contactId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ContactModal;\r\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst filter = createFilterOptions({\n\ttrim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose }) => {\n\tconst history = useHistory();\n\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t};\n\n\tconst handleSaveTicket = async contactId => {\n\t\tif (!contactId) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst { data: ticket } = await api.post(\"/tickets\", {\n\t\t\t\tcontactId: contactId,\n\t\t\t\tuserId: user.id,\n\t\t\t\tstatus: \"open\",\n\t\t\t});\n\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetLoading(false);\n\t\thandleClose();\n\t};\n\n\tconst handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n\tconst handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n\tconst handleAddNewContactTicket = contact => {\n\t\thandleSaveTicket(contact.id);\n\t};\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst renderOption = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${option.name}`;\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t\tonSave={handleAddNewContactTicket}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"newTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstyle={{ width: 300 }}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\thandleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact}\n\t\t\t\t\t\tonClick={() => handleSaveTicket(selectedContact.id)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default NewTicketModal;\n","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { ListSubheader } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketsListWrapper: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflow: \"hidden\",\n\t\tborderTopRightRadius: 0,\n\t\tborderBottomRightRadius: 0,\n\t},\n\n\tticketsList: {\n\t\tflex: 1,\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t\tborderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n\t},\n\n\tticketsListHeader: {\n\t\tcolor: \"rgb(67, 83, 105)\",\n\t\tzIndex: 2,\n\t\tbackgroundColor: \"white\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\n\tticketsCount: {\n\t\tfontWeight: \"normal\",\n\t\tcolor: \"rgb(104, 121, 146)\",\n\t\tmarginLeft: \"8px\",\n\t\tfontSize: \"14px\",\n\t},\n\n\tnoTicketsText: {\n\t\ttextAlign: \"center\",\n\t\tcolor: \"rgb(104, 121, 146)\",\n\t\tfontSize: \"14px\",\n\t\tlineHeight: \"1.4\",\n\t},\n\n\tnoTicketsTitle: {\n\t\ttextAlign: \"center\",\n\t\tfontSize: \"16px\",\n\t\tfontWeight: \"600\",\n\t\tmargin: \"0px\",\n\t},\n\n\tnoTicketsDiv: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100px\",\n\t\tmargin: 40,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst reducer = (state, action) => {\n\tif (action.type === \"LOAD_TICKETS\") {\n\t\tconst newTickets = action.payload;\n\n\t\tnewTickets.forEach(ticket => {\n\t\t\tconst ticketIndex = state.findIndex(t => t.id === ticket.id);\n\t\t\tif (ticketIndex !== -1) {\n\t\t\t\tstate[ticketIndex] = ticket;\n\t\t\t\tif (ticket.unreadMessages > 0) {\n\t\t\t\t\tstate.unshift(state.splice(ticketIndex, 1)[0]);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstate.push(ticket);\n\t\t\t}\n\t\t});\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET_UNREAD\") {\n\t\tconst ticketId = action.payload;\n\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticketId);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex].unreadMessages = 0;\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"UPDATE_TICKET\") {\n\t\tconst ticket = action.payload;\n\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticket.id);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex] = ticket;\n\t\t} else {\n\t\t\tstate.unshift(ticket);\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n\t\tconst ticket = action.payload;\n\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticket.id);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex] = ticket;\n\t\t\tstate.unshift(state.splice(ticketIndex, 1)[0]);\n\t\t} else {\n\t\t\tstate.unshift(ticket);\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"UPDATE_TICKET_CONTACT\") {\n\t\tconst contact = action.payload;\n\t\tconst ticketIndex = state.findIndex(t => t.contactId === contact.id);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate[ticketIndex].contact = contact;\n\t\t}\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"DELETE_TICKET\") {\n\t\tconst ticketId = action.payload;\n\t\tconst ticketIndex = state.findIndex(t => t.id === ticketId);\n\t\tif (ticketIndex !== -1) {\n\t\t\tstate.splice(ticketIndex, 1);\n\t\t}\n\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET\") {\n\t\treturn [];\n\t}\n};\n\nconst TicketsList = ({ status, searchParam, showAll, selectedQueueIds }) => {\n\tconst classes = useStyles();\n\tconst [pageNumber, setPageNumber] = useState(1);\n\tconst [ticketsList, dispatch] = useReducer(reducer, []);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tdispatch({ type: \"RESET\" });\n\t\tsetPageNumber(1);\n\t}, [status, searchParam, dispatch, showAll, selectedQueueIds]);\n\n\tconst { tickets, hasMore, loading } = useTickets({\n\t\tpageNumber,\n\t\tsearchParam,\n\t\tstatus,\n\t\tshowAll,\n\t\tqueueIds: JSON.stringify(selectedQueueIds),\n\t});\n\n\tuseEffect(() => {\n\t\tif (!status && !searchParam) return;\n\t\tdispatch({\n\t\t\ttype: \"LOAD_TICKETS\",\n\t\t\tpayload: tickets,\n\t\t});\n\t}, [tickets, status, searchParam]);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tconst shouldUpdateTicket = ticket =>\n\t\t\t(!ticket.userId || ticket.userId === user?.id || showAll) &&\n\t\t\t(!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n\t\tconst notBelongsToUserQueues = ticket =>\n\t\t\tticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n\t\tsocket.on(\"connect\", () => {\n\t\t\tif (status) {\n\t\t\t\tsocket.emit(\"joinTickets\", status);\n\t\t\t} else {\n\t\t\t\tsocket.emit(\"joinNotification\");\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"ticket\", data => {\n\t\t\tif (data.action === \"updateUnread\") {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"RESET_UNREAD\",\n\t\t\t\t\tpayload: data.ticketId,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"UPDATE_TICKET\",\n\t\t\t\t\tpayload: data.ticket,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n\t\t\t\tdispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n\t\t\t}\n\n\t\t\tif (data.action === \"delete\") {\n\t\t\t\tdispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"appMessage\", data => {\n\t\t\tif (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n\t\t\t\t\tpayload: data.ticket,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"contact\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: \"UPDATE_TICKET_CONTACT\",\n\t\t\t\t\tpayload: data.contact,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [status, showAll, user, selectedQueueIds]);\n\n\tconst loadMore = () => {\n\t\tsetPageNumber(prevState => prevState + 1);\n\t};\n\n\tconst handleScroll = e => {\n\t\tif (!hasMore || loading) return;\n\n\t\tconst { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n\t\tif (scrollHeight - (scrollTop + 100) < clientHeight) {\n\t\t\tloadMore();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.ticketsListWrapper}>\n\t\t\t<Paper\n\t\t\t\tsquare\n\t\t\t\tname=\"closed\"\n\t\t\t\televation={0}\n\t\t\t\tclassName={classes.ticketsList}\n\t\t\t\tonScroll={handleScroll}\n\t\t\t>\n\t\t\t\t<List style={{ paddingTop: 0 }}>\n\t\t\t\t\t{status === \"open\" && (\n\t\t\t\t\t\t<ListSubheader className={classes.ticketsListHeader}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketsList.assignedHeader\")}\n\t\t\t\t\t\t\t\t<span className={classes.ticketsCount}>\n\t\t\t\t\t\t\t\t\t{ticketsList.length}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t)}\n\t\t\t\t\t{status === \"pending\" && (\n\t\t\t\t\t\t<ListSubheader className={classes.ticketsListHeader}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketsList.pendingHeader\")}\n\t\t\t\t\t\t\t\t<span className={classes.ticketsCount}>\n\t\t\t\t\t\t\t\t\t{ticketsList.length}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t)}\n\t\t\t\t\t{ticketsList.length === 0 && !loading ? (\n\t\t\t\t\t\t<div className={classes.noTicketsDiv}>\n\t\t\t\t\t\t\t<span className={classes.noTicketsTitle}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketsList.noTicketsTitle\")}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<p className={classes.noTicketsText}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketsList.noTicketsMessage\")}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t{ticketsList.map(ticket => (\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} key={ticket.id} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t\t{loading && <TicketsListSkeleton />}\n\t\t\t\t</List>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default TicketsList;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\r\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\n\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\nimport NewTicketModal from \"../NewTicketModal\";\r\nimport TicketsList from \"../TicketsList\";\r\nimport TabPanel from \"../TabPanel\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../Can\";\r\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  ticketsWrapper: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n  },\r\n\r\n  tabsHeader: {\r\n    flex: \"none\",\r\n    backgroundColor: \"#eee\",\r\n  },\r\n\r\n  settingsIcon: {\r\n    alignSelf: \"center\",\r\n    marginLeft: \"auto\",\r\n    padding: 8,\r\n  },\r\n\r\n  tab: {\r\n    minWidth: 120,\r\n    width: 120,\r\n  },\r\n\r\n  ticketOptionsBox: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    background: \"#fafafa\",\r\n    padding: theme.spacing(1),\r\n  },\r\n\r\n  serachInputWrapper: {\r\n    flex: 1,\r\n    background: \"#fff\",\r\n    display: \"flex\",\r\n    borderRadius: 40,\r\n    padding: 4,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n\r\n  searchIcon: {\r\n    color: \"grey\",\r\n    marginLeft: 6,\r\n    marginRight: 6,\r\n    alignSelf: \"center\",\r\n  },\r\n\r\n  searchInput: {\r\n    flex: 1,\r\n    border: \"none\",\r\n    borderRadius: 30,\r\n  },\r\n}));\r\n\r\nconst TicketsManager = () => {\r\n  const classes = useStyles();\r\n\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [tab, setTab] = useState(\"open\");\r\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n  const [showAllTickets, setShowAllTickets] = useState(false);\r\n  const searchInputRef = useRef();\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const userQueueIds = user.queues.map((q) => q.id);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\r\n\r\n  useEffect(() => {\r\n    if (tab === \"search\") {\r\n      searchInputRef.current.focus();\r\n    }\r\n  }, [tab]);\r\n\r\n  let searchTimeout;\r\n\r\n  const handleSearch = (e) => {\r\n    const searchedTerm = e.target.value.toLowerCase();\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (searchedTerm === \"\") {\r\n      setSearchParam(searchedTerm);\r\n      setTab(\"open\");\r\n      return;\r\n    }\r\n\r\n    searchTimeout = setTimeout(() => {\r\n      setSearchParam(searchedTerm);\r\n    }, 500);\r\n  };\r\n\r\n  const handleChangeTab = (e, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  return (\r\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\r\n      <NewTicketModal\r\n        modalOpen={newTicketModalOpen}\r\n        onClose={(e) => setNewTicketModalOpen(false)}\r\n      />\r\n      <Paper elevation={0} square className={classes.tabsHeader}>\r\n        <Tabs\r\n          value={tab}\r\n          onChange={handleChangeTab}\r\n          variant=\"fullWidth\"\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          aria-label=\"icon label tabs example\"\r\n        >\r\n          <Tab\r\n            value={\"open\"}\r\n            icon={<MoveToInboxIcon />}\r\n            label={i18n.t(\"tickets.tabs.open.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n          <Tab\r\n            value={\"closed\"}\r\n            icon={<CheckBoxIcon />}\r\n            label={i18n.t(\"tickets.tabs.closed.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n          <Tab\r\n            value={\"search\"}\r\n            icon={<SearchIcon />}\r\n            label={i18n.t(\"tickets.tabs.search.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n        </Tabs>\r\n      </Paper>\r\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\r\n        {tab === \"search\" ? (\r\n          <div className={classes.serachInputWrapper}>\r\n            <SearchIcon className={classes.searchIcon} />\r\n            <InputBase\r\n              className={classes.searchInput}\r\n              inputRef={searchInputRef}\r\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\r\n              type=\"search\"\r\n              onChange={handleSearch}\r\n            />\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <Button\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              onClick={() => setNewTicketModalOpen(true)}\r\n            >\r\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\r\n            </Button>\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"tickets-manager:showall\"\r\n              yes={() => (\r\n                <FormControlLabel\r\n                  label={i18n.t(\"tickets.buttons.showAll\")}\r\n                  labelPlacement=\"start\"\r\n                  control={\r\n                    <Switch\r\n                      size=\"small\"\r\n                      checked={showAllTickets}\r\n                      onChange={() =>\r\n                        setShowAllTickets((prevState) => !prevState)\r\n                      }\r\n                      name=\"showAllTickets\"\r\n                      color=\"primary\"\r\n                    />\r\n                  }\r\n                />\r\n              )}\r\n            />\r\n          </>\r\n        )}\r\n        <TicketsQueueSelect\r\n          style={{ marginLeft: 6 }}\r\n          selectedQueueIds={selectedQueueIds}\r\n          userQueues={user?.queues}\r\n          onChange={(values) => setSelectedQueueIds(values)}\r\n        />\r\n      </Paper>\r\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\r\n        <TicketsList\r\n          status=\"open\"\r\n          showAll={showAllTickets}\r\n          selectedQueueIds={selectedQueueIds}\r\n        />\r\n        <TicketsList status=\"pending\" selectedQueueIds={selectedQueueIds} />\r\n      </TabPanel>\r\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\r\n        <TicketsList\r\n          status=\"closed\"\r\n          showAll={true}\r\n          selectedQueueIds={selectedQueueIds}\r\n        />\r\n      </TabPanel>\r\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\r\n        <TicketsList\r\n          searchParam={searchParam}\r\n          showAll={true}\r\n          selectedQueueIds={selectedQueueIds}\r\n        />\r\n      </TabPanel>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default TicketsManager;\r\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Skeleton\n\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\twidth={160}\n\t\t\t\t\theight={160}\n\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t/>\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactModal from \"../ContactModal\";\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: \"#eee\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 160,\n\t\theight: 160,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\n\treturn (\n\t\t<Drawer\n\t\t\tclassName={classes.drawer}\n\t\t\tvariant=\"persistent\"\n\t\t\tanchor=\"right\"\n\t\t\topen={open}\n\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\tModalProps={{\n\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t}}\n\t\t\tclasses={{\n\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t}}\n\t\t>\n\t\t\t<div className={classes.header}>\n\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t<CloseIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t{loading ? (\n\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t) : (\n\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\talt={contact.name}\n\t\t\t\t\t\t\tsrc={contact.profilePicUrl}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t></Avatar>\n\n\t\t\t\t\t\t<Typography>{contact.name}</Typography>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => setModalOpen(true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Paper>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Drawer>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Picker } from \"emoji-mart\";\r\nimport MicRecorder from \"mic-recorder-to-mp3\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MoreVert from \"@material-ui/icons/MoreVert\";\r\nimport MoodIcon from \"@material-ui/icons/Mood\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport {\r\n  FormControlLabel,\r\n  Hidden,\r\n  Menu,\r\n  MenuItem,\r\n  Switch,\r\n} from \"@material-ui/core\";\r\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport RecordingTimer from \"./RecordingTimer\";\r\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainWrapper: {\r\n    background: \"#eee\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      position: \"fixed\",\r\n      bottom: 0,\r\n      width: \"100%\",\r\n    },\r\n  },\r\n\r\n  newMessageBox: {\r\n    background: \"#eee\",\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    padding: \"7px\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  messageInputWrapper: {\r\n    padding: 6,\r\n    marginRight: 7,\r\n    background: \"#fff\",\r\n    display: \"flex\",\r\n    borderRadius: 20,\r\n    flex: 1,\r\n    position: \"relative\",\r\n  },\r\n\r\n  messageInput: {\r\n    paddingLeft: 10,\r\n    flex: 1,\r\n    border: \"none\",\r\n  },\r\n\r\n  sendMessageIcons: {\r\n    color: \"grey\",\r\n  },\r\n\r\n  uploadInput: {\r\n    display: \"none\",\r\n  },\r\n\r\n  viewMediaInputWrapper: {\r\n    display: \"flex\",\r\n    padding: \"10px 13px\",\r\n    position: \"relative\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    backgroundColor: \"#eee\",\r\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n\r\n  emojiBox: {\r\n    position: \"absolute\",\r\n    bottom: 63,\r\n    width: 40,\r\n    borderTop: \"1px solid #e8e8e8\",\r\n  },\r\n\r\n  circleLoading: {\r\n    color: green[500],\r\n    opacity: \"70%\",\r\n    position: \"absolute\",\r\n    top: \"20%\",\r\n    left: \"50%\",\r\n    marginLeft: -12,\r\n  },\r\n\r\n  audioLoading: {\r\n    color: green[500],\r\n    opacity: \"70%\",\r\n  },\r\n\r\n  recorderWrapper: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    alignContent: \"middle\",\r\n  },\r\n\r\n  cancelAudioIcon: {\r\n    color: \"red\",\r\n  },\r\n\r\n  sendAudioIcon: {\r\n    color: \"green\",\r\n  },\r\n\r\n  replyginMsgWrapper: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    paddingTop: 8,\r\n    paddingLeft: 73,\r\n    paddingRight: 7,\r\n  },\r\n\r\n  replyginMsgContainer: {\r\n    flex: 1,\r\n    marginRight: 5,\r\n    overflowY: \"hidden\",\r\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  replyginMsgBody: {\r\n    padding: 10,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    whiteSpace: \"pre-wrap\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  replyginContactMsgSideColor: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#35cd96\",\r\n  },\r\n\r\n  replyginSelfMsgSideColor: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#6bcbef\",\r\n  },\r\n\r\n  messageContactName: {\r\n    display: \"flex\",\r\n    color: \"#6bcbef\",\r\n    fontWeight: 500,\r\n  },\r\n  messageQuickAnswersWrapper: {\r\n    margin: 0,\r\n    position: \"absolute\",\r\n    bottom: \"50px\",\r\n    background: \"#ffffff\",\r\n    padding: \"2px\",\r\n    border: \"1px solid #CCC\",\r\n    left: 0,\r\n    width: \"100%\",\r\n    \"& li\": {\r\n      listStyle: \"none\",\r\n      \"& a\": {\r\n        display: \"block\",\r\n        padding: \"8px\",\r\n        textOverflow: \"ellipsis\",\r\n        overflow: \"hidden\",\r\n        maxHeight: \"32px\",\r\n        \"&:hover\": {\r\n          background: \"#F1F1F1\",\r\n          cursor: \"pointer\",\r\n        },\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst MessageInput = ({ ticketStatus }) => {\r\n  const classes = useStyles();\r\n  const { ticketId } = useParams();\r\n\r\n  const [medias, setMedias] = useState([]);\r\n  const [inputMessage, setInputMessage] = useState(\"\");\r\n  const [showEmoji, setShowEmoji] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [recording, setRecording] = useState(false);\r\n  const [quickAnswers, setQuickAnswer] = useState([]);\r\n  const [typeBar, setTypeBar] = useState(false);\r\n  const inputRef = useRef();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const { setReplyingMessage, replyingMessage } =\r\n    useContext(ReplyMessageContext);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\r\n\r\n  useEffect(() => {\r\n    inputRef.current.focus();\r\n  }, [replyingMessage]);\r\n\r\n  useEffect(() => {\r\n    inputRef.current.focus();\r\n    return () => {\r\n      setInputMessage(\"\");\r\n      setShowEmoji(false);\r\n      setMedias([]);\r\n      setReplyingMessage(null);\r\n    };\r\n  }, [ticketId, setReplyingMessage]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    setInputMessage(e.target.value);\r\n    handleLoadQuickAnswer(e.target.value);\r\n  };\r\n\r\n  const handleQuickAnswersClick = (value) => {\r\n    setInputMessage(value);\r\n    setTypeBar(false);\r\n  };\r\n\r\n  const handleAddEmoji = (e) => {\r\n    let emoji = e.native;\r\n    setInputMessage((prevState) => prevState + emoji);\r\n  };\r\n\r\n  const handleChangeMedias = (e) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setMedias(selectedMedias);\r\n  };\r\n\r\n  const handleInputPaste = (e) => {\r\n    if (e.clipboardData.files[0]) {\r\n      setMedias([e.clipboardData.files[0]]);\r\n    }\r\n  };\r\n\r\n  const handleUploadMedia = async (e) => {\r\n    setLoading(true);\r\n    e.preventDefault();\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"fromMe\", true);\r\n    medias.forEach((media) => {\r\n      formData.append(\"medias\", media);\r\n      formData.append(\"body\", media.name);\r\n    });\r\n\r\n    try {\r\n      await api.post(`/messages/${ticketId}`, formData);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setLoading(false);\r\n    setMedias([]);\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    if (inputMessage.trim() === \"\") return;\r\n    setLoading(true);\r\n\r\n    const message = {\r\n      read: 1,\r\n      fromMe: true,\r\n      mediaUrl: \"\",\r\n      body: signMessage\r\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\r\n        : inputMessage.trim(),\r\n      quotedMsg: replyingMessage,\r\n    };\r\n    try {\r\n      await api.post(`/messages/${ticketId}`, message);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setInputMessage(\"\");\r\n    setShowEmoji(false);\r\n    setLoading(false);\r\n    setReplyingMessage(null);\r\n  };\r\n\r\n  const handleStartRecording = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      await Mp3Recorder.start();\r\n      setRecording(true);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLoadQuickAnswer = async (value) => {\r\n    if (value && value.indexOf(\"/\") === 0) {\r\n      try {\r\n        const { data } = await api.get(\"/quickAnswers/\", {\r\n          params: { searchParam: inputMessage.substring(1) },\r\n        });\r\n        setQuickAnswer(data.quickAnswers);\r\n        if (data.quickAnswers.length > 0) {\r\n          setTypeBar(true);\r\n        } else {\r\n          setTypeBar(false);\r\n        }\r\n      } catch (err) {\r\n        setTypeBar(false);\r\n      }\r\n    } else {\r\n      setTypeBar(false);\r\n    }\r\n  };\r\n\r\n  const handleUploadAudio = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [, blob] = await Mp3Recorder.stop().getMp3();\r\n      if (blob.size < 10000) {\r\n        setLoading(false);\r\n        setRecording(false);\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n      const filename = `${new Date().getTime()}.mp3`;\r\n      formData.append(\"medias\", blob, filename);\r\n      formData.append(\"body\", filename);\r\n      formData.append(\"fromMe\", true);\r\n\r\n      await api.post(`/messages/${ticketId}`, formData);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setRecording(false);\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleCancelAudio = async () => {\r\n    try {\r\n      await Mp3Recorder.stop().getMp3();\r\n      setRecording(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenMenuClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMenuItemClick = (event) => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const renderReplyingMessage = (message) => {\r\n    return (\r\n      <div className={classes.replyginMsgWrapper}>\r\n        <div className={classes.replyginMsgContainer}>\r\n          <span\r\n            className={clsx(classes.replyginContactMsgSideColor, {\r\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\r\n            })}\r\n          ></span>\r\n          <div className={classes.replyginMsgBody}>\r\n            {!message.fromMe && (\r\n              <span className={classes.messageContactName}>\r\n                {message.contact?.name}\r\n              </span>\r\n            )}\r\n            {message.body}\r\n          </div>\r\n        </div>\r\n        <IconButton\r\n          aria-label=\"showRecorder\"\r\n          component=\"span\"\r\n          disabled={loading || ticketStatus !== \"open\"}\r\n          onClick={() => setReplyingMessage(null)}\r\n        >\r\n          <ClearIcon className={classes.sendMessageIcons} />\r\n        </IconButton>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (medias.length > 0)\r\n    return (\r\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\r\n        <IconButton\r\n          aria-label=\"cancel-upload\"\r\n          component=\"span\"\r\n          onClick={(e) => setMedias([])}\r\n        >\r\n          <CancelIcon className={classes.sendMessageIcons} />\r\n        </IconButton>\r\n\r\n        {loading ? (\r\n          <div>\r\n            <CircularProgress className={classes.circleLoading} />\r\n          </div>\r\n        ) : (\r\n          <span>\r\n            {medias[0]?.name}\r\n            {/* <img src={media.preview} alt=\"\"></img> */}\r\n          </span>\r\n        )}\r\n        <IconButton\r\n          aria-label=\"send-upload\"\r\n          component=\"span\"\r\n          onClick={handleUploadMedia}\r\n          disabled={loading}\r\n        >\r\n          <SendIcon className={classes.sendMessageIcons} />\r\n        </IconButton>\r\n      </Paper>\r\n    );\r\n  else {\r\n    return (\r\n      <Paper square elevation={0} className={classes.mainWrapper}>\r\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\r\n        <div className={classes.newMessageBox}>\r\n          <Hidden only={[\"sm\", \"xs\"]}>\r\n            <IconButton\r\n              aria-label=\"emojiPicker\"\r\n              component=\"span\"\r\n              disabled={loading || recording || ticketStatus !== \"open\"}\r\n              onClick={(e) => setShowEmoji((prevState) => !prevState)}\r\n            >\r\n              <MoodIcon className={classes.sendMessageIcons} />\r\n            </IconButton>\r\n            {showEmoji ? (\r\n              <div className={classes.emojiBox}>\r\n                <ClickAwayListener onClickAway={(e) => setShowEmoji(false)}>\r\n                  <Picker\r\n                    perLine={16}\r\n                    showPreview={false}\r\n                    showSkinTones={false}\r\n                    onSelect={handleAddEmoji}\r\n                  />\r\n                </ClickAwayListener>\r\n              </div>\r\n            ) : null}\r\n\r\n            <input\r\n              multiple\r\n              type=\"file\"\r\n              id=\"upload-button\"\r\n              disabled={loading || recording || ticketStatus !== \"open\"}\r\n              className={classes.uploadInput}\r\n              onChange={handleChangeMedias}\r\n            />\r\n            <label htmlFor=\"upload-button\">\r\n              <IconButton\r\n                aria-label=\"upload\"\r\n                component=\"span\"\r\n                disabled={loading || recording || ticketStatus !== \"open\"}\r\n              >\r\n                <AttachFileIcon className={classes.sendMessageIcons} />\r\n              </IconButton>\r\n            </label>\r\n            <FormControlLabel\r\n              style={{ marginRight: 7, color: \"gray\" }}\r\n              label={i18n.t(\"messagesInput.signMessage\")}\r\n              labelPlacement=\"start\"\r\n              control={\r\n                <Switch\r\n                  size=\"small\"\r\n                  checked={signMessage}\r\n                  onChange={(e) => {\r\n                    setSignMessage(e.target.checked);\r\n                  }}\r\n                  name=\"showAllTickets\"\r\n                  color=\"primary\"\r\n                />\r\n              }\r\n            />\r\n          </Hidden>\r\n          <Hidden only={[\"md\", \"lg\", \"xl\"]}>\r\n            <IconButton\r\n              aria-controls=\"simple-menu\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleOpenMenuClick}\r\n            >\r\n              <MoreVert></MoreVert>\r\n            </IconButton>\r\n            <Menu\r\n              id=\"simple-menu\"\r\n              keepMounted\r\n              anchorEl={anchorEl}\r\n              open={Boolean(anchorEl)}\r\n              onClose={handleMenuItemClick}\r\n            >\r\n              <MenuItem onClick={handleMenuItemClick}>\r\n                <IconButton\r\n                  aria-label=\"emojiPicker\"\r\n                  component=\"span\"\r\n                  disabled={loading || recording || ticketStatus !== \"open\"}\r\n                  onClick={(e) => setShowEmoji((prevState) => !prevState)}\r\n                >\r\n                  <MoodIcon className={classes.sendMessageIcons} />\r\n                </IconButton>\r\n              </MenuItem>\r\n              <MenuItem onClick={handleMenuItemClick}>\r\n                <input\r\n                  multiple\r\n                  type=\"file\"\r\n                  id=\"upload-button\"\r\n                  disabled={loading || recording || ticketStatus !== \"open\"}\r\n                  className={classes.uploadInput}\r\n                  onChange={handleChangeMedias}\r\n                />\r\n                <label htmlFor=\"upload-button\">\r\n                  <IconButton\r\n                    aria-label=\"upload\"\r\n                    component=\"span\"\r\n                    disabled={loading || recording || ticketStatus !== \"open\"}\r\n                  >\r\n                    <AttachFileIcon className={classes.sendMessageIcons} />\r\n                  </IconButton>\r\n                </label>\r\n              </MenuItem>\r\n              <MenuItem onClick={handleMenuItemClick}>\r\n                <FormControlLabel\r\n                  style={{ marginRight: 7, color: \"gray\" }}\r\n                  label={i18n.t(\"messagesInput.signMessage\")}\r\n                  labelPlacement=\"start\"\r\n                  control={\r\n                    <Switch\r\n                      size=\"small\"\r\n                      checked={signMessage}\r\n                      onChange={(e) => {\r\n                        setSignMessage(e.target.checked);\r\n                      }}\r\n                      name=\"showAllTickets\"\r\n                      color=\"primary\"\r\n                    />\r\n                  }\r\n                />\r\n              </MenuItem>\r\n            </Menu>\r\n          </Hidden>\r\n          <div className={classes.messageInputWrapper}>\r\n            <InputBase\r\n              inputRef={(input) => {\r\n                input && input.focus();\r\n                input && (inputRef.current = input);\r\n              }}\r\n              className={classes.messageInput}\r\n              placeholder={\r\n                ticketStatus === \"open\"\r\n                  ? i18n.t(\"messagesInput.placeholderOpen\")\r\n                  : i18n.t(\"messagesInput.placeholderClosed\")\r\n              }\r\n              multiline\r\n              rowsMax={5}\r\n              value={inputMessage}\r\n              onChange={handleChangeInput}\r\n              disabled={recording || loading || ticketStatus !== \"open\"}\r\n              onPaste={(e) => {\r\n                ticketStatus === \"open\" && handleInputPaste(e);\r\n              }}\r\n              onKeyPress={(e) => {\r\n                if (loading || e.shiftKey) return;\r\n                else if (e.key === \"Enter\") {\r\n                  handleSendMessage();\r\n                }\r\n              }}\r\n            />\r\n            {typeBar ? (\r\n              <ul className={classes.messageQuickAnswersWrapper}>\r\n                {quickAnswers.map((value, index) => {\r\n                  return (\r\n                    <li\r\n                      className={classes.messageQuickAnswersWrapperItem}\r\n                      key={index}\r\n                    >\r\n                      {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                      <a onClick={() => handleQuickAnswersClick(value.message)}>\r\n                        {`${value.shortcut} - ${value.message}`}\r\n                      </a>\r\n                    </li>\r\n                  );\r\n                })}\r\n              </ul>\r\n            ) : (\r\n              <div></div>\r\n            )}\r\n          </div>\r\n          {inputMessage ? (\r\n            <IconButton\r\n              aria-label=\"sendMessage\"\r\n              component=\"span\"\r\n              onClick={handleSendMessage}\r\n              disabled={loading}\r\n            >\r\n              <SendIcon className={classes.sendMessageIcons} />\r\n            </IconButton>\r\n          ) : recording ? (\r\n            <div className={classes.recorderWrapper}>\r\n              <IconButton\r\n                aria-label=\"cancelRecording\"\r\n                component=\"span\"\r\n                fontSize=\"large\"\r\n                disabled={loading}\r\n                onClick={handleCancelAudio}\r\n              >\r\n                <HighlightOffIcon className={classes.cancelAudioIcon} />\r\n              </IconButton>\r\n              {loading ? (\r\n                <div>\r\n                  <CircularProgress className={classes.audioLoading} />\r\n                </div>\r\n              ) : (\r\n                <RecordingTimer />\r\n              )}\r\n\r\n              <IconButton\r\n                aria-label=\"sendRecordedAudio\"\r\n                component=\"span\"\r\n                onClick={handleUploadAudio}\r\n                disabled={loading}\r\n              >\r\n                <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\r\n              </IconButton>\r\n            </div>\r\n          ) : (\r\n            <IconButton\r\n              aria-label=\"showRecorder\"\r\n              component=\"span\"\r\n              disabled={loading || ticketStatus !== \"open\"}\r\n              onClick={handleStartRecording}\r\n            >\r\n              <MicIcon className={classes.sendMessageIcons} />\r\n            </IconButton>\r\n          )}\r\n        </div>\r\n      </Paper>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MessageInput;\r\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\nimport ArrowBackIos from \"@material-ui/icons/ArrowBackIos\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketHeader: {\n    display: \"flex\",\n    backgroundColor: \"#eee\",\n    flex: \"none\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexWrap: \"wrap\",\n    },\n  },\n}));\n\nconst TicketHeader = ({ loading, children }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const handleBack = () => {\n    history.push(\"/tickets\");\n  };\n\n  return (\n    <>\n      {loading ? (\n        <TicketHeaderSkeleton />\n      ) : (\n        <Card square className={classes.ticketHeader}>\n          <Button color=\"primary\" onClick={handleBack}>\n            <ArrowBackIos />\n          </Button>\n          {children}\n        </Card>\n      )}\n    </>\n  );\n};\n\nexport default TicketHeader;\n","import React from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\n\t\t\ttitle={`${contact.name} #${ticket.id}`}\n\t\t\tsubheader={\n\t\t\t\tticket.user &&\n\t\t\t\t`${i18n.t(\"messagesList.header.assignedTo\")} ${ticket.user.name}`\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\n\nconst filterOptions = createFilterOptions({\n\ttrim: true,\n});\n\nconst TransferTicketModal = ({ modalOpen, onClose, ticketid }) => {\n\tconst history = useHistory();\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedUser, setSelectedUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchUsers = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/users/\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.users);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchUsers();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedUser(null);\n\t};\n\n\tconst handleSaveTicket = async e => {\n\t\te.preventDefault();\n\t\tif (!ticketid || !selectedUser) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticketid}`, {\n\t\t\t\tuserId: selectedUser.id,\n\t\t\t\tqueueId: null,\n\t\t\t\tstatus: \"open\",\n\t\t\t});\n\t\t\tsetLoading(false);\n\t\t\thistory.push(`/tickets`);\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<form onSubmit={handleSaveTicket}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"transferTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tstyle={{ width: 300 }}\n\t\t\t\t\t\tgetOptionLabel={option => `${option.name}`}\n\t\t\t\t\t\tonChange={(e, newValue) => {\n\t\t\t\t\t\t\tsetSelectedUser(newValue);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tnoOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</form>\n\t\t</Dialog>\n\t);\n};\n\nexport default TransferTicketModal;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModal from \"../TransferTicketModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModal\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;\n","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtons = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\tstatus: status,\n\t\t\t\tuserId: userId || null,\n\t\t\t});\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t\t} else {\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtons;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n\n  const handleOpenConfirmationModal = (e) => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n        open={confirmationOpen}\n        onClose={setConfirmationOpen}\n        onConfirm={handleDeleteMessage}\n      >\n        {i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n      </ConfirmationModal>\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={menuOpen}\n        onClose={handleClose}\n      >\n        {message.fromMe && (\n          <MenuItem onClick={handleOpenConfirmationModal}>\n            {i18n.t(\"messageOptionsMenu.delete\")}\n          </MenuItem>\n        )}\n        <MenuItem onClick={hanldeReplyMessage}>\n          {i18n.t(\"messageOptionsMenu.reply\")}\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n\nexport default MessageOptionsMenu;\n","import React, { useState, useEffect, useReducer, useRef } from \"react\";\n\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport openSocket from \"socket.io-client\";\nimport clsx from \"clsx\";\n\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n} from \"@material-ui/core\";\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n  },\n\n  messagesList: {\n    backgroundImage: `url(${whatsBackground})`,\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingBottom: \"90px\",\n    },\n    ...theme.scrollbarStyles,\n  },\n\n  circleLoading: {\n    color: green[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: \"#cfe9ba\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: green[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({ ticketId, isGroup }) => {\n  const classes = useStyles();\n\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const currentTicketId = useRef(ticketId);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", ticketId));\n\n    socket.on(\"appMessage\", (data) => {\n      if (data.action === \"create\") {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId]);\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const scrollToBottom = () => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore) return;\n    const { scrollTop } = e.currentTarget;\n\n    if (scrollTop === 0) {\n      document.getElementById(\"messagesList\").scrollTop = 1;\n    }\n\n    if (loading) {\n      return;\n    }\n\n    if (scrollTop < 50) {\n      loadMore();\n    }\n  };\n\n  const handleOpenMessageOptionsMenu = (e, message) => {\n    setAnchorEl(e.currentTarget);\n    setSelectedMessage(message);\n  };\n\n  const handleCloseMessageOptionsMenu = (e) => {\n    setAnchorEl(null);\n  };\n\n  const checkMessageMedia = (message) => {\n    if (message.mediaType === \"image\") {\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\n    }\n    if (message.mediaType === \"audio\") {\n      return (\n        <audio controls>\n          <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n        </audio>\n      );\n    }\n\n    if (message.mediaType === \"video\") {\n      return (\n        <video\n          className={classes.messageMedia}\n          src={message.mediaUrl}\n          controls\n        />\n      );\n    } else {\n      return (\n        <>\n          <div className={classes.downloadMedia}>\n            <Button\n              startIcon={<GetApp />}\n              color=\"primary\"\n              variant=\"outlined\"\n              target=\"_blank\"\n              href={message.mediaUrl}\n            >\n              Download\n            </Button>\n          </div>\n          <Divider />\n        </>\n      );\n    }\n  };\n\n  const renderMessageAck = (message) => {\n    if (message.ack === 0) {\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 1) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 2) {\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 3 || message.ack === 4) {\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\n    }\n  };\n\n  const renderDailyTimestamps = (message, index) => {\n    if (index === 0) {\n      return (\n        <span\n          className={classes.dailyTimestamp}\n          key={`timestamp-${message.id}`}\n        >\n          <div className={classes.dailyTimestampText}>\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n          </div>\n        </span>\n      );\n    }\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    }\n    if (index === messagesList.length - 1) {\n      return (\n        <div\n          key={`ref-${message.createdAt}`}\n          ref={lastMessageRef}\n          style={{ float: \"left\", clear: \"both\" }}\n        />\n      );\n    }\n  };\n\n  const renderMessageDivider = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageUser = messagesList[index].fromMe;\n      let previousMessageUser = messagesList[index - 1].fromMe;\n\n      if (messageUser !== previousMessageUser) {\n        return (\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n        );\n      }\n    }\n  };\n\n  const renderQuotedMessage = (message) => {\n    return (\n      <div\n        className={clsx(classes.quotedContainerLeft, {\n          [classes.quotedContainerRight]: message.fromMe,\n        })}\n      >\n        <span\n          className={clsx(classes.quotedSideColorLeft, {\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n          })}\n        ></span>\n        <div className={classes.quotedMsg}>\n          {!message.quotedMsg?.fromMe && (\n            <span className={classes.messageContactName}>\n              {message.quotedMsg?.contact?.name}\n            </span>\n          )}\n          {message.quotedMsg?.body}\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessages = () => {\n    if (messagesList.length > 0) {\n      const viewMessagesList = messagesList.map((message, index) => {\n        if (!message.fromMe) {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageLeft}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                {message.mediaUrl && checkMessageMedia(message)}\n                <div className={classes.textContentItem}>\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageRight}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {message.mediaUrl && checkMessageMedia(message)}\n                <div\n                  className={clsx(classes.textContentItem, {\n                    [classes.textContentItemDeleted]: message.isDeleted,\n                  })}\n                >\n                  {message.isDeleted && (\n                    <Block\n                      color=\"disabled\"\n                      fontSize=\"small\"\n                      className={classes.deletedIcon}\n                    />\n                  )}\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                    {renderMessageAck(message)}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n      });\n      return viewMessagesList;\n    } else {\n      return <div>Say hello to your new contact!</div>;\n    }\n  };\n\n  return (\n    <div className={classes.messagesListWrapper}>\n      <MessageOptionsMenu\n        message={selectedMessage}\n        anchorEl={anchorEl}\n        menuOpen={messageOptionsMenuOpen}\n        handleClose={handleCloseMessageOptionsMenu}\n      />\n      <div\n        id=\"messagesList\"\n        className={classes.messagesList}\n        onScroll={handleScroll}\n      >\n        {messagesList.length > 0 ? renderMessages() : []}\n      </div>\n      {loading && (\n        <div>\n          <CircularProgress className={classes.circleLoading} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesList;\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport openSocket from \"socket.io-client\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { Paper, makeStyles } from \"@material-ui/core\";\r\n\r\nimport ContactDrawer from \"../ContactDrawer\";\r\nimport MessageInput from \"../MessageInput/\";\r\nimport TicketHeader from \"../TicketHeader\";\r\nimport TicketInfo from \"../TicketInfo\";\r\nimport TicketActionButtons from \"../TicketActionButtons\";\r\nimport MessagesList from \"../MessagesList\";\r\nimport api from \"../../services/api\";\r\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  ticketInfo: {\r\n    maxWidth: \"50%\",\r\n    flexBasis: \"50%\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: \"80%\",\r\n      flexBasis: \"80%\",\r\n    },\r\n  },\r\n  ticketActionButtons: {\r\n    maxWidth: \"50%\",\r\n    flexBasis: \"50%\",\r\n    display: \"flex\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: \"100%\",\r\n      flexBasis: \"100%\",\r\n      marginBottom: \"5px\",\r\n    },\r\n  },\r\n\r\n  mainWrapper: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    borderLeft: \"0\",\r\n    marginRight: -drawerWidth,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n\r\n  mainWrapperShift: {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: 0,\r\n  },\r\n}));\r\n\r\nconst Ticket = () => {\r\n  const { ticketId } = useParams();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [contact, setContact] = useState({});\r\n  const [ticket, setTicket] = useState({});\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchTicket = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/tickets/\" + ticketId);\r\n\r\n          setContact(data.contact);\r\n          setTicket(data);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchTicket();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [ticketId, history]);\r\n\r\n  useEffect(() => {\r\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\r\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", ticketId));\r\n\r\n    socket.on(\"ticket\", (data) => {\r\n      if (data.action === \"update\") {\r\n        setTicket(data.ticket);\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        toast.success(\"Ticket deleted sucessfully.\");\r\n        history.push(\"/tickets\");\r\n      }\r\n    });\r\n\r\n    socket.on(\"contact\", (data) => {\r\n      if (data.action === \"update\") {\r\n        setContact((prevState) => {\r\n          if (prevState.id === data.contact?.id) {\r\n            return { ...prevState, ...data.contact };\r\n          }\r\n          return prevState;\r\n        });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [ticketId, history]);\r\n\r\n  const handleDrawerOpen = () => {\r\n    setDrawerOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setDrawerOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root} id=\"drawer-container\">\r\n      <Paper\r\n        variant=\"outlined\"\r\n        elevation={0}\r\n        className={clsx(classes.mainWrapper, {\r\n          [classes.mainWrapperShift]: drawerOpen,\r\n        })}\r\n      >\r\n        <TicketHeader loading={loading}>\r\n          <div className={classes.ticketInfo}>\r\n            <TicketInfo\r\n              contact={contact}\r\n              ticket={ticket}\r\n              onClick={handleDrawerOpen}\r\n            />\r\n          </div>\r\n          <div className={classes.ticketActionButtons}>\r\n            <TicketActionButtons ticket={ticket} />\r\n          </div>\r\n        </TicketHeader>\r\n        <ReplyMessageProvider>\r\n          <MessagesList\r\n            ticketId={ticketId}\r\n            isGroup={ticket.isGroup}\r\n          ></MessagesList>\r\n          <MessageInput ticketStatus={ticket.status} />\r\n        </ReplyMessageProvider>\r\n      </Paper>\r\n      <ContactDrawer\r\n        open={drawerOpen}\r\n        handleDrawerClose={handleDrawerClose}\r\n        contact={contact}\r\n        loading={loading}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ticket;\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport TicketsManager from \"../../components/TicketsManager/\";\r\nimport Ticket from \"../../components/Ticket/\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport Hidden from \"@material-ui/core/Hidden\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  chatContainer: {\r\n    flex: 1,\r\n    // // backgroundColor: \"#eee\",\r\n    // padding: theme.spacing(4),\r\n    height: `calc(100% - 48px)`,\r\n    overflowY: \"hidden\",\r\n  },\r\n\r\n  chatPapper: {\r\n    // backgroundColor: \"red\",\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n  },\r\n\r\n  contactsWrapper: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n    overflowY: \"hidden\",\r\n  },\r\n  contactsWrapperSmall: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n    overflowY: \"hidden\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  messagessWrapper: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n  },\r\n  welcomeMsg: {\r\n    backgroundColor: \"#eee\",\r\n    display: \"flex\",\r\n    justifyContent: \"space-evenly\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    textAlign: \"center\",\r\n    borderRadius: 0,\r\n  },\r\n  ticketsManager: {},\r\n  ticketsManagerClosed: {\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst Chat = () => {\r\n  const classes = useStyles();\r\n  const { ticketId } = useParams();\r\n\r\n  return (\r\n    <div className={classes.chatContainer}>\r\n      <div className={classes.chatPapper}>\r\n        <Grid container spacing={0}>\r\n          {/* <Grid item xs={4} className={classes.contactsWrapper}> */}\r\n          <Grid\r\n            item\r\n            xs={12}\r\n            md={4}\r\n            className={\r\n              ticketId ? classes.contactsWrapperSmall : classes.contactsWrapper\r\n            }\r\n          >\r\n            <TicketsManager />\r\n          </Grid>\r\n          <Grid item xs={12} md={8} className={classes.messagessWrapper}>\r\n            {/* <Grid item xs={8} className={classes.messagessWrapper}> */}\r\n            {ticketId ? (\r\n              <>\r\n                <Ticket />\r\n              </>\r\n            ) : (\r\n              <Hidden only={[\"sm\", \"xs\"]}>\r\n                <Paper className={classes.welcomeMsg}>\r\n                  {/* <Paper square variant=\"outlined\" className={classes.welcomeMsg}> */}\r\n                  <span>{i18n.t(\"chat.noTicketMessage\")}</span>\r\n                </Paper>\r\n              </Hidden>\r\n            )}\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import React, { useState } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Formik, Form, Field } from \"formik\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\n// const Copyright = () => {\r\n// \treturn (\r\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n// \t\t\t{\"Copyleft \"}\r\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\r\n// \t\t\t\tCanove\r\n// \t\t\t</Link>{\" \"}\r\n// \t\t\t{new Date().getFullYear()}\r\n// \t\t\t{\".\"}\r\n// \t\t</Typography>\r\n// \t);\r\n// };\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tpaper: {\r\n\t\tmarginTop: theme.spacing(8),\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\tavatar: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tbackgroundColor: theme.palette.secondary.main,\r\n\t},\r\n\tform: {\r\n\t\twidth: \"100%\",\r\n\t\tmarginTop: theme.spacing(3),\r\n\t},\r\n\tsubmit: {\r\n\t\tmargin: theme.spacing(3, 0, 2),\r\n\t},\r\n}));\r\n\r\nconst UserSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\r\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n});\r\n\r\nconst SignUp = () => {\r\n\tconst classes = useStyles();\r\n\tconst history = useHistory();\r\n\r\n\tconst initialState = { name: \"\", email: \"\", password: \"\" };\r\n\r\n\tconst [user] = useState(initialState);\r\n\r\n\tconst handleSignUp = async values => {\r\n\t\ttry {\r\n\t\t\tawait api.post(\"/auth/signup\", values);\r\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\r\n\t\t\thistory.push(\"/login\");\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t<CssBaseline />\r\n\t\t\t<div className={classes.paper}>\r\n\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t<LockOutlinedIcon />\r\n\t\t\t\t</Avatar>\r\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\t{i18n.t(\"signup.title\")}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={user}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={UserSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSignUp(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form className={classes.form}>\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.name\")}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\r\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\r\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</div>\r\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\r\n\t\t</Container>\r\n\t);\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { useState, useContext } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\n// const Copyright = () => {\r\n// \treturn (\r\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n// \t\t\t{\"Copyleft \"}\r\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\r\n// \t\t\t\tCanove\r\n// \t\t\t</Link>{\" \"}\r\n// \t\t\t{new Date().getFullYear()}\r\n// \t\t\t{\".\"}\r\n// \t\t</Typography>\r\n// \t);\r\n// };\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nconst Login = () => {\r\n  const classes = useStyles();\r\n\r\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\r\n\r\n  const { handleLogin } = useContext(AuthContext);\r\n\r\n  const handleChangeInput = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handlSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleLogin(user);\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          {i18n.t(\"login.title\")}\r\n        </Typography>\r\n        <form className={classes.form} noValidate onSubmit={handlSubmit}>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label={i18n.t(\"login.form.email\")}\r\n            name=\"email\"\r\n            value={user.email}\r\n            onChange={handleChangeInput}\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label={i18n.t(\"login.form.password\")}\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={user.password}\r\n            onChange={handleChangeInput}\r\n            autoComplete=\"current-password\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n          >\r\n            {i18n.t(\"login.buttons.submit\")}\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item>\r\n              <Link\r\n                href=\"#\"\r\n                variant=\"body2\"\r\n                component={RouterLink}\r\n                to=\"/signup\"\r\n              >\r\n                {i18n.t(\"login.buttons.register\")}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>{/* <Copyright /> */}</Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useCallback, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { format, parseISO } from \"date-fns\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n\tButton,\r\n\tTableBody,\r\n\tTableRow,\r\n\tTableCell,\r\n\tIconButton,\r\n\tTable,\r\n\tTableHead,\r\n\tPaper,\r\n\tTooltip,\r\n\tTypography,\r\n\tCircularProgress,\r\n} from \"@material-ui/core\";\r\nimport {\r\n\tEdit,\r\n\tCheckCircle,\r\n\tSignalCellularConnectedNoInternet2Bar,\r\n\tSignalCellularConnectedNoInternet0Bar,\r\n\tSignalCellular4Bar,\r\n\tCropFree,\r\n\tDeleteOutline,\r\n} from \"@material-ui/icons\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\n\r\nimport api from \"../../services/api\";\r\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport QrcodeModal from \"../../components/QrcodeModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmainPaper: {\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(1),\r\n\t\toverflowY: \"scroll\",\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\tcustomTableCell: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\ttooltip: {\r\n\t\tbackgroundColor: \"#f5f5f9\",\r\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tborder: \"1px solid #dadde9\",\r\n\t\tmaxWidth: 450,\r\n\t},\r\n\ttooltipPopper: {\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t},\r\n}));\r\n\r\nconst CustomToolTip = ({ title, content, children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tarrow\r\n\t\t\tclasses={{\r\n\t\t\t\ttooltip: classes.tooltip,\r\n\t\t\t\tpopper: classes.tooltipPopper,\r\n\t\t\t}}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Tooltip>\r\n\t);\r\n};\r\n\r\nconst Connections = () => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\r\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\r\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\r\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\r\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n\tconst confirmationModalInitialState = {\r\n\t\taction: \"\",\r\n\t\ttitle: \"\",\r\n\t\tmessage: \"\",\r\n\t\twhatsAppId: \"\",\r\n\t\topen: false,\r\n\t};\r\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\r\n\t\tconfirmationModalInitialState\r\n\t);\r\n\r\n\tconst handleStartWhatsAppSession = async whatsAppId => {\r\n\t\ttry {\r\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleRequestNewQrCode = async whatsAppId => {\r\n\t\ttry {\r\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst handleOpenWhatsAppModal = () => {\r\n\t\tsetSelectedWhatsApp(null);\r\n\t\tsetWhatsAppModalOpen(true);\r\n\t};\r\n\r\n\tconst handleCloseWhatsAppModal = useCallback(() => {\r\n\t\tsetWhatsAppModalOpen(false);\r\n\t\tsetSelectedWhatsApp(null);\r\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\r\n\r\n\tconst handleOpenQrModal = whatsApp => {\r\n\t\tsetSelectedWhatsApp(whatsApp);\r\n\t\tsetQrModalOpen(true);\r\n\t};\r\n\r\n\tconst handleCloseQrModal = useCallback(() => {\r\n\t\tsetSelectedWhatsApp(null);\r\n\t\tsetQrModalOpen(false);\r\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\r\n\r\n\tconst handleEditWhatsApp = whatsApp => {\r\n\t\tsetSelectedWhatsApp(whatsApp);\r\n\t\tsetWhatsAppModalOpen(true);\r\n\t};\r\n\r\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\r\n\t\tif (action === \"disconnect\") {\r\n\t\t\tsetConfirmModalInfo({\r\n\t\t\t\taction: action,\r\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\r\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\r\n\t\t\t\twhatsAppId: whatsAppId,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (action === \"delete\") {\r\n\t\t\tsetConfirmModalInfo({\r\n\t\t\t\taction: action,\r\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\r\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\r\n\t\t\t\twhatsAppId: whatsAppId,\r\n\t\t\t});\r\n\t\t}\r\n\t\tsetConfirmModalOpen(true);\r\n\t};\r\n\r\n\tconst handleSubmitConfirmationModal = async () => {\r\n\t\tif (confirmModalInfo.action === \"disconnect\") {\r\n\t\t\ttry {\r\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (confirmModalInfo.action === \"delete\") {\r\n\t\t\ttry {\r\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\r\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\r\n\t};\r\n\r\n\tconst renderActionButtons = whatsApp => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\r\n\t\t\t\t\t\t</Button>{\" \"}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\r\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\r\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\r\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\t\t\t</>\r\n\t\t);\r\n\t};\r\n\r\n\tconst renderStatusToolTips = whatsApp => {\r\n\t\treturn (\r\n\t\t\t<div className={classes.customTableCell}>\r\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\r\n\t\t\t\t\t<CustomToolTip\r\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\r\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\r\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\r\n\t\t\t\t\t<CustomToolTip\r\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\r\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<CropFree />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\r\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\r\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\r\n\t\t\t\t\t<CustomToolTip\r\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\r\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\r\n\t\t\t\t\t</CustomToolTip>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<MainContainer>\r\n\t\t\t<ConfirmationModal\r\n\t\t\t\ttitle={confirmModalInfo.title}\r\n\t\t\t\topen={confirmModalOpen}\r\n\t\t\t\tonClose={setConfirmModalOpen}\r\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\r\n\t\t\t>\r\n\t\t\t\t{confirmModalInfo.message}\r\n\t\t\t</ConfirmationModal>\r\n\t\t\t<QrcodeModal\r\n\t\t\t\topen={qrModalOpen}\r\n\t\t\t\tonClose={handleCloseQrModal}\r\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\r\n\t\t\t/>\r\n\t\t\t<WhatsAppModal\r\n\t\t\t\topen={whatsAppModalOpen}\r\n\t\t\t\tonClose={handleCloseWhatsAppModal}\r\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\r\n\t\t\t/>\r\n\t\t\t<MainHeader>\r\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\r\n\t\t\t\t<MainHeaderButtonsWrapper>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</MainHeaderButtonsWrapper>\r\n\t\t\t</MainHeader>\r\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\r\n\t\t\t\t<Table size=\"small\">\r\n\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\r\n\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<TableRowSkeleton />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\r\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\r\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</Paper>\r\n\t\t</MainContainer>\r\n\t);\r\n};\r\n\r\nexport default Connections;\r\n","import React, { useState, useEffect } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Select from \"@material-ui/core/Select\";\nimport { toast } from \"react-toastify\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n.js\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(4),\n\t},\n\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t},\n\n\tsettingOption: {\n\t\tmarginLeft: \"auto\",\n\t},\n\tmargin: {\n\t\tmargin: theme.spacing(1),\n\t},\n}));\n\nconst Settings = () => {\n\tconst classes = useStyles();\n\n\tconst [settings, setSettings] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/settings\");\n\t\t\t\tsetSettings(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"settings\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tsetSettings(prevState => {\n\t\t\t\t\tconst aux = [...prevState];\n\t\t\t\t\tconst settingIndex = aux.findIndex(s => s.key === data.setting.key);\n\t\t\t\t\taux[settingIndex].value = data.setting.value;\n\t\t\t\t\treturn aux;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\tconst handleChangeSetting = async e => {\n\t\tconst selectedValue = e.target.value;\n\t\tconst settingKey = e.target.name;\n\n\t\ttry {\n\t\t\tawait api.put(`/settings/${settingKey}`, {\n\t\t\t\tvalue: selectedValue,\n\t\t\t});\n\t\t\ttoast.success(i18n.t(\"settings.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst getSettingValue = key => {\n\t\tconst { value } = settings.find(s => s.key === key);\n\t\treturn value;\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\n\t\t\t\t<Typography variant=\"body2\" gutterBottom>\n\t\t\t\t\t{i18n.t(\"settings.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"userCreation-setting\"\n\t\t\t\t\t\tname=\"userCreation\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"userCreation\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Paper>\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n\nexport default Settings;\n","import React, { useState } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\n// import { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport Box from \"@material-ui/core/Box\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport {\r\n  //   Dialog,\r\n  DialogContent,\r\n  Button,\r\n  DialogActions,\r\n  // CircularProgress,\r\n  TextField,\r\n  // Switch,\r\n  // FormControlLabel,\r\n} from \"@material-ui/core\";\r\n\r\nimport Container from \"@material-ui/core/Container\";\r\n// import toastError from \"../../errors/toastError\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n    justifyContent: \"space-between\",\r\n  },\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n  ok: {\r\n    color: green[500],\r\n  },\r\n  err: {\r\n    color: \"red\",\r\n  },\r\n}));\r\n\r\nconst isValidURL = (string) => {\r\n  let resURL = string.match(\r\n    /(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g\r\n  );\r\n  return resURL !== null;\r\n};\r\n\r\nconst SessionSchema = Yup.object().shape({\r\n  URL: Yup.string()\r\n    .min(10, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  platfrom: Yup.string().required(\"Required\"),\r\n});\r\n\r\nconst ClientAPI = () => {\r\n  const [platfromValue, setplatfromValue] = useState(\"\");\r\n  //   const [URLValue, setURLValue] = useState(\"\");\r\n  const [Valid, setValid] = useState(\"\");\r\n  const [copyCase, setCopyCase] = useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    setplatfromValue(event.target.value);\r\n  };\r\n\r\n  const handleURLValueChange = (event) => {\r\n    // setURLValue(event.target.value);\r\n\r\n    if (isValidURL(event.target.value) === true) {\r\n      // setValid(\"correct formula\");\r\n      axios\r\n        .get(event.target.value)\r\n        .then((res) => {\r\n          if (res.status === 200) {\r\n            setValid(\"valid url\");\r\n          } else {\r\n            setValid(\"Invalid url\");\r\n          }\r\n        })\r\n\r\n        .catch((err) => {\r\n          setValid(\"incorrect formula\");\r\n          // console.log(err)\r\n        });\r\n    } else {\r\n      setValid(\"format error\");\r\n    }\r\n  };\r\n  const handleSaveClintAPI = () => {\r\n    if (Valid === \"valid url\") {\r\n      console.log(\"save\");\r\n      // axios.post(`https://jsonplaceholder.typicode.com/users`, {user})\r\n      // .then(res=> {\r\n      //     console.log(res)\r\n      // })\r\n    }\r\n  };\r\n\r\n  const handelCopy = () => {\r\n    navigator.clipboard.writeText(initialValuesClintAPI.GenerateToken);\r\n    setCopyCase(true);\r\n    setTimeout(() => {\r\n      setCopyCase(false);\r\n    }, 1500);\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const initialValuesClintAPI = {\r\n    GenerateToken: \"!@#$%^&*\",\r\n    platfrom: platfromValue,\r\n    URL: \"\",\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" className={classes.container}>\r\n      <Formik\r\n        initialValues={initialValuesClintAPI}\r\n        enableReinitialize={true}\r\n        validationSchema={SessionSchema}\r\n        onSubmit={(values, actions) => {\r\n          // setTimeout(() => {\r\n          // console.log(values)\r\n          handleSaveClintAPI();\r\n          // actions.setSubmitting(false);\r\n          // }, 400);\r\n        }}\r\n      >\r\n        {({ values, touched, errors, isSubmitting }) => (\r\n          <Form>\r\n            <DialogContent dividers>\r\n              <div className={classes.multFieldLine}>\r\n                <h3 style={{ margin: \"0px \" }}>Generate Token</h3>\r\n                <Button\r\n                  // type=\"\"\r\n                  color={copyCase === false ? \"primary\" : \"danger\"}\r\n                  // disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  onClick={handelCopy}\r\n                >\r\n                  {copyCase === false ? \"copy\" : \"copied\"}\r\n                </Button>\r\n              </div>\r\n              <Box sx={{ minWidth: 120 }} style={{ margin: \"25px 0\" }}>\r\n                <FormControl fullWidth variant=\"outlined\" margin=\"dense\">\r\n                  <InputLabel id=\"demo-simple-select-label\">\r\n                    Platfrom\r\n                  </InputLabel>\r\n                  <Select\r\n                    labelId=\"demo-simple-select-label\"\r\n                    id=\"demo-simple-select\"\r\n                    name=\"platfrom\"\r\n                    // value={platfrom}\r\n                    label=\"Platfrom\"\r\n                    onChange={handleChange}\r\n                    error={touched.platfrom && Boolean(errors.platfrom)}\r\n                    helperText={touched.platfrom && errors.platfrom}\r\n                  >\r\n                    <MenuItem value=\"Woocommerce\">Woocommerce</MenuItem>\r\n                    <MenuItem value=\"Shopify\">Shopify</MenuItem>\r\n                    <MenuItem value=\"Salla\">Salla</MenuItem>\r\n                    <MenuItem value=\"Custom\">Custom</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Box>\r\n              <div>\r\n                <Field\r\n                  as={TextField}\r\n                  label=\"URL\"\r\n                  type=\"text\"\r\n                  // autoFocus\r\n                  placeholder=\"example: https://www.Domain Name.com\"\r\n                  rows={4}\r\n                  fullWidth\r\n                  name=\"URL\"\r\n                  error={touched.URL && Boolean(errors.URL)}\r\n                  helperText={touched.URL && errors.URL}\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  onKeyUp={handleURLValueChange}\r\n                />\r\n              </div>\r\n\r\n              {Valid === \"valid url\" ? (\r\n                <div className={classes.ok}>{Valid}</div>\r\n              ) : (\r\n                <div className={classes.err}>{Valid}</div>\r\n              )}\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button\r\n                type=\"submit\"\r\n                color=\"primary\"\r\n                // disabled={isSubmitting}\r\n                variant=\"contained\"\r\n                className={classes.btnWrapper}\r\n              >\r\n                save\r\n              </Button>\r\n            </DialogActions>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ClientAPI;\r\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport ContactModal from \"../../components/ContactModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTS\") {\r\n    const contacts = action.payload;\r\n    const newContacts = [];\r\n\r\n    contacts.forEach((contact) => {\r\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n      if (contactIndex !== -1) {\r\n        state[contactIndex] = contact;\r\n      } else {\r\n        newContacts.push(contact);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContacts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTS\") {\r\n    const contact = action.payload;\r\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n\r\n    if (contactIndex !== -1) {\r\n      state[contactIndex] = contact;\r\n      return [...state];\r\n    } else {\r\n      return [contact, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACT\") {\r\n    const contactId = action.payload;\r\n\r\n    const contactIndex = state.findIndex((c) => c.id === contactId);\r\n    if (contactIndex !== -1) {\r\n      state.splice(contactIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Contacts = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contacts, dispatch] = useReducer(reducer, []);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [hasMore, setHasMore] = useState(false);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/contacts/\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\r\n\r\n    socket.on(\"contact\", (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleOpenContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const handleSaveTicket = async (contactId) => {\r\n    if (!contactId) return;\r\n    setLoading(true);\r\n    try {\r\n      const { data: ticket } = await api.post(\"/tickets\", {\r\n        contactId: contactId,\r\n        userId: user?.id,\r\n        status: \"open\",\r\n      });\r\n      history.push(`/tickets/${ticket.id}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const hadleEditContact = (contactId) => {\r\n    setSelectedContactId(contactId);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteContact = async (contactId) => {\r\n    try {\r\n      await api.delete(`/contacts/${contactId}`);\r\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContact(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const handleimportContact = async () => {\r\n    try {\r\n      await api.post(\"/contacts/import\");\r\n      history.go(0);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <ContactModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactId={selectedContactId}\r\n      ></ContactModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\r\n                deletingContact.name\r\n              }?`\r\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmOpen}\r\n        onClose={setConfirmOpen}\r\n        onConfirm={(e) =>\r\n          deletingContact\r\n            ? handleDeleteContact(deletingContact.id)\r\n            : handleimportContact()\r\n        }\r\n      >\r\n        {deletingContact\r\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\r\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\r\n      </ConfirmationModal>\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"contacts.title\")}</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={(e) => setConfirmOpen(true)}\r\n          >\r\n            {i18n.t(\"contacts.buttons.import\")}\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenContactModal}\r\n          >\r\n            {i18n.t(\"contacts.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell padding=\"checkbox\" />\r\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contacts.table.whatsapp\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contacts.table.email\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contacts.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {contacts.map((contact) => (\r\n                <TableRow key={contact.id}>\r\n                  <TableCell style={{ paddingRight: 0 }}>\r\n                    {<Avatar src={contact.profilePicUrl} />}\r\n                  </TableCell>\r\n                  <TableCell>{contact.name}</TableCell>\r\n                  <TableCell align=\"center\">{contact.number}</TableCell>\r\n                  <TableCell align=\"center\">{contact.email}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleSaveTicket(contact.id)}\r\n                    >\r\n                      <WhatsAppIcon />\r\n                    </IconButton>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => hadleEditContact(contact.id)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n                    <Can\r\n                      role={user.profile}\r\n                      perform=\"contacts-page:deleteContact\"\r\n                      yes={() => (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            setConfirmOpen(true);\r\n                            setDeletingContact(contact);\r\n                          }}\r\n                        >\r\n                          <DeleteOutlineIcon />\r\n                        </IconButton>\r\n                      )}\r\n                    />\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton avatar columns={3} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Contacts;\r\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  makeStyles,\n  Button,\n  TextField,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { green } from \"@material-ui/core/colors\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    width: \"100%\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  textQuickAnswerContainer: {\n    width: \"100%\",\n  },\n}));\n\nconst QuickAnswerSchema = Yup.object().shape({\n  shortcut: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(15, \"Too Long!\")\n    .required(\"Required\"),\n  message: Yup.string()\n    .min(8, \"Too Short!\")\n    .max(30000, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst QuickAnswersModal = ({\n  open,\n  onClose,\n  quickAnswerId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const initialState = {\n    shortcut: \"\",\n    message: \"\",\n  };\n\n  const [quickAnswer, setQuickAnswer] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchQuickAnswer = async () => {\n      if (initialValues) {\n        setQuickAnswer((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!quickAnswerId) return;\n\n      try {\n        const { data } = await api.get(`/quickAnswers/${quickAnswerId}`);\n        if (isMounted.current) {\n          setQuickAnswer(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchQuickAnswer();\n  }, [quickAnswerId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setQuickAnswer(initialState);\n  };\n\n  const handleSaveQuickAnswer = async (values) => {\n    try {\n      if (quickAnswerId) {\n        await api.put(`/quickAnswers/${quickAnswerId}`, values);\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/quickAnswers\", values);\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"quickAnswersModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"sm\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {quickAnswerId\n            ? `${i18n.t(\"quickAnswersModal.title.edit\")}`\n            : `${i18n.t(\"quickAnswersModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={quickAnswer}\n          enableReinitialize={true}\n          validationSchema={QuickAnswerSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveQuickAnswer(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.shortcut\")}\n                    name=\"shortcut\"\n                    autoFocus\n                    error={touched.shortcut && Boolean(errors.shortcut)}\n                    helperText={touched.shortcut && errors.shortcut}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.message\")}\n                    name=\"message\"\n                    error={touched.message && Boolean(errors.message)}\n                    helperText={touched.message && errors.message}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    multiline\n                    rows={5}\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"quickAnswersModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {quickAnswerId\n                    ? `${i18n.t(\"quickAnswersModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"quickAnswersModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QuickAnswersModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  InputAdornment,\n  TextField,\n} from \"@material-ui/core\";\nimport { Edit, DeleteOutline } from \"@material-ui/icons\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickAnswersModal from \"../../components/QuickAnswersModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { toast } from \"react-toastify\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICK_ANSWERS\") {\n    const quickAnswers = action.payload;\n    const newQuickAnswers = [];\n\n    quickAnswers.forEach((quickAnswer) => {\n      const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n      if (quickAnswerIndex !== -1) {\n        state[quickAnswerIndex] = quickAnswer;\n      } else {\n        newQuickAnswers.push(quickAnswer);\n      }\n    });\n\n    return [...state, ...newQuickAnswers];\n  }\n\n  if (action.type === \"UPDATE_QUICK_ANSWERS\") {\n    const quickAnswer = action.payload;\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n\n    if (quickAnswerIndex !== -1) {\n      state[quickAnswerIndex] = quickAnswer;\n      return [...state];\n    } else {\n      return [quickAnswer, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICK_ANSWERS\") {\n    const quickAnswerId = action.payload;\n\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswerId);\n    if (quickAnswerIndex !== -1) {\n      state.splice(quickAnswerIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst QuickAnswers = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickAnswers, dispatch] = useReducer(reducer, []);\n  const [selectedQuickAnswers, setSelectedQuickAnswers] = useState(null);\n  const [quickAnswersModalOpen, setQuickAnswersModalOpen] = useState(false);\n  const [deletingQuickAnswers, setDeletingQuickAnswers] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchQuickAnswers = async () => {\n        try {\n          const { data } = await api.get(\"/quickAnswers/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_QUICK_ANSWERS\", payload: data.quickAnswers });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchQuickAnswers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"quickAnswer\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICK_ANSWERS\", payload: data.quickAnswer });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({\n          type: \"DELETE_QUICK_ANSWERS\",\n          payload: +data.quickAnswerId,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleCloseQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(false);\n  };\n\n  const handleEditQuickAnswers = (quickAnswer) => {\n    setSelectedQuickAnswers(quickAnswer);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleDeleteQuickAnswers = async (quickAnswerId) => {\n    try {\n      await api.delete(`/quickAnswers/${quickAnswerId}`);\n      toast.success(i18n.t(\"quickAnswers.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickAnswers(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingQuickAnswers &&\n          `${i18n.t(\"quickAnswers.confirmationModal.deleteTitle\")} ${\n            deletingQuickAnswers.shortcut\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickAnswers(deletingQuickAnswers.id)}\n      >\n        {i18n.t(\"quickAnswers.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickAnswersModal\n        open={quickAnswersModalOpen}\n        onClose={handleCloseQuickAnswersModal}\n        aria-labelledby=\"form-dialog-title\"\n        quickAnswerId={selectedQuickAnswers && selectedQuickAnswers.id}\n      ></QuickAnswersModal>\n      <MainHeader>\n        <Title>{i18n.t(\"quickAnswers.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"quickAnswers.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQuickAnswersModal}\n          >\n            {i18n.t(\"quickAnswers.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.shortcut\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.message\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickAnswers.map((quickAnswer) => (\n                <TableRow key={quickAnswer.id}>\n                  <TableCell align=\"center\">{quickAnswer.shortcut}</TableCell>\n                  <TableCell align=\"center\">{quickAnswer.message}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickAnswers(quickAnswer)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickAnswers(quickAnswer);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QuickAnswers;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { GithubPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n  const [selectedColor, setSelectedColor] = useState(currentColor);\n\n  const handleChange = (color) => {\n    setSelectedColor(color.hex);\n    handleClose();\n  };\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n    >\n      <GithubPicker\n        width={\"100%\"}\n        triangle=\"hide\"\n        color={selectedColor}\n        onChange={handleChange}\n        onChangeComplete={(color) => onChange(color.hex)}\n      />\n    </Dialog>\n  );\n};\n\nexport default ColorPicker;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { Colorize } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst QueueSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tcolor: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n\tgreetingMessage: Yup.string(),\n});\n\nconst QueueModal = ({ open, onClose, queueId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\",\n\t\tgreetingMessage: \"\",\n\t};\n\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\tconst [queue, setQueue] = useState(initialState);\n\tconst greetingRef = useRef();\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tif (!queueId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/queue/${queueId}`);\n\t\t\t\tsetQueue(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\n\t\treturn () => {\n\t\t\tsetQueue({\n\t\t\t\tname: \"\",\n\t\t\t\tcolor: \"\",\n\t\t\t\tgreetingMessage: \"\",\n\t\t\t});\n\t\t};\n\t}, [queueId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetQueue(initialState);\n\t};\n\n\tconst handleSaveQueue = async values => {\n\t\ttry {\n\t\t\tif (queueId) {\n\t\t\t\tawait api.put(`/queue/${queueId}`, values);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/queue\", values);\n\t\t\t}\n\t\t\ttoast.success(\"Queue saved successfully\");\n\t\t\thandleClose();\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} scroll=\"paper\">\n\t\t\t\t<DialogTitle>\n\t\t\t\t\t{queueId\n\t\t\t\t\t\t? `${i18n.t(\"queueModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"queueModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={queue}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={QueueSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveQueue(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.name\")}\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.color\")}\n\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\t\t\t\t\tsetColorPickerModalOpen(true);\n\t\t\t\t\t\t\t\t\t\tgreetingRef.current.focus();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\topen={colorPickerModalOpen}\n\t\t\t\t\t\t\t\t\thandleClose={() => setColorPickerModalOpen(false)}\n\t\t\t\t\t\t\t\t\tonChange={color => {\n\t\t\t\t\t\t\t\t\t\tvalues.color = color;\n\t\t\t\t\t\t\t\t\t\tsetQueue(() => {\n\t\t\t\t\t\t\t\t\t\t\treturn { ...values, color };\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.greetingMessage\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tinputRef={greetingRef}\n\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && Boolean(errors.greetingMessage)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && errors.greetingMessage\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"queueModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{queueId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"queue\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n  const { isAuth, loading } = useContext(AuthContext);\n\n  if (!isAuth && isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n      </>\n    );\n  }\n\n  if (isAuth && !isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n      </>\n    );\n  }\n\n  return (\n    <>\n      {loading && <BackdropLoading />}\n      <RouterRoute {...rest} component={Component} />\n    </>\n  );\n};\n\nexport default Route;\n","import React from \"react\";\r\nimport { BrowserRouter, Switch } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nimport LoggedInLayout from \"../layout\";\r\nimport Dashboard from \"../pages/Dashboard/\";\r\nimport Tickets from \"../pages/Tickets/\";\r\nimport Signup from \"../pages/Signup/\";\r\nimport Login from \"../pages/Login/\";\r\nimport Connections from \"../pages/Connections/\";\r\nimport Settings from \"../pages/Settings/\";\r\nimport ClientAPI from \"../pages/ClientAPI\";\r\nimport Users from \"../pages/Users\";\r\nimport Contacts from \"../pages/Contacts/\";\r\nimport QuickAnswers from \"../pages/QuickAnswers/\";\r\nimport Queues from \"../pages/Queues/\";\r\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\r\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\r\nimport Route from \"./Route\";\r\n\r\nimport { Can } from \"../components/Can\";\r\nimport useAuth from \"../hooks/useAuth.js\";\r\n\r\nconst Routes = () => {\r\n  const { user } = useAuth();\r\n  return (\r\n    <BrowserRouter>\r\n      <AuthProvider>\r\n        <Switch>\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route exact path=\"/signup\" component={Signup} />\r\n\r\n          <WhatsAppsProvider>\r\n            <LoggedInLayout>\r\n              <Can\r\n                role={user.profile}\r\n                perform=\"drawer-admin-items:view\"\r\n                yes={() => (\r\n                  <>\r\n                    <Route exact path=\"/\" component={Dashboard} isPrivate />\r\n                    <Route\r\n                      exact\r\n                      path=\"/clientapi\"\r\n                      component={ClientAPI}\r\n                      isPrivate\r\n                    />\r\n                    <Route exact path=\"/users\" component={Users} isPrivate />\r\n                  </>\r\n                )}\r\n              />\r\n\r\n              <Route\r\n                exact\r\n                path=\"/tickets/:ticketId?\"\r\n                component={Tickets}\r\n                isPrivate\r\n              />\r\n\r\n              <Route exact path=\"/contacts\" component={Contacts} isPrivate />\r\n\r\n              <Route\r\n                exact\r\n                path=\"/quickAnswers\"\r\n                component={QuickAnswers}\r\n                isPrivate\r\n              />\r\n\r\n              <Can\r\n                role={user.profile}\r\n                perform=\"drawer-superadmin-items:view\"\r\n                yes={() => (\r\n                  <>\r\n                    <Route exact path=\"/\" component={Dashboard} isPrivate />\r\n                    <Route\r\n                      exact\r\n                      path=\"/clientapi\"\r\n                      component={ClientAPI}\r\n                      isPrivate\r\n                    />\r\n                    <Route exact path=\"/users\" component={Users} isPrivate />\r\n                    <Route\r\n                      exact\r\n                      path=\"/Settings\"\r\n                      component={Settings}\r\n                      isPrivate\r\n                    />\r\n                    <Route exact path=\"/Queues\" component={Queues} isPrivate />\r\n                    <Route\r\n                      exact\r\n                      path=\"/connections\"\r\n                      component={Connections}\r\n                      isPrivate\r\n                    />\r\n                  </>\r\n                )}\r\n              />\r\n            </LoggedInLayout>\r\n          </WhatsAppsProvider>\r\n        </Switch>\r\n        <ToastContainer autoClose={3000} />\r\n      </AuthProvider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useState, useEffect } from \"react\";\nimport Routes from \"./routes\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { ptBR } from \"@material-ui/core/locale\";\n\nconst App = () => {\n  const [locale, setLocale] = useState();\n\n  const theme = createTheme(\n    {\n      scrollbarStyles: {\n        \"&::-webkit-scrollbar\": {\n          width: \"8px\",\n          height: \"8px\",\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n          boxShadow: \"inset 0 0 6px rgba(0, 0, 0, 0.3)\",\n          backgroundColor: \"#e8e8e8\",\n        },\n      },\n      palette: {\n        primary: { main: \"#2576d2\" },\n      },\n    },\n    locale\n  );\n\n  useEffect(() => {\n    const i18nlocale = localStorage.getItem(\"i18nextLng\");\n    const browserLocale =\n      i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n    if (browserLocale === \"ptBR\") {\n      setLocale(ptBR);\n    }\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Routes />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<CssBaseline>\n// \t\t\t<App />\n// \t\t</CssBaseline>,\n//   </React.StrictMode>\n\n// \tdocument.getElementById(\"root\")\n// );\n"],"sourceRoot":""}