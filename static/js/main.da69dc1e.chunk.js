(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{436:function(e,t,a){e.exports=a.p+"static/media/sound.9fd5812c.mp3"},467:function(e,t,a){e.exports=a.p+"static/media/wa-background.adbccee0.png"},507:function(e,t,a){e.exports=a(738)},738:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(27),c=a.n(o),i=a(832),s=a(3),l=a(59),u=a(60),d=a(28),m=a(43),p=a(4),f=a(775),b=a(857),g=a(742),E=a(804),h=a(783),v=a(807),O=a(808),k=a(99),x=a(477),y=a(784),j=a(7),w=a.n(j),C=a(11),T=a(13),A=a(287),S=a(791),N=a(793),R=a(792),I=a(798),M=a(799),D=a(794),_=a(795),P=a(796),W=a(797),q=a(777),L=Object(f.a)((function(e){return{mainContainer:{flex:1,padding:0,height:"100%"},contentWrapper:{height:"100%",overflowY:"hidden",display:"flex",flexDirection:"column"}}})),U=function(e){var t=e.children,a=L();return r.a.createElement(q.a,{className:a.mainContainer,maxWidth:!1},r.a.createElement("div",{className:a.contentWrapper},t))},B=a(261),z=a.n(B),F=z.a.create({baseURL:"http://localhost:8080/",withCredentials:!0}),Q=a(35),H=a(23),G=a(785),V=a(786),K=a(787),Y=a(851),J=a(788),X=a(789),Z=a(790),$=a(328),ee=a(426),te=Object(T.a)(Object(T.a)(Object(T.a)({},{pt:{translations:{signup:{title:"Cadastre-se",toasts:{success:"Usu\xe1rio criado com sucesso! Fa\xe7a seu login!!!.",fail:"Erro ao criar usu\xe1rio. Verifique os dados informados."},form:{name:"Nome",email:"Email",password:"Senha"},buttons:{submit:"Cadastrar",login:"J\xe1 tem uma conta? Entre!"}},login:{title:"Login",form:{email:"Email",password:"Senha"},buttons:{submit:"Entrar",register:"N\xe3o tem um conta? Cadastre-se!"}},auth:{toasts:{success:"Login efetuado com sucesso!"}},dashboard:{charts:{perDay:{title:"Tickets hoje: "}}},connections:{title:"Conex\xf5es",toasts:{deleted:"Conex\xe3o com o WhatsApp exclu\xedda com sucesso!"},confirmationModal:{deleteTitle:"Deletar",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida.",disconnectTitle:"Desconectar",disconnectMessage:"Tem certeza? Voc\xea precisar\xe1 ler o QR Code novamente."},buttons:{add:"Adicionar WhatsApp",disconnect:"desconectar",tryAgain:"Tentar novamente",qrcode:"QR CODE",newQr:"Novo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"Falha ao iniciar sess\xe3o do WhatsApp",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e tente novamente, ou solicite um novo QR Code"},qrcode:{title:"Esperando leitura do QR Code",content:"Clique no bot\xe3o 'QR CODE' e leia o QR Code com o seu celular para iniciar a sess\xe3o"},connected:{title:"Conex\xe3o estabelecida!"},timeout:{title:"A conex\xe3o com o celular foi perdida",content:"Certifique-se de que seu celular esteja conectado \xe0 internet e o WhatsApp esteja aberto, ou clique no bot\xe3o 'Desconectar' para obter um novo QR Code"}},table:{name:"Nome",status:"Status",lastUpdate:"\xdaltima atualiza\xe7\xe3o",default:"Padr\xe3o",actions:"A\xe7\xf5es",session:"Sess\xe3o"}},whatsappModal:{title:{add:"Adicionar WhatsApp",edit:"Editar WhatsApp"},form:{name:"Nome",default:"Padr\xe3o"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"WhatsApp salvo com sucesso."},qrCode:{message:"Leia o QrCode para iniciar a sess\xe3o"},contacts:{title:"Contatos",toasts:{deleted:"Contato exclu\xeddo com sucesso!"},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Deletar ",importTitlte:"Importar contatos",deleteMessage:"Tem certeza que deseja deletar este contato? Todos os tickets relacionados ser\xe3o perdidos.",importMessage:"Deseja importas todos os contatos do telefone?"},buttons:{import:"Importar Contatos",add:"Adicionar Contato"},table:{name:"Nome",whatsapp:"WhatsApp",email:"Email",actions:"A\xe7\xf5es"}},contactModal:{title:{add:"Adicionar contato",edit:"Editar contato"},form:{mainInfo:"Dados do contato",extraInfo:"Informa\xe7\xf5es adicionais",name:"Nome",number:"N\xfamero do Whatsapp",email:"Email",extraName:"Nome do campo",extraValue:"Valor"},buttons:{addExtraInfo:"Adicionar informa\xe7\xe3o",okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Contato salvo com sucesso."},quickAnswersModal:{title:{add:"Adicionar Resposta R\xe1pida",edit:"Editar Resposta R\xe1pida"},form:{shortcut:"Atalho",message:"Resposta R\xe1pida"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Resposta R\xe1pida salva com sucesso."},queueModal:{title:{add:"Adicionar fila",edit:"Editar fila"},form:{name:"Nome",color:"Cor",greetingMessage:"Mensagem de sauda\xe7\xe3o"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"}},userModal:{title:{add:"Adicionar usu\xe1rio",edit:"Editar usu\xe1rio"},form:{name:"Nome",email:"Email",password:"Senha",profile:"Perfil"},buttons:{okAdd:"Adicionar",okEdit:"Salvar",cancel:"Cancelar"},success:"Usu\xe1rio salvo com sucesso."},chat:{noTicketMessage:"Selecione um ticket para come\xe7ar a conversar."},ticketsManager:{buttons:{newTicket:"Novo"}},ticketsQueueSelect:{placeholder:"Filas"},tickets:{toasts:{deleted:"O ticket que voc\xea estava foi deletado."},notification:{message:"Mensagem de"},tabs:{open:{title:"Inbox"},closed:{title:"Resolvidos"},search:{title:"Busca"}},search:{placeholder:"Buscar tickets e mensagens"},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Digite para buscar usu\xe1rios",noOptions:"Nenhum usu\xe1rio encontrado com esse nome",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Aguardando",assignedHeader:"Atendendo",noTicketsTitle:"Nada aqui!",noTicketsMessage:"Nenhum ticket encontrado com esse status ou termo pesquisado",buttons:{accept:"Aceitar"}},newTicketModal:{title:"Criar Ticket",fieldLabel:"Digite para pesquisar o contato",add:"Adicionar",buttons:{ok:"Salvar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conex\xf5es",tickets:"Tickets",contacts:"Contatos",quickAnswers:"Respostas R\xe1pidas",queues:"Filas",administration:"Administra\xe7\xe3o",users:"Usu\xe1rios",settings:"Configura\xe7\xf5es"},appBar:{user:{profile:"Perfil",logout:"Sair"}}},notifications:{noTickets:"Nenhuma notifica\xe7\xe3o."},queues:{title:"Filas",table:{name:"Nome",color:"Cor",greeting:"Mensagem de sauda\xe7\xe3o",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar fila"},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Voc\xea tem certeza? Essa a\xe7\xe3o n\xe3o pode ser revertida! Os tickets dessa fila continuar\xe3o existindo, mas n\xe3o ter\xe3o mais nenhuma fila atribu\xedda."}},queueSelect:{inputLabel:"Filas"},quickAnswers:{title:"Respostas R\xe1pidas",table:{shortcut:"Atalho",message:"Resposta R\xe1pida",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar Resposta R\xe1pida"},toasts:{deleted:"Resposta R\xe1pida exclu\xedda com sucesso."},searchPlaceholder:"Pesquisar...",confirmationModal:{deleteTitle:"Voc\xea tem certeza que quer excluir esta Resposta R\xe1pida: ",deleteMessage:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},users:{title:"Usu\xe1rios",table:{name:"Nome",email:"Email",profile:"Perfil",actions:"A\xe7\xf5es"},buttons:{add:"Adicionar usu\xe1rio"},toasts:{deleted:"Usu\xe1rio exclu\xeddo com sucesso."},confirmationModal:{deleteTitle:"Excluir",deleteMessage:"Todos os dados do usu\xe1rio ser\xe3o perdidos. Os tickets abertos deste usu\xe1rio ser\xe3o movidos para a fila."}},settings:{success:"Configura\xe7\xf5es salvas com sucesso.",title:"Configura\xe7\xf5es",settings:{userCreation:{name:"Cria\xe7\xe3o de usu\xe1rio",options:{enabled:"Ativado",disabled:"Desativado"}}}},messagesList:{header:{assignedTo:"Atribu\xeddo \xe0:",buttons:{return:"Retornar",resolve:"Resolver",reopen:"Reabrir",accept:"Aceitar"}}},messagesInput:{placeholderOpen:"Digite uma mensagem",placeholderClosed:"Reabra ou aceite esse ticket para enviar uma mensagem.",signMessage:"Assinar"},contactDrawer:{header:"Dados do contato",buttons:{edit:"Editar contato"},extraInfo:"Outras informa\xe7\xf5es"},ticketOptionsMenu:{delete:"Deletar",transfer:"Transferir",confirmationModal:{title:"Deletar o ticket do contato",message:"Aten\xe7\xe3o! Todas as mensagens relacionadas ao ticket ser\xe3o perdidas."},buttons:{delete:"Excluir",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Deletar",reply:"Responder",confirmationModal:{title:"Apagar mensagem?",message:"Esta a\xe7\xe3o n\xe3o pode ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Deve haver pelo menos um WhatsApp padr\xe3o.",ERR_NO_DEF_WAPP_FOUND:"Nenhum WhatsApp padr\xe3o encontrado. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_NOT_INITIALIZED:"Esta sess\xe3o do WhatsApp n\xe3o foi inicializada. Verifique a p\xe1gina de conex\xf5es.",ERR_WAPP_CHECK_CONTACT:"N\xe3o foi poss\xedvel verificar o contato do WhatsApp. Verifique a p\xe1gina de conex\xf5es",ERR_WAPP_INVALID_CONTACT:"Este n\xe3o \xe9 um n\xfamero de Whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"N\xe3o foi poss\xedvel baixar m\xeddia do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_INVALID_CREDENTIALS:"Erro de autentica\xe7\xe3o. Por favor, tente novamente.",ERR_SENDING_WAPP_MSG:"Erro ao enviar mensagem do WhatsApp. Verifique a p\xe1gina de conex\xf5es.",ERR_DELETE_WAPP_MSG:"N\xe3o foi poss\xedvel excluir a mensagem do WhatsApp.",ERR_OTHER_OPEN_TICKET:"J\xe1 existe um t\xedquete aberto para este contato.",ERR_SESSION_EXPIRED:"Sess\xe3o expirada. Por favor entre.",ERR_USER_CREATION_DISABLED:"A cria\xe7\xe3o do usu\xe1rio foi desabilitada pelo administrador.",ERR_NO_PERMISSION:"Voc\xea n\xe3o tem permiss\xe3o para acessar este recurso.",ERR_DUPLICATED_CONTACT:"J\xe1 existe um contato com este n\xfamero.",ERR_NO_SETTING_FOUND:"Nenhuma configura\xe7\xe3o encontrada com este ID.",ERR_NO_CONTACT_FOUND:"Nenhum contato encontrado com este ID.",ERR_NO_TICKET_FOUND:"Nenhum t\xedquete encontrado com este ID.",ERR_NO_USER_FOUND:"Nenhum usu\xe1rio encontrado com este ID.",ERR_NO_WAPP_FOUND:"Nenhum WhatsApp encontrado com este ID.",ERR_CREATING_MESSAGE:"Erro ao criar mensagem no banco de dados.",ERR_CREATING_TICKET:"Erro ao criar t\xedquete no banco de dados.",ERR_FETCH_WAPP_MSG:"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Esta cor j\xe1 est\xe1 em uso, escolha outra.",ERR_WAPP_GREETING_REQUIRED:"A mensagem de sauda\xe7\xe3o \xe9 obrigat\xf3rio quando h\xe1 mais de uma fila."}}}}),{en:{translations:{signup:{title:"Sign up",toasts:{success:"User created successfully! Please login!",fail:"Error creating user. Check the reported data."},form:{name:"Name",email:"Email",password:"Password"},buttons:{submit:"Register",login:"Already have an account? Log in!"}},login:{title:"Login",form:{email:"Email",password:"Password"},buttons:{submit:"Enter",register:"Don't have an account? Register!"}},auth:{toasts:{success:"Login successfully!"}},dashboard:{charts:{perDay:{title:"Tickets today: "}}},connections:{title:"Connections",toasts:{deleted:"WhatsApp connection deleted sucessfully!"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted.",disconnectTitle:"Disconnect",disconnectMessage:"Are you sure? You'll need to read QR Code again."},buttons:{add:"Add WhatsApp",disconnect:"Disconnect",tryAgain:"Try Again",qrcode:"QR CODE",newQr:"New QR CODE",connecting:"Connectiing"},toolTips:{disconnected:{title:"Failed to start WhatsApp session",content:"Make sure your cell phone is connected to the internet and try again, or request a new QR Code"},qrcode:{title:"Waiting for QR Code read",content:"Click on 'QR CODE' button and read the QR Code with your cell phone to start session"},connected:{title:"Connection established"},timeout:{title:"Connection with cell phone has been lost",content:"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode"}},table:{name:"Name",status:"Status",lastUpdate:"Last Update",default:"Default",actions:"Actions",session:"Session"}},whatsappModal:{title:{add:"Add WhatsApp",edit:"Edit WhatsApp"},form:{name:"Name",default:"Default"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"WhatsApp saved successfully."},qrCode:{message:"Read QrCode to start the session"},contacts:{title:"Contacts",toasts:{deleted:"Contact deleted sucessfully!"},searchPlaceholder:"Search ...",confirmationModal:{deleteTitle:"Delete",importTitlte:"Import contacts",deleteMessage:"Are you sure you want to delete this contact? All related tickets will be lost.",importMessage:"Do you want to import all contacts from the phone?"},buttons:{import:"Import Contacts",add:"Add Contact"},table:{name:"Name",whatsapp:"WhatsApp",email:"Email",actions:"Actions"}},contactModal:{title:{add:"Add contact",edit:"Edit contact"},form:{mainInfo:"Contact details",extraInfo:"Additional information",name:"Name",number:"Whatsapp number",email:"Email",extraName:"Field name",extraValue:"Value"},buttons:{addExtraInfo:"Add information",okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Contact saved successfully."},quickAnswersModal:{title:{add:"Add Quick Reply",edit:"Edit Quick Answer"},form:{shortcut:"Shortcut",message:"Quick Reply"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"Quick Reply saved successfully."},queueModal:{title:{add:"Add queue",edit:"Edit queue"},form:{name:"Name",color:"Color",greetingMessage:"Greeting Message"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"}},userModal:{title:{add:"Add user",edit:"Edit user"},form:{name:"Name",email:"Email",password:"Password",profile:"Profile"},buttons:{okAdd:"Add",okEdit:"Save",cancel:"Cancel"},success:"User saved successfully."},chat:{noTicketMessage:"Select a ticket to start chatting."},ticketsManager:{buttons:{newTicket:"New"}},ticketsQueueSelect:{placeholder:"Queues"},tickets:{toasts:{deleted:"The ticket you were on has been deleted."},notification:{message:"Message from"},tabs:{open:{title:"Inbox"},closed:{title:"Resolved"},search:{title:"Search"}},search:{placeholder:"Search tickets and messages."},buttons:{showAll:"All"}},transferTicketModal:{title:"Transfer Ticket",fieldLabel:"Type to search for users",noOptions:"No user found with this name",buttons:{ok:"Transfer",cancel:"Cancel"}},ticketsList:{pendingHeader:"Queue",assignedHeader:"Working on",noTicketsTitle:"Nothing here!",noTicketsMessage:"No tickets found with this status or search term.",buttons:{accept:"Accept"}},newTicketModal:{title:"Create Ticket",fieldLabel:"Type to search for a contact",add:"Add",buttons:{ok:"Save",cancel:"Cancel"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Connections",tickets:"Tickets",contacts:"Contacts",quickAnswers:"Quick Answers",queues:"Queues",administration:"Administration",users:"Users",settings:"Settings"},appBar:{user:{profile:"Profile",logout:"Logout"}}},notifications:{noTickets:"No notifications."},queues:{title:"Queues",table:{name:"Name",color:"Color",greeting:"Greeting message",actions:"Actions"},buttons:{add:"Add queue"},confirmationModal:{deleteTitle:"Delete",deleteMessage:"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned."}},queueSelect:{inputLabel:"Queues"},quickAnswers:{title:"Quick Answers",table:{shortcut:"Shortcut",message:"Quick Reply",actions:"Actions"},buttons:{add:"Add Quick Reply"},toasts:{deleted:"Quick Reply deleted successfully."},searchPlaceholder:"Search...",confirmationModal:{deleteTitle:"Are you sure you want to delete this Quick Reply: ",deleteMessage:"This action cannot be undone."}},users:{title:"Users",table:{name:"Name",email:"Email",profile:"Profile",actions:"Actions"},buttons:{add:"Add user"},toasts:{deleted:"User deleted sucessfully."},confirmationModal:{deleteTitle:"Delete",deleteMessage:"All user data will be lost. Users' open tickets will be moved to queue."}},settings:{success:"Settings saved successfully.",title:"Settings",settings:{userCreation:{name:"User creation",options:{enabled:"Enabled",disabled:"Disabled"}}}},messagesList:{header:{assignedTo:"Assigned to:",buttons:{return:"Return",resolve:"Resolve",reopen:"Reopen",accept:"Accept"}}},messagesInput:{placeholderOpen:"Type a message",placeholderClosed:"Reopen or accept this ticket to send a message.",signMessage:"Sign"},contactDrawer:{header:"Contact details",buttons:{edit:"Edit contact"},extraInfo:"Other information"},ticketOptionsMenu:{delete:"Delete",transfer:"Transfer",confirmationModal:{title:"Delete ticket #",titleFrom:"from contact ",message:"Attention! All ticket's related messages will be lost."},buttons:{delete:"Delete",cancel:"Cancel"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancel"}},messageOptionsMenu:{delete:"Delete",reply:"Reply",confirmationModal:{title:"Delete message?",message:"This action cannot be reverted."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"There must be at lest one default WhatsApp connection.",ERR_NO_DEF_WAPP_FOUND:"No default WhatsApp found. Check connections page.",ERR_WAPP_NOT_INITIALIZED:"This WhatsApp session is not initialized. Check connections page.",ERR_WAPP_CHECK_CONTACT:"Could not check WhatsApp contact. Check connections page.",ERR_WAPP_INVALID_CONTACT:"This is not a valid whatsapp number.",ERR_WAPP_DOWNLOAD_MEDIA:"Could not download media from WhatsApp. Check connections page.",ERR_INVALID_CREDENTIALS:"Authentication error. Please try again.",ERR_SENDING_WAPP_MSG:"Error sending WhatsApp message. Check connections page.",ERR_DELETE_WAPP_MSG:"Couldn't delete message from WhatsApp.",ERR_OTHER_OPEN_TICKET:"There's already an open ticket for this contact.",ERR_SESSION_EXPIRED:"Session expired. Please login.",ERR_USER_CREATION_DISABLED:"User creation was disabled by administrator.",ERR_NO_PERMISSION:"You don't have permission to access this resource.",ERR_DUPLICATED_CONTACT:"A contact with this number already exists.",ERR_NO_SETTING_FOUND:"No setting found with this ID.",ERR_NO_CONTACT_FOUND:"No contact found with this ID.",ERR_NO_TICKET_FOUND:"No ticket found with this ID.",ERR_NO_USER_FOUND:"No user found with this ID.",ERR_NO_WAPP_FOUND:"No WhatsApp found with this ID.",ERR_CREATING_MESSAGE:"Error while creating message on database.",ERR_CREATING_TICKET:"Error while creating ticket on database.",ERR_FETCH_WAPP_MSG:"Error fetching the message in WhtasApp, maybe it is too old.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"This color is already in use, pick another one.",ERR_WAPP_GREETING_REQUIRED:"Greeting message is required if there is more than one queue."}}}}),{es:{translations:{signup:{title:"Registro",toasts:{success:"\xa1El usuario ha sido creado satisfactoriamente! \xa1Ahora inicia sesi\xf3n!",fail:"Error creando el usuario. Verifica la data reportada."},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Reg\xedstrate",login:"\xbfYa tienes una cuenta? \xa1Inicia sesi\xf3n!"}},login:{title:"Inicio de Sesi\xf3n",form:{email:"Correo Electr\xf3nico",password:"Contrase\xf1a"},buttons:{submit:"Ingresa",register:"\xbfNo tienes cuenta? \xa1Reg\xedstrate!"}},auth:{toasts:{success:"\xa1Inicio de sesi\xf3n exitoso!"}},dashboard:{charts:{perDay:{title:"Tickets hoy: "}}},connections:{title:"Conexiones",toasts:{deleted:"\xa1La conexi\xf3n de WhatsApp ha sido borrada satisfactoriamente!"},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"\xbfEst\xe1s seguro? Este proceso no puede ser revertido.",disconnectTitle:"Desconectar",disconnectMessage:"Est\xe1s seguro? Deber\xe1 volver a leer el c\xf3digo QR"},buttons:{add:"Agrega WhatsApp",disconnect:"Desconectar",tryAgain:"Int\xe9ntalo de nuevo",qrcode:"QR CODE",newQr:"Nuevo QR CODE",connecting:"Conectando"},toolTips:{disconnected:{title:"No se pudo iniciar la sesi\xf3n de WhatsApp",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y vuelva a intentarlo o solicite un nuevo c\xf3digo QR"},qrcode:{title:"Esperando la lectura del c\xf3digo QR",content:"Haga clic en el bot\xf3n 'C\xd3DIGO QR' y lea el C\xf3digo QR con su tel\xe9fono celular para iniciar la sesi\xf3n"},connected:{title:"Conexi\xf3n establecida"},timeout:{title:"Se perdi\xf3 la conexi\xf3n con el tel\xe9fono celular",content:"Aseg\xfarese de que su tel\xe9fono celular est\xe9 conectado a Internet y que WhatsApp est\xe9 abierto, o haga clic en el bot\xf3n 'Desconectar' para obtener un nuevo c\xf3digo QR"}},table:{name:"Nombre",status:"Estado",lastUpdate:"\xdaltima Actualizaci\xf3n",default:"Por Defecto",actions:"Acciones",session:"Sesi\xf3n"}},whatsappModal:{title:{add:"Agrega WhatsApp",edit:"Edita WhatsApp"},form:{name:"Nombre",default:"Por Defecto"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"WhatsApp guardado satisfactoriamente."},qrCode:{message:"L\xe9e el c\xf3digo QR para empezar la sesi\xf3n."},contacts:{title:"Contactos",toasts:{deleted:"\xa1Contacto borrado satisfactoriamente!"},searchPlaceholder:"Buscar...",confirmationModal:{deleteTitle:"Borrar",importTitlte:"Importar contactos",deleteMessage:"\xbfEst\xe1s seguro que deseas borrar este contacto? Todos los tickets relacionados se perder\xe1n.",importMessage:"\xbfQuieres importar todos los contactos desde tu tel\xe9fono?"},buttons:{import:"Importar Contactos",add:"Agregar Contacto"},table:{name:"Nombre",whatsapp:"WhatsApp",email:"Correo Electr\xf3nico",actions:"Acciones"}},contactModal:{title:{add:"Agregar contacto",edit:"Editar contacto"},form:{mainInfo:"Detalles del contacto",extraInfo:"Informaci\xf3n adicional",name:"Nombre",number:"N\xfamero de Whatsapp",email:"Correo Electr\xf3nico",extraName:"Nombre del Campo",extraValue:"Valor"},buttons:{addExtraInfo:"Agregar informaci\xf3n",okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Contacto guardado satisfactoriamente."},quickAnswersModal:{title:{add:"Agregar respuesta r\xe1pida",edit:"Editar respuesta r\xe1pida"},form:{shortcut:"Atajo",message:"Respuesta r\xe1pida"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Respuesta r\xe1pida guardada correctamente."},queueModal:{title:{add:"Agregar cola",edit:"Editar cola"},form:{name:"Nombre",color:"Color",greetingMessage:"Mensaje de saludo"},buttons:{okAdd:"A\xf1adir",okEdit:"Ahorrar",cancel:"Cancelar"}},userModal:{title:{add:"Agregar usuario",edit:"Editar usuario"},form:{name:"Nombre",email:"Correo Electr\xf3nico",password:"Contrase\xf1a",profile:"Perfil"},buttons:{okAdd:"Agregar",okEdit:"Guardar",cancel:"Cancelar"},success:"Usuario guardado satisfactoriamente."},chat:{noTicketMessage:"Selecciona un ticket para empezar a chatear."},ticketsManager:{buttons:{newTicket:"Nuevo"}},ticketsQueueSelect:{placeholder:"Linhas"},tickets:{toasts:{deleted:"El ticket en el que estabas ha sido borrado."},notification:{message:"Mensaje de"},tabs:{open:{title:"Bandeja"},closed:{title:"Resueltos"},search:{title:"Buscar"}},search:{placeholder:"Buscar tickets y mensajes."},buttons:{showAll:"Todos"}},transferTicketModal:{title:"Transferir Ticket",fieldLabel:"Escriba para buscar usuarios",noOptions:"No se encontraron usuarios con ese nombre",buttons:{ok:"Transferir",cancel:"Cancelar"}},ticketsList:{pendingHeader:"Cola",assignedHeader:"Trabajando en",noTicketsTitle:"\xa1Nada ac\xe1!",noTicketsMessage:"No se encontraron tickets con este estado o t\xe9rmino de b\xfasqueda",buttons:{accept:"Acceptar"}},newTicketModal:{title:"Crear Ticket",fieldLabel:"Escribe para buscar un contacto",add:"A\xf1adir",buttons:{ok:"Guardar",cancel:"Cancelar"}},mainDrawer:{listItems:{dashboard:"Dashboard",connections:"Conexiones",tickets:"Tickets",contacts:"Contactos",quickAnswers:"Respuestas r\xe1pidas",queues:"Linhas",administration:"Administraci\xf3n",users:"Usuarios",settings:"Configuraci\xf3n"},appBar:{user:{profile:"Perfil",logout:"Cerrar Sesi\xf3n"}}},notifications:{noTickets:"Sin notificaciones."},queues:{title:"Linhas",table:{name:"Nombre",color:"Color",greeting:"Mensaje de saludo",actions:"Comportamiento"},buttons:{add:"Agregar cola"},confirmationModal:{deleteTitle:"Eliminar",deleteMessage:"\xbfEst\xe1s seguro? \xa1Esta acci\xf3n no se puede revertir! Los tickets en esa cola seguir\xe1n existiendo, pero ya no tendr\xe1n ninguna cola asignada."}},queueSelect:{inputLabel:"Linhas"},quickAnswers:{title:"Respuestas r\xe1pidas",table:{shortcut:"Atajo",message:"Respuesta r\xe1pida",actions:"Acciones"},buttons:{add:"Agregar respuesta r\xe1pida"},toasts:{deleted:"Respuesta r\xe1pida eliminada correctamente"},searchPlaceholder:"Buscar ...",confirmationModal:{deleteTitle:"\xbfEst\xe1 seguro de que desea eliminar esta respuesta r\xe1pida?",deleteMessage:"Esta acci\xf3n no se puede deshacer."}},users:{title:"Usuarios",table:{name:"Nombre",email:"Correo Electr\xf3nico",profile:"Perfil",actions:"Acciones"},buttons:{add:"Agregar usuario"},toasts:{deleted:"Usuario borrado satisfactoriamente."},confirmationModal:{deleteTitle:"Borrar",deleteMessage:"Toda la informaci\xf3n del usuario se perder\xe1. Los tickets abiertos de los usuarios se mover\xe1n a la cola."}},settings:{success:"Configuraci\xf3n guardada satisfactoriamente.",title:"Configuraci\xf3n",settings:{userCreation:{name:"Creaci\xf3n de usuarios",options:{enabled:"Habilitado",disabled:"Deshabilitado"}}}},messagesList:{header:{assignedTo:"Asignado a:",buttons:{return:"Devolver",resolve:"Resolver",reopen:"Reabrir",accept:"Aceptar"}}},messagesInput:{placeholderOpen:"Escribe un mensaje",placeholderClosed:"Vuelva a abrir o acepte este ticket para enviar un mensaje.",signMessage:"Firmar"},contactDrawer:{header:"Detalles del contacto",buttons:{edit:"Editar contacto"},extraInfo:"Otra informaci\xf3n"},ticketOptionsMenu:{delete:"Borrar",transfer:"Transferir",confirmationModal:{title:"\xbfBorrar ticket #",titleFrom:"del contacto ",message:"\xa1Atenci\xf3n! Todos los mensajes Todos los mensajes relacionados con el ticket se perder\xe1n."},buttons:{delete:"Borrar",cancel:"Cancelar"}},confirmationModal:{buttons:{confirm:"Ok",cancel:"Cancelar"}},messageOptionsMenu:{delete:"Borrar",reply:"Responder",confirmationModal:{title:"\xbfBorrar mensaje?",message:"Esta acci\xf3n no puede ser revertida."}},backendErrors:{ERR_NO_OTHER_WHATSAPP:"Debe haber al menos una conexi\xf3n de WhatsApp predeterminada.",ERR_NO_DEF_WAPP_FOUND:"No se encontr\xf3 WhatsApp predeterminado. Verifique la p\xe1gina de conexiones.",ERR_WAPP_NOT_INITIALIZED:"Esta sesi\xf3n de WhatsApp no \u200b\u200best\xe1 inicializada. Verifique la p\xe1gina de conexiones.",ERR_WAPP_CHECK_CONTACT:"No se pudo verificar el contacto de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_WAPP_INVALID_CONTACT:"Este no es un n\xfamero de whatsapp v\xe1lido.",ERR_WAPP_DOWNLOAD_MEDIA:"No se pudieron descargar los medios de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_INVALID_CREDENTIALS:"Error de autenticaci\xf3n. Vuelva a intentarlo.",ERR_SENDING_WAPP_MSG:"Error al enviar el mensaje de WhatsApp. Verifique la p\xe1gina de conexiones.",ERR_DELETE_WAPP_MSG:"No se pudo borrar el mensaje de WhatsApp.",ERR_OTHER_OPEN_TICKET:"Ya hay un ticket abierto para este contacto.",ERR_SESSION_EXPIRED:"Sesi\xf3n caducada. Inicie sesi\xf3n.",ERR_USER_CREATION_DISABLED:"La creaci\xf3n de usuarios fue deshabilitada por el administrador.",ERR_NO_PERMISSION:"No tienes permiso para acceder a este recurso.",ERR_DUPLICATED_CONTACT:"Ya existe un contacto con este n\xfamero.",ERR_NO_SETTING_FOUND:"No se encontr\xf3 ninguna configuraci\xf3n con este ID.",ERR_NO_CONTACT_FOUND:"No se encontr\xf3 ning\xfan contacto con este ID.",ERR_NO_TICKET_FOUND:"No se encontr\xf3 ning\xfan ticket con este ID.",ERR_NO_USER_FOUND:"No se encontr\xf3 ning\xfan usuario con este ID.",ERR_NO_WAPP_FOUND:"No se encontr\xf3 WhatsApp con este ID.",ERR_CREATING_MESSAGE:"Error al crear el mensaje en la base de datos.",ERR_CREATING_TICKET:"Error al crear el ticket en la base de datos.",ERR_FETCH_WAPP_MSG:"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.",ERR_QUEUE_COLOR_ALREADY_EXISTS:"Este color ya est\xe1 en uso, elija otro.",ERR_WAPP_GREETING_REQUIRED:"El mensaje de saludo es obligatorio cuando hay m\xe1s de una cola."}}}});$.a.use(ee.a).init({debug:!1,defaultNS:["translations"],fallbackLng:"en",ns:["translations"],resources:te});var ae=function(e){var t,a,n=null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error;n?$.a.exists("backendErrors.".concat(n))?d.b.error($.a.t("backendErrors.".concat(n)),{toastId:n}):d.b.error(n,{toastId:n}):d.b.error("An error occurred!")},ne=a(850),re=a(779),oe=a(846),ce=a(856),ie=Object(f.a)((function(e){return{chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2}}})),se=function(e){var t=e.selectedQueueIds,a=e.onChange,o=ie(),c=Object(n.useState)([]),i=Object(s.a)(c,2),l=i[0],u=i[1];Object(n.useEffect)((function(){Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/queue");case 3:t=e.sent,a=t.data,u(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ae(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}),[]);return r.a.createElement("div",{style:{marginTop:6}},r.a.createElement(re.a,{fullWidth:!0,margin:"dense",variant:"outlined"},r.a.createElement(ne.a,null,$.a.t("queueSelect.inputLabel")),r.a.createElement(oe.a,{multiple:!0,labelWidth:60,value:t,onChange:function(e){a(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(e){return r.a.createElement("div",{className:o.chips},(null===e||void 0===e?void 0:e.length)>0&&e.map((function(e){var t=l.find((function(t){return t.id===e}));return t?r.a.createElement(ce.a,{key:e,style:{backgroundColor:t.color},variant:"outlined",label:t.name,className:o.chip}):null})))}},l.map((function(e){return r.a.createElement(y.a,{key:e.id,value:e.id},e.name)})))))},le=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:A.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),ue=Q.a().shape({name:Q.b().min(2,"Too Short!").max(50,"Too Long!").required("Required")}),de=r.a.memo((function(e){var t=e.open,a=e.onClose,o=e.whatsAppId,c=le(),i={name:"",greetingMessage:"",isDefault:!1},l=Object(n.useState)(i),u=Object(s.a)(l,2),m=u[0],p=u[1],f=Object(n.useState)([]),b=Object(s.a)(f,2),g=b[0],E=b[1];Object(n.useEffect)((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,F.get("whatsapp/".concat(o));case 5:a=e.sent,n=a.data,p(n),r=null===(t=n.queues)||void 0===t?void 0:t.map((function(e){return e.id})),E(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),ae(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}})()()}),[o]);var h=function(){var e=Object(C.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(T.a)(Object(T.a)({},t),{},{queueIds:g}),e.prev=1,!o){e.next=7;break}return e.next=5,F.put("/whatsapp/".concat(o),a);case 5:e.next=9;break;case 7:return e.next=9,F.post("/whatsapp",a);case 9:d.b.success($.a.t("whatsappModal.success")),v(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),ae(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){a(),p(i)};return r.a.createElement("div",{className:c.root},r.a.createElement(G.a,{open:t,onClose:v,maxWidth:"sm",fullWidth:!0,scroll:"paper"},r.a.createElement(V.a,null,o?$.a.t("whatsappModal.title.edit"):$.a.t("whatsappModal.title.add")),r.a.createElement(H.d,{initialValues:m,enableReinitialize:!0,validationSchema:ue,onSubmit:function(e,t){setTimeout((function(){h(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.values,a=e.touched,n=e.errors,i=e.isSubmitting;return r.a.createElement(H.c,null,r.a.createElement(K.a,{dividers:!0},r.a.createElement("div",{className:c.multFieldLine},r.a.createElement(H.a,{as:Y.a,label:$.a.t("whatsappModal.form.name"),autoFocus:!0,name:"name",error:a.name&&Boolean(n.name),helperText:a.name&&n.name,variant:"outlined",margin:"dense",className:c.textField}),r.a.createElement(J.a,{control:r.a.createElement(H.a,{as:X.a,color:"primary",name:"isDefault",checked:t.isDefault}),label:$.a.t("whatsappModal.form.default")})),r.a.createElement("div",null,r.a.createElement(H.a,{as:Y.a,label:$.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,rows:5,fullWidth:!0,name:"greetingMessage",error:a.greetingMessage&&Boolean(n.greetingMessage),helperText:a.greetingMessage&&n.greetingMessage,variant:"outlined",margin:"dense"})),r.a.createElement(se,{selectedQueueIds:g,onChange:function(e){return E(e)}})),r.a.createElement(Z.a,null,r.a.createElement(S.a,{onClick:v,color:"secondary",disabled:i,variant:"outlined"},$.a.t("whatsappModal.buttons.cancel")),r.a.createElement(S.a,{type:"submit",color:"primary",disabled:i,variant:"contained",className:c.btnWrapper},o?$.a.t("whatsappModal.buttons.okEdit"):$.a.t("whatsappModal.buttons.okAdd"),i&&r.a.createElement(R.a,{size:24,className:c.buttonProgress}))))}))))})),me=function(e){var t=e.title,a=e.children,n=e.open,o=e.onClose,c=e.onConfirm;return r.a.createElement(G.a,{open:n,onClose:function(){return o(!1)},"aria-labelledby":"confirm-dialog"},r.a.createElement(V.a,{id:"confirm-dialog"},t),r.a.createElement(K.a,{dividers:!0},r.a.createElement(k.a,null,a)),r.a.createElement(Z.a,null,r.a.createElement(S.a,{variant:"contained",onClick:function(){return o(!1)},color:"default"},$.a.t("confirmationModal.buttons.cancel")),r.a.createElement(S.a,{variant:"contained",onClick:function(){o(!1),c()},color:"secondary"},$.a.t("confirmationModal.buttons.confirm"))))},pe=a(427),fe=a.n(pe),be=a(50),ge=a.n(be),Ee=a(292),he=r.a.memo((function(e){var t=e.open,a=e.onClose,o=e.whatsAppId,c=Object(n.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,F.get("/whatsapp/".concat(o));case 5:t=e.sent,a=t.data,u(a.qrcode),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),ae(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}})()()}),[o]),Object(n.useEffect)((function(){if(o){var e=ge()("http://localhost:8080/");return e.on("whatsappSession",(function(e){"update"===e.action&&e.session.id===o&&u(e.session.qrcode),"update"===e.action&&""===e.session.qrcode&&a()})),function(){e.disconnect()}}}),[o,a]),r.a.createElement(G.a,{open:t,onClose:a,maxWidth:"lg",scroll:"paper"},r.a.createElement(K.a,null,r.a.createElement(Ee.a,{elevation:0},r.a.createElement(k.a,{color:"primary",gutterBottom:!0},$.a.t("qrCode.message")),l?r.a.createElement(fe.a,{value:l,size:256}):r.a.createElement("span",null,"Waiting for QR Code"))))})),ve=a(14),Oe=function(e,t){if("LOAD_WHATSAPPS"===t.type){var a=t.payload;return Object(ve.a)(a)}if("UPDATE_WHATSAPPS"===t.type){var n=t.payload,r=e.findIndex((function(e){return e.id===n.id}));return-1!==r?(e[r]=n,Object(ve.a)(e)):[n].concat(Object(ve.a)(e))}if("UPDATE_SESSION"===t.type){var o=t.payload,c=e.findIndex((function(e){return e.id===o.id}));return-1!==c?(e[c].status=o.status,e[c].updatedAt=o.updatedAt,e[c].qrcode=o.qrcode,e[c].retries=o.retries,Object(ve.a)(e)):Object(ve.a)(e)}if("DELETE_WHATSAPPS"===t.type){var i=t.payload,s=e.findIndex((function(e){return e.id===i}));return-1!==s&&e.splice(s,1),Object(ve.a)(e)}if("RESET"===t.type)return[]},ke=function(){var e=Object(n.useReducer)(Oe,[]),t=Object(s.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!0),c=Object(s.a)(o,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){l(!0),function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/whatsapp/");case 3:t=e.sent,a=t.data,r({type:"LOAD_WHATSAPPS",payload:a}),l(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),l(!1),ae(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()()}),[]),Object(n.useEffect)((function(){var e=ge()("http://localhost:8080/");return e.on("whatsapp",(function(e){"update"===e.action&&r({type:"UPDATE_WHATSAPPS",payload:e.whatsapp})})),e.on("whatsapp",(function(e){"delete"===e.action&&r({type:"DELETE_WHATSAPPS",payload:e.whatsappId})})),e.on("whatsappSession",(function(e){"update"===e.action&&r({type:"UPDATE_SESSION",payload:e.session})})),function(){e.disconnect()}}),[]),{whatsApps:a,loading:i}},xe=Object(n.createContext)(),ye=function(e){var t=e.children,a=ke(),n=a.loading,o=a.whatsApps;return r.a.createElement(xe.Provider,{value:{whatsApps:o,loading:n}},t)},je=function(){var e=Object(u.g)(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!0),i=Object(s.a)(c,2),l=i[0],m=i[1],p=Object(n.useState)({}),f=Object(s.a)(p,2),b=f[0],g=f[1];return F.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(JSON.parse(t)),o(!0)),e}),(function(e){Promise.reject(e)})),F.interceptors.response.use((function(e){return e}),function(){var e=Object(C.a)(w.a.mark((function e(t){var a,n,r,c,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.config,403!==(null===t||void 0===t||null===(a=t.response)||void 0===a?void 0:a.status)||r._retry){e.next=9;break}return r._retry=!0,e.next=5,F.post("/auth/refresh_token");case 5:return c=e.sent,(i=c.data)&&(localStorage.setItem("token",JSON.stringify(i.token)),F.defaults.headers.Authorization="Bearer ".concat(i.token)),e.abrupt("return",F(r));case 9:return 401===(null===t||void 0===t||null===(n=t.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),F.defaults.headers.Authorization=void 0,o(!1)),e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Object(n.useEffect)((function(){var e=localStorage.getItem("token");Object(C.a)(w.a.mark((function t(){var a,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}return t.prev=1,t.next=4,F.post("/auth/refresh_token");case 4:a=t.sent,n=a.data,F.defaults.headers.Authorization="Bearer ".concat(n.token),o(!0),g(n.user),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),ae(t.t0);case 14:m(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})))()}),[]),Object(n.useEffect)((function(){var e=ge()("http://localhost:8080/");return e.on("user",(function(e){"update"===e.action&&e.user.id===b.id&&g(e.user)})),function(){e.disconnect()}}),[b]),{isAuth:r,user:b,loading:l,handleLogin:function(){var t=Object(C.a)(w.a.mark((function t(a){var n,r;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,F.post("/auth/login",a);case 4:n=t.sent,r=n.data,localStorage.setItem("token",JSON.stringify(r.token)),F.defaults.headers.Authorization="Bearer ".concat(r.token),g(r.user),o(!0),d.b.success($.a.t("auth.toasts.success")),e.push("/tickets"),m(!1),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),ae(t.t0),m(!1);case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}(),handleLogout:function(){var t=Object(C.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.prev=1,t.next=4,F.delete("/auth/logout");case 4:o(!1),g({}),localStorage.removeItem("token"),F.defaults.headers.Authorization=void 0,m(!1),e.push("/login"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),ae(t.t0),m(!1);case 16:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}()}},we={user:{static:[]},admin:{static:["drawer-admin-items:view","tickets-manager:showall","user-modal:editQueues","ticket-options:deleteTicket","contacts-page:deleteContact"]},superadmin:{static:["drawer-superadmin-items:view","tickets-manager:showall","user-modal:editProfile","user-modal:editQueues","ticket-options:deleteTicket","contacts-page:deleteContact"]}},Ce=function(e){var t=e.role,a=e.perform,n=e.data,r=e.yes,o=e.no;return function(e,t,a){var n=we[e];if(!n)return!1;var r=n.static;if(r&&r.includes(t))return!0;var o=n.dynamic;if(o){var c=o[t];return!!c&&c(a)}return!1}(t,a,n)?r():o()};Ce.defaultProps={yes:function(){return null},no:function(){return null}};var Te=Object(f.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240},mainPaper:Object(T.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:A.a[500]}}})),Ae=function(){var e=je().user,t=Te(),a=Object(n.useState)(8),o=Object(s.a)(a,1)[0],c=Object(n.useContext)(xe).whatsApps,i=Object(n.useState)(!1),l=Object(s.a)(i,2),u=l[0],m=(l[1],Object(n.useState)(!1)),p=Object(s.a)(m,2),f=p[0],b=p[1],g=Object(n.useState)(!0),E=Object(s.a)(g,2),h=E[0],v=E[1],O=Object(n.useState)(null),x=Object(s.a)(O,2),y=x[0],j=x[1],T=Object(n.useState)(!1),q=Object(s.a)(T,2),L=q[0],B=q[1],z={action:"",title:"",message:"",whatsAppId:"",open:!1},Q=Object(n.useState)(z),H=Object(s.a)(Q,2),G=H[0],V=H[1],K=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/whatsappsession/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),ae(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.put("/whatsappsession/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),ae(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),J=function(e){v(!0),j(e),b(!0)},X=Object(n.useCallback)((function(){console.log("end"),console.log(f),console.log(h),v(!1),j(null),b(!1)}),[b,j]),Z=function(){var e=Object(C.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disconnect"!==G.action){e.next=9;break}return e.prev=1,e.next=4,F.delete("/whatsappsession/".concat(G.whatsAppId));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),ae(e.t0);case 9:if("delete"!==G.action){e.next=19;break}return e.prev=10,e.next=13,F.delete("/whatsapp/".concat(G.whatsAppId));case 13:d.b.success($.a.t("connections.toasts.deleted")),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),ae(e.t1);case 19:V(z);case 20:case"end":return e.stop()}}),e,null,[[1,6],[10,16]])})));return function(){return e.apply(this,arguments)}}(),ee=function(e){return r.a.createElement(r.a.Fragment,null,"qrcode"===e.status&&r.a.createElement(S.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return J(e)}},"Qr"),"DISCONNECTED"===e.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return K(e.id)}},$.a.t("connections.buttons.tryAgain"))," ",r.a.createElement(S.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return Y(e.id)}},$.a.t("connections.buttons.newQr"))),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&r.a.createElement(S.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){var t,a;t="disconnect",a=e.id,"disconnect"===t&&V({action:t,title:$.a.t("connections.confirmationModal.disconnectTitle"),message:$.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:a}),"delete"===t&&V({action:t,title:$.a.t("connections.confirmationModal.deleteTitle"),message:$.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:a}),B(!0)}},$.a.t("connections.buttons.disconnect")),"OPENING"===e.status&&r.a.createElement(S.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},$.a.t("connections.buttons.connecting")))},te=function(e){var t=e.title,a=e.content,n=e.children,o=Te();return r.a.createElement(N.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{gutterBottom:!0,color:"inherit"},t),a&&r.a.createElement(k.a,null,a))},n)},ne=function(){return c.findIndex((function(e){return e.id===o}))};return r.a.createElement("div",null,r.a.createElement(U,null,r.a.createElement(me,{title:G.title,open:L,onClose:B,onConfirm:Z},G.message),r.a.createElement(he,{open:f,onClose:X,whatsAppId:!u&&(null===y||void 0===y?void 0:y.id)}),r.a.createElement(Ce,{role:e.profile,perform:"drawer-admin-items:view",yes:function(){return r.a.createElement(r.a.Fragment,null,"admin"===e.profile&&"qrcode"===c[ne()].status?J(c[ne()]):null,"admin"===e.profile&&!1===h?X():null,console.log(c[ne()].status),r.a.createElement(I.a,{style:{justifyContent:"right"}},r.a.createElement(M.a,{align:"center"},(a=c[ne()],r.a.createElement("div",{className:t.customTableCell},"DISCONNECTED"===a.status&&r.a.createElement(te,{title:$.a.t("connections.toolTips.disconnected.title"),content:$.a.t("connections.toolTips.disconnected.content")},r.a.createElement(D.a,{color:"secondary"})),"OPENING"===a.status&&r.a.createElement(R.a,{size:24,className:t.buttonProgress}),"qrcode"===a.status&&r.a.createElement(te,{title:$.a.t("connections.toolTips.qrcode.title"),content:$.a.t("connections.toolTips.qrcode.content")},r.a.createElement(_.a,null)),"CONNECTED"===a.status&&r.a.createElement(te,{title:$.a.t("connections.toolTips.connected.title")},r.a.createElement(P.a,{style:{color:A.a[500]}})),("TIMEOUT"===a.status||"PAIRING"===a.status)&&r.a.createElement(te,{title:$.a.t("connections.toolTips.timeout.title"),content:$.a.t("connections.toolTips.timeout.content")},r.a.createElement(W.a,{color:"secondary"}))))),r.a.createElement(M.a,{align:"center"},(null===c||void 0===c?void 0:c.length)>0&&ee(c[ne()]))));var a}})))},Se=a(439),Ne=a.n(Se),Re=a(438),Ie=a.n(Re),Me=a(440),De=a.n(Me),_e=a(740),Pe=a(800),We=a(801),qe=a(802),Le=a(803),Ue=a(331),Be=a.n(Ue),ze=a(275),Fe=a.n(ze),Qe=a(430),He=a.n(Qe),Ge=a(432),Ve=a.n(Ge),Ke=a(332),Ye=a.n(Ke),Je=a(288),Xe=a.n(Je),Ze=a(431),$e=a.n(Ze),et=a(433),tt=a.n(et),at=Object(n.createContext)(),nt=function(e){var t=e.children,a=je(),n=a.loading,o=a.user,c=a.isAuth,i=a.handleLogin,s=a.handleLogout;return r.a.createElement(at.Provider,{value:{loading:n,user:o,isAuth:c,handleLogin:i,handleLogout:s}},t)};function rt(e){var t=e.icon,a=e.primary,n=e.to,o=e.className,c=r.a.useMemo((function(){return r.a.forwardRef((function(e,t){return r.a.createElement(l.b,Object.assign({to:n,ref:t},e))}))}),[n]);return r.a.createElement("li",null,r.a.createElement(_e.a,{button:!0,component:c,className:o},t?r.a.createElement(Pe.a,null,t):null,r.a.createElement(We.a,{primary:a})))}var ot=function(e){var t=e.drawerClose,a=Object(n.useContext)(xe).whatsApps,o=Object(n.useContext)(at).user,c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],u=i[1];return Object(n.useEffect)((function(){var e=setTimeout((function(){a.length>0&&(a.filter((function(e){return"qrcode"===e.status||"PAIRING"===e.status||"DISCONNECTED"===e.status||"TIMEOUT"===e.status||"OPENING"===e.status})).length>0?u(!0):u(!1))}),2e3);return function(){return clearTimeout(e)}}),[a]),r.a.createElement("div",{onClick:t},r.a.createElement(Ce,{role:o.profile,perform:"drawer-superadmin-items:view",yes:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{inset:!0},$.a.t("mainDrawer.listItems.administration")),r.a.createElement(rt,{to:"/",primary:"Dashboard",icon:r.a.createElement(Be.a,null)}),r.a.createElement(rt,{to:"/connections",primary:$.a.t("mainDrawer.listItems.connections"),icon:r.a.createElement(Le.a,{badgeContent:l?"!":0,color:"error"},r.a.createElement(He.a,null))}),r.a.createElement(rt,{to:"/users",primary:$.a.t("mainDrawer.listItems.users"),icon:r.a.createElement(Ye.a,null)}),r.a.createElement(rt,{to:"/queues",primary:$.a.t("mainDrawer.listItems.queues"),icon:r.a.createElement($e.a,null)}),r.a.createElement(rt,{to:"/settings",primary:$.a.t("mainDrawer.listItems.settings"),icon:r.a.createElement(Ve.a,null)}),r.a.createElement(rt,{to:"/clientapi",primary:"clientapi",icon:r.a.createElement(Xe.a,null)}),r.a.createElement(E.a,null))}}),r.a.createElement(Ce,{role:o.profile,perform:"drawer-admin-items:view",yes:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe.a,{inset:!0},$.a.t("mainDrawer.listItems.administration")),r.a.createElement(rt,{to:"/",primary:"Dashboard",icon:r.a.createElement(Be.a,null)}),r.a.createElement(rt,{to:"/users",primary:$.a.t("mainDrawer.listItems.users"),icon:r.a.createElement(Ye.a,null)}),r.a.createElement(rt,{to:"/clientapi",primary:"API",icon:r.a.createElement(Xe.a,null)}),r.a.createElement(E.a,null))}}),r.a.createElement(rt,{to:"/tickets",primary:$.a.t("mainDrawer.listItems.tickets"),icon:r.a.createElement(Fe.a,null)}),r.a.createElement(rt,{to:"/contacts",primary:$.a.t("mainDrawer.listItems.contacts"),icon:r.a.createElement(Xe.a,null)}),r.a.createElement(rt,{to:"/quickAnswers",primary:$.a.t("mainDrawer.listItems.quickAnswers"),icon:r.a.createElement(tt.a,null)}))},ct=a(842),it=a(434),st=a(782),lt=a(437),ut=a.n(lt),dt=a(853),mt=a(806),pt=a(805),ft=a(852),bt=a(151),gt=["loading","children"],Et=Object(f.a)((function(e){return{button:{position:"relative"},buttonProgress:{color:A.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),ht=function(e){var t=e.loading,a=e.children,n=Object(bt.a)(e,gt),o=Et();return r.a.createElement(S.a,Object.assign({className:o.button,disabled:t},n),a,t&&r.a.createElement(R.a,{size:24,className:o.buttonProgress}))},vt=a(435),Ot=["children"],kt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xt=["a","b","strong","em","u","code","del"],yt=function(e){var t=e.children,a=Object(bt.a)(e,Ot);return r.a.createElement("a",Object.assign({},a,{target:"_blank",rel:"noopener noreferrer"}),t)},jt=function(e){var t=e.children,a=/\*(.*?)\*/g,n=/~(.*?)~/g;t&&a.test(t)&&(t=t.replace(a,"**$1**")),t&&n.test(t)&&(t=t.replace(n,"~~$1~~"));var o=r.a.useMemo((function(){var e={disableParsingRawHTML:!0,forceInline:!0,overrides:{a:{component:yt}}};return kt.forEach((function(t){xt.includes(t)||(e.overrides[t]=function(e){return e.children||null})})),e}),[]);return t?r.a.createElement(vt.a,{options:o},t):null},wt=Object(f.a)((function(e){return{ticket:{position:"relative"},pendingTicket:{cursor:"unset"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},contactNameWrapper:{display:"flex",justifyContent:"space-between"},lastMessageTime:{justifySelf:"flex-end"},closedBadge:{alignSelf:"center",justifySelf:"flex-end",marginRight:32,marginLeft:"auto"},contactLastMessage:{paddingRight:20},newMessagesCount:{alignSelf:"center",marginRight:8,marginLeft:"auto"},badgeStyle:{color:"white",backgroundColor:A.a[500]},acceptButton:{position:"absolute",left:"50%"},ticketQueueColor:{flex:"none",width:"8px",height:"100%",position:"absolute",top:"0%",left:"0%"}}})),Ct=function(e){var t,a,o,c=e.ticket,i=wt(),l=Object(u.g)(),d=Object(n.useState)(!1),f=Object(s.a)(d,2),b=f[0],g=f[1],h=Object(u.h)().ticketId,v=Object(n.useRef)(!0),O=Object(n.useContext)(at).user;Object(n.useEffect)((function(){return function(){v.current=!1}}),[]);var x=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,F.put("/tickets/".concat(t),{status:"open",userId:null===O||void 0===O?void 0:O.id});case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),g(!1),ae(e.t0);case 10:v.current&&g(!1),l.push("/tickets/".concat(t));case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,{key:c.id},r.a.createElement(_e.a,{dense:!0,button:!0,onClick:function(e){var t;"pending"!==c.status&&(t=c.id,l.push("/tickets/".concat(t)))},selected:h&&+h===c.id,className:Object(p.a)(i.ticket,Object(m.a)({},i.pendingTicket,"pending"===c.status))},r.a.createElement(N.a,{arrow:!0,placement:"right",title:(null===(t=c.queue)||void 0===t?void 0:t.name)||"Sem fila"},r.a.createElement("span",{style:{backgroundColor:(null===(a=c.queue)||void 0===a?void 0:a.color)||"#7C7C7C"},className:i.ticketQueueColor})),r.a.createElement(pt.a,null,r.a.createElement(ft.a,{src:null===c||void 0===c||null===(o=c.contact)||void 0===o?void 0:o.profilePicUrl})),r.a.createElement(We.a,{disableTypography:!0,primary:r.a.createElement("span",{className:i.contactNameWrapper},r.a.createElement(k.a,{noWrap:!0,component:"span",variant:"body2",color:"textPrimary"},c.contact.name),"closed"===c.status&&r.a.createElement(Le.a,{className:i.closedBadge,badgeContent:"closed",color:"primary"}),c.lastMessage&&r.a.createElement(k.a,{className:i.lastMessageTime,component:"span",variant:"body2",color:"textSecondary"},Object(dt.a)(Object(mt.a)(c.updatedAt),new Date)?r.a.createElement(r.a.Fragment,null,Object(ct.a)(Object(mt.a)(c.updatedAt),"HH:mm")):r.a.createElement(r.a.Fragment,null,Object(ct.a)(Object(mt.a)(c.updatedAt),"dd/MM/yyyy")))),secondary:r.a.createElement("span",{className:i.contactNameWrapper},r.a.createElement(k.a,{className:i.contactLastMessage,noWrap:!0,component:"span",variant:"body2",color:"textSecondary"},c.lastMessage?r.a.createElement(jt,null,c.lastMessage):r.a.createElement("br",null)),r.a.createElement(Le.a,{className:i.newMessagesCount,badgeContent:c.unreadMessages,classes:{badge:i.badgeStyle}}))}),"pending"===c.status&&r.a.createElement(ht,{color:"primary",variant:"contained",className:i.acceptButton,size:"small",loading:b,onClick:function(e){return x(c.id)}},$.a.t("ticketsList.buttons.accept"))),r.a.createElement(E.a,{variant:"inset",component:"li"}))},Tt=function(e){var t=e.searchParam,a=e.pageNumber,r=e.status,o=e.date,c=e.showAll,i=e.queueIds,l=e.withUnreadMessages,u=Object(n.useState)(!0),d=Object(s.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)(!1),b=Object(s.a)(f,2),g=b[0],E=b[1],h=Object(n.useState)([]),v=Object(s.a)(h,2),O=v[0],k=v[1];return Object(n.useEffect)((function(){p(!0);var e=setTimeout((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/tickets",{params:{searchParam:t,pageNumber:a,status:r,date:o,showAll:c,queueIds:i,withUnreadMessages:l}});case 3:n=e.sent,s=n.data,k(s.tickets),E(s.hasMore),p(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),p(!1),ae(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[t,a,r,o,c,i,l]),{tickets:O,loading:m,hasMore:g}},At=a(436),St=a.n(At),Nt=Object(f.a)((function(e){return{tabContainer:Object(T.a)({overflowY:"auto",maxHeight:350},e.scrollbarStyles),popoverPaper:Object(m.a)({width:"100%",maxWidth:350,marginLeft:e.spacing(2),marginRight:e.spacing(1)},e.breakpoints.down("sm"),{maxWidth:270}),noShadow:{boxShadow:"none !important"}}})),Rt=function(){var e=Nt(),t=Object(u.g)(),a=Object(n.useContext)(at).user,o=+t.location.pathname.split("/")[2],c=Object(n.useRef)(o),i=Object(n.useRef)(),l=Object(n.useState)(!1),d=Object(s.a)(l,2),m=d[0],p=d[1],f=Object(n.useState)([]),b=Object(s.a)(f,2),E=b[0],v=b[1],O=Object(n.useState)([]),k=Object(s.a)(O,2)[1],x=Tt({withUnreadMessages:"true"}).tickets,y=Object(it.a)(St.a),j=Object(s.a)(y,1)[0],w=Object(n.useRef)(),C=Object(n.useRef)(t);Object(n.useEffect)((function(){w.current=j,"Notification"in window?Notification.requestPermission():console.log("This browser doesn't support notifications")}),[j]),Object(n.useEffect)((function(){v(x)}),[x]),Object(n.useEffect)((function(){c.current=o}),[o]),Object(n.useEffect)((function(){var e=ge()("http://localhost:8080/");return e.on("connect",(function(){return e.emit("joinNotification")})),e.on("ticket",(function(e){"updateUnread"!==e.action&&"delete"!==e.action||(v((function(t){var a=t.findIndex((function(t){return t.id===e.ticketId}));return-1!==a?(t.splice(a,1),Object(ve.a)(t)):t})),k((function(t){var a=t.findIndex((function(t){return t.tag===String(e.ticketId)}));return-1!==a?(t[a].close(),t.splice(a,1),Object(ve.a)(t)):t})))})),e.on("appMessage",(function(e){if("create"===e.action&&!e.message.read&&(e.ticket.userId===(null===a||void 0===a?void 0:a.id)||!e.ticket.userId)){if(v((function(t){var a=t.findIndex((function(t){return t.id===e.ticket.id}));return-1!==a?(t[a]=e.ticket,Object(ve.a)(t)):[e.ticket].concat(Object(ve.a)(t))})),e.message.ticketId===c.current&&"visible"===document.visibilityState||e.ticket.userId&&e.ticket.userId!==(null===a||void 0===a?void 0:a.id)||e.ticket.isGroup)return;T(e)}})),function(){e.disconnect()}}),[a]);var T=function(e){var t=e.message,a=e.contact,n=e.ticket,r={body:"".concat(t.body," - ").concat(Object(ct.a)(new Date,"HH:mm")),icon:a.profilePicUrl,tag:n.id,renotify:!0},o=new Notification("".concat($.a.t("tickets.notification.message")," ").concat(a.name),r);o.onclick=function(e){e.preventDefault(),window.focus(),C.current.push("/tickets/".concat(n.id))},k((function(e){var t=e.findIndex((function(e){return e.tag===o.tag}));return-1!==t?(e[t]=o,Object(ve.a)(e)):[o].concat(Object(ve.a)(e))})),w.current()},A=function(){p(!1)},S=function(e){var t=e.children;return r.a.createElement("div",{onClick:A},t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClick:function(){p((function(e){return!e}))},buttonRef:i,"aria-label":"Open Notifications",color:"inherit"},r.a.createElement(Le.a,{badgeContent:E.length,color:"secondary"},r.a.createElement(ut.a,null))),r.a.createElement(st.a,{disableScrollLock:!0,open:m,anchorEl:i.current,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},classes:{paper:e.popoverPaper},onClose:A},r.a.createElement(h.a,{dense:!0,className:e.tabContainer},0===E.length?r.a.createElement(_e.a,null,r.a.createElement(We.a,null,$.a.t("notifications.noTickets"))):E.map((function(e){return r.a.createElement(S,{key:e.id},r.a.createElement(Ct,{ticket:e}))})))))},It=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)}},btnWrapper:{position:"relative"},buttonProgress:{color:A.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120}}})),Mt=Q.a().shape({name:Q.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Q.b().min(5,"Too Short!").max(50,"Too Long!"),email:Q.b().email("Invalid email").required("Required")}),Dt=function(e){var t=e.open,a=e.onClose,o=e.userId,c=It(),i={name:"",email:"",password:"",profile:"user"},l=Object(n.useContext)(at).user,u=Object(n.useState)(i),m=Object(s.a)(u,2),p=m[0],f=m[1],b=Object(n.useState)([]),g=Object(s.a)(b,2),E=g[0],h=g[1];Object(n.useEffect)((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a,n,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,F.get("/users/".concat(o));case 5:a=e.sent,n=a.data,f((function(e){return Object(T.a)(Object(T.a)({},e),n)})),r=null===(t=n.queues)||void 0===t?void 0:t.map((function(e){return e.id})),h(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),ae(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t]);var v=function(){a(),f(i)},O=function(){var e=Object(C.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(T.a)(Object(T.a)({},t),{},{queueIds:E}),e.prev=1,!o){e.next=7;break}return e.next=5,F.put("/users/".concat(o),a);case 5:e.next=9;break;case 7:return e.next=9,F.post("/users",a);case 9:d.b.success($.a.t("userModal.success")),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),ae(e.t0);case 15:console.log(a),v();case 17:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:c.root},r.a.createElement(G.a,{open:t,onClose:v,maxWidth:"xs",fullWidth:!0,scroll:"paper"},r.a.createElement(V.a,{id:"form-dialog-title"},"".concat(o?$.a.t("userModal.title.edit"):$.a.t("userModal.title.add"))),r.a.createElement(H.d,{initialValues:p,enableReinitialize:!0,validationSchema:Mt,onSubmit:function(e,t){setTimeout((function(){O(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,a=e.errors,n=e.isSubmitting;return r.a.createElement(H.c,null,r.a.createElement(K.a,{dividers:!0},r.a.createElement("div",{className:c.multFieldLine},r.a.createElement(H.a,{as:Y.a,label:$.a.t("userModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",fullWidth:!0}),r.a.createElement(H.a,{as:Y.a,label:$.a.t("userModal.form.password"),type:"password",name:"password",error:t.password&&Boolean(a.password),helperText:t.password&&a.password,variant:"outlined",margin:"dense",fullWidth:!0})),r.a.createElement("div",{className:c.multFieldLine},r.a.createElement(H.a,{as:Y.a,label:$.a.t("userModal.form.email"),name:"email",error:t.email&&Boolean(a.email),helperText:t.email&&a.email,variant:"outlined",margin:"dense",fullWidth:!0}),r.a.createElement(re.a,{variant:"outlined",className:c.formControl,margin:"dense"},r.a.createElement(Ce,{role:l.profile,perform:"user-modal:editProfile",yes:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{id:"profile-selection-input-label"},$.a.t("userModal.form.profile")),r.a.createElement(H.a,{as:oe.a,label:$.a.t("userModal.form.profile"),name:"profile",labelId:"profile-selection-label",id:"profile-selection",required:!0},r.a.createElement(y.a,{value:"superadmin"},"Super Admin"),r.a.createElement(y.a,{value:"admin"},"Admin"),r.a.createElement(y.a,{value:"user"},"User")))}}))),r.a.createElement(Ce,{role:l.profile,perform:"user-modal:editQueues",yes:function(){return r.a.createElement(se,{selectedQueueIds:E,onChange:function(e){return h(e)}})}})),r.a.createElement(Z.a,null,r.a.createElement(S.a,{onClick:v,color:"secondary",disabled:n,variant:"outlined"},$.a.t("userModal.buttons.cancel")),r.a.createElement(S.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?$.a.t("userModal.buttons.okEdit"):$.a.t("userModal.buttons.okAdd")),n&&r.a.createElement(R.a,{size:24,className:c.buttonProgress}))))}))))},_t=a(741),Pt=Object(f.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Wt=function(){var e=Pt();return r.a.createElement(_t.a,{className:e.backdrop,open:!0},r.a.createElement(R.a,{color:"inherit"}))},qt=Object(f.a)((function(e){return{root:Object(m.a)({display:"flex",height:"100vh"},e.breakpoints.down("sm"),{height:"calc(100vh - 56px)"}),toolbar:{paddingRight:24},toolbarIcon:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",minHeight:"48px"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(m.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:{minHeight:"48px"},content:{flex:1,overflow:"auto",marginTop:"30px"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),Lt=function(e){var t=e.children,a=qt(),o=Object(n.useState)(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Object(n.useState)(null),d=Object(s.a)(u,2),m=d[0],f=d[1],j=Object(n.useState)(!1),w=Object(s.a)(j,2),C=w[0],T=w[1],A=Object(n.useContext)(at),S=A.handleLogout,N=A.loading,R=Object(n.useState)(!1),I=Object(s.a)(R,2),M=I[0],D=I[1],_=Object(n.useState)("permanent"),P=Object(s.a)(_,2),W=P[0],q=P[1],L=Object(n.useContext)(at).user;Object(n.useEffect)((function(){document.body.offsetWidth>600&&D(!0)}),[]),Object(n.useEffect)((function(){document.body.offsetWidth<600?q("temporary"):q("permanent")}),[M]);var U=function(){f(null),T(!1)};return N?r.a.createElement(Wt,null):r.a.createElement("div",{className:a.root},r.a.createElement(b.a,{variant:W,className:M?a.drawerPaper:a.drawerPaperClose,classes:{paper:Object(p.a)(a.drawerPaper,!M&&a.drawerPaperClose)},open:M},r.a.createElement("div",{className:a.toolbarIcon},r.a.createElement(g.a,{onClick:function(){return D(!M)}},r.a.createElement(Ie.a,null))),r.a.createElement(E.a,null),r.a.createElement(h.a,null,r.a.createElement(ot,{drawerClose:function(){document.body.offsetWidth<600&&D(!1)}})),r.a.createElement(E.a,null)),r.a.createElement(Dt,{open:i,onClose:function(){return l(!1)},userId:null===L||void 0===L?void 0:L.id}),r.a.createElement(v.a,{position:"absolute",className:Object(p.a)(a.appBar,M&&a.appBarShift),color:"primary"},r.a.createElement(O.a,{variant:"dense",className:a.toolbar},r.a.createElement(g.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return D(!M)},className:Object(p.a)(a.menuButton,M&&a.menuButtonHidden)},r.a.createElement(Ne.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:a.title},"thinkvolc"),r.a.createElement(Ae,null),L.id&&r.a.createElement(Rt,null),r.a.createElement("div",null,r.a.createElement(g.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){f(e.currentTarget),T(!0)},color:"inherit"},r.a.createElement(De.a,null)),r.a.createElement(x.a,{id:"menu-appbar",anchorEl:m,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:C,onClose:U},r.a.createElement(y.a,{onClick:function(){l(!0),U()}},$.a.t("mainDrawer.appBar.user.profile")),r.a.createElement(y.a,{onClick:function(){U(),S()}},$.a.t("mainDrawer.appBar.user.logout")))))),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.appBarSpacer}),t||null))},Ut=a(816),Bt=a(55),zt=a(810),Ft=a(811),Qt=a(815),Ht=a(454),Gt=a(455),Vt=a(106),Kt=a(476),Yt=a(809),Jt=function(e){return r.a.createElement(k.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)},Xt=function(){var e=Object(Bt.a)(),t=Object(n.useRef)((new Date).toISOString()),a=Tt({date:t.current}).tickets,o=Object(n.useState)([{time:"08:00",amount:0},{time:"09:00",amount:0},{time:"10:00",amount:0},{time:"11:00",amount:0},{time:"12:00",amount:0},{time:"13:00",amount:0},{time:"14:00",amount:0},{time:"15:00",amount:0},{time:"16:00",amount:0},{time:"17:00",amount:0},{time:"18:00",amount:0},{time:"19:00",amount:0}]),c=Object(s.a)(o,2),i=c[0],l=c[1];return Object(n.useEffect)((function(){l((function(e){var t=Object(ve.a)(e);return t.forEach((function(e){a.forEach((function(t){Object(ct.a)(Object(Yt.a)(Object(mt.a)(t.createdAt)),"HH:mm")===e.time&&e.amount++}))})),t}))}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt,null,"".concat($.a.t("dashboard.charts.perDay.title")).concat(a.length)),r.a.createElement(zt.a,null,r.a.createElement(Ft.a,{data:i,barSize:40,width:730,height:250,margin:{top:16,right:16,bottom:0,left:24}},r.a.createElement(Qt.a,{strokeDasharray:"3 3"}),r.a.createElement(Ht.a,{dataKey:"time",stroke:e.palette.text.secondary}),r.a.createElement(Gt.a,{type:"number",allowDecimals:!1,stroke:e.palette.text.secondary},r.a.createElement(Vt.a,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Tickets")),r.a.createElement(Kt.a,{dataKey:"amount",fill:e.palette.primary.main}))))},Zt=Object(f.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},fixedHeightPaper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column",height:240}}})),$t=function(){var e=Zt();return r.a.createElement("div",null,r.a.createElement(q.a,{maxWidth:"lg",className:e.container},r.a.createElement(Ut.a,{container:!0,spacing:3},r.a.createElement(Ut.a,{item:!0,xs:12},r.a.createElement(Ee.a,{className:e.fixedHeightPaper},r.a.createElement(Xt,null))))))},ea=a(136),ta=a.n(ea),aa=a(484),na=a(845),ra=a(819),oa=a(456),ca=a.n(oa),ia=a(457),sa=a.n(ia),la=a(817),ua=a(849),da=a(192),ma=a.n(da),pa=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},extraAttr:{display:"flex",justifyContent:"center",alignItems:"center"},btnWrapper:{position:"relative"},buttonProgress:{color:A.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})),fa=Q.a().shape({name:Q.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),number:Q.b().min(8,"Too Short!").max(50,"Too Long!"),email:Q.b().email("Invalid email")}),ba=function(e){var t=e.open,a=e.onClose,o=e.contactId,c=e.initialValues,i=e.onSave,l=pa(),u=Object(n.useRef)(!0),m={name:"",number:"",email:""},p=Object(n.useState)(m),f=Object(s.a)(p,2),b=f[0],E=f[1];Object(n.useEffect)((function(){return function(){u.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&E((function(e){return Object(T.a)(Object(T.a)({},e),c)})),o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,F.get("/contacts/".concat(o));case 6:t=e.sent,a=t.data,u.current&&E(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),ae(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t,c]);var h=function(){a(),E(m)},v=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=7;break}return e.next=4,F.put("/contacts/".concat(o),t);case 4:h(),e.next=13;break;case 7:return e.next=9,F.post("/contacts",t);case 9:a=e.sent,n=a.data,i&&i(n),h();case 13:d.b.success($.a.t("contactModal.success")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),ae(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:l.root},r.a.createElement(G.a,{open:t,onClose:h,maxWidth:"lg",scroll:"paper"},r.a.createElement(V.a,{id:"form-dialog-title"},"".concat(o?$.a.t("contactModal.title.edit"):$.a.t("contactModal.title.add"))),r.a.createElement(H.d,{initialValues:b,enableReinitialize:!0,validationSchema:fa,onSubmit:function(e,t){setTimeout((function(){v(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.values,a=e.errors,n=e.touched,c=e.isSubmitting;return r.a.createElement(H.c,null,r.a.createElement(K.a,{dividers:!0},r.a.createElement(k.a,{variant:"subtitle1",gutterBottom:!0},$.a.t("contactModal.form.mainInfo")),r.a.createElement(H.a,{as:Y.a,label:$.a.t("contactModal.form.name"),name:"name",autoFocus:!0,error:n.name&&Boolean(a.name),helperText:n.name&&a.name,variant:"outlined",margin:"dense",className:l.textField}),r.a.createElement(H.a,{as:Y.a,label:$.a.t("contactModal.form.number"),name:"number",error:n.number&&Boolean(a.number),helperText:n.number&&a.number,placeholder:"5513912344321",variant:"outlined",margin:"dense"}),r.a.createElement("div",null,r.a.createElement(H.a,{as:Y.a,label:$.a.t("contactModal.form.email"),name:"email",error:n.email&&Boolean(a.email),helperText:n.email&&a.email,placeholder:"Email address",fullWidth:!0,margin:"dense",variant:"outlined"})),r.a.createElement(k.a,{style:{marginBottom:8,marginTop:12},variant:"subtitle1"},$.a.t("contactModal.form.extraInfo")),r.a.createElement(H.b,{name:"extraInfo"},(function(e){var a=e.push,n=e.remove;return r.a.createElement(r.a.Fragment,null,t.extraInfo&&t.extraInfo.length>0&&t.extraInfo.map((function(e,t){return r.a.createElement("div",{className:l.extraAttr,key:"".concat(t,"-info")},r.a.createElement(H.a,{as:Y.a,label:$.a.t("contactModal.form.extraName"),name:"extraInfo[".concat(t,"].name"),variant:"outlined",margin:"dense",className:l.textField}),r.a.createElement(H.a,{as:Y.a,label:$.a.t("contactModal.form.extraValue"),name:"extraInfo[".concat(t,"].value"),variant:"outlined",margin:"dense",className:l.textField}),r.a.createElement(g.a,{size:"small",onClick:function(){return n(t)}},r.a.createElement(ma.a,null)))})),r.a.createElement("div",{className:l.extraAttr},r.a.createElement(S.a,{style:{flex:1,marginTop:8},variant:"outlined",color:"primary",onClick:function(){return a({name:"",value:""})}},"+ ".concat($.a.t("contactModal.buttons.addExtraInfo")))))}))),r.a.createElement(Z.a,null,r.a.createElement(S.a,{onClick:h,color:"secondary",disabled:c,variant:"outlined"},$.a.t("contactModal.buttons.cancel")),r.a.createElement(S.a,{type:"submit",color:"primary",disabled:c,variant:"contained",className:l.btnWrapper},"".concat(o?$.a.t("contactModal.buttons.okEdit"):$.a.t("contactModal.buttons.okAdd")),c&&r.a.createElement(R.a,{size:24,className:l.buttonProgress}))))}))))},ga=Object(la.a)({trim:!0}),Ea=function(e){var t=e.modalOpen,a=e.onClose,o=Object(u.g)(),c=Object(n.useState)([]),i=Object(s.a)(c,2),l=i[0],d=i[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),f=p[0],b=p[1],g=Object(n.useState)(""),E=Object(s.a)(g,2),h=E[0],v=E[1],O=Object(n.useState)(null),k=Object(s.a)(O,2),x=k[0],y=k[1],j=Object(n.useState)({}),A=Object(s.a)(j,2),N=A[0],I=A[1],M=Object(n.useState)(!1),D=Object(s.a)(M,2),_=D[0],P=D[1],W=Object(n.useContext)(at).user;Object(n.useEffect)((function(){if(t&&!(h.length<3)){b(!0);var e=setTimeout((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("contacts",{params:{searchParam:h}});case 3:t=e.sent,a=t.data,d(a.contacts),b(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),b(!1),ae(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}b(!1)}),[h,t]);var q=function(){a(),v(""),y(null)},L=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return b(!0),e.prev=3,e.next=6,F.post("/tickets",{contactId:t,userId:W.id,status:"open"});case 6:a=e.sent,n=a.data,o.push("/tickets/".concat(n.id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),ae(e.t0);case 14:b(!1),q();case 16:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ba,{open:_,initialValues:N,onClose:function(){P(!1)},onSave:function(e){L(e.id)}}),r.a.createElement(G.a,{open:t,onClose:q},r.a.createElement(V.a,{id:"form-dialog-title"},$.a.t("newTicketModal.title")),r.a.createElement(K.a,{dividers:!0},r.a.createElement(ua.a,{options:l,loading:f,style:{width:300},clearOnBlur:!0,autoHighlight:!0,freeSolo:!0,clearOnEscape:!0,getOptionLabel:function(e){return e.number?"".concat(e.name," - ").concat(e.number):"".concat(e.name)},renderOption:function(e){return e.number?"".concat(e.name," - ").concat(e.number):"".concat($.a.t("newTicketModal.add")," ").concat(e.name)},filterOptions:function(e,t){var a=ga(e,t);return""!==t.inputValue&&!f&&h.length>=3&&a.push({name:"".concat(t.inputValue)}),a},onChange:function(e,t){return function(e,t){(null===t||void 0===t?void 0:t.number)?y(t):(null===t||void 0===t?void 0:t.name)&&(I({name:t.name}),P(!0))}(0,t)},renderInput:function(e){return r.a.createElement(Y.a,Object.assign({},e,{label:$.a.t("newTicketModal.fieldLabel"),variant:"outlined",autoFocus:!0,onChange:function(e){return v(e.target.value)},onKeyPress:function(e){!f&&x&&"Enter"===e.key&&L(x.id)},InputProps:Object(T.a)(Object(T.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,f?r.a.createElement(R.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})),r.a.createElement(Z.a,null,r.a.createElement(S.a,{onClick:q,color:"secondary",disabled:f,variant:"outlined"},$.a.t("newTicketModal.buttons.cancel")),r.a.createElement(ht,{variant:"contained",type:"button",disabled:!x,onClick:function(){return L(x.id)},color:"primary",loading:f},$.a.t("newTicketModal.buttons.ok")))))},ha=a(818),va=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(_e.a,{dense:!0},r.a.createElement(pt.a,null,r.a.createElement(ha.a,{animation:"wave",variant:"circle",width:40,height:40})),r.a.createElement(We.a,{primary:r.a.createElement(ha.a,{animation:"wave",height:20,width:60}),secondary:r.a.createElement(ha.a,{animation:"wave",height:20,width:90})})),r.a.createElement(E.a,{variant:"inset"}),r.a.createElement(_e.a,{dense:!0},r.a.createElement(pt.a,null,r.a.createElement(ha.a,{animation:"wave",variant:"circle",width:40,height:40})),r.a.createElement(We.a,{primary:r.a.createElement(ha.a,{animation:"wave",height:20,width:70}),secondary:r.a.createElement(ha.a,{animation:"wave",height:20,width:120})})),r.a.createElement(E.a,{variant:"inset"}),r.a.createElement(_e.a,{dense:!0},r.a.createElement(pt.a,null,r.a.createElement(ha.a,{animation:"wave",variant:"circle",width:40,height:40})),r.a.createElement(We.a,{primary:r.a.createElement(ha.a,{animation:"wave",height:20,width:60}),secondary:r.a.createElement(ha.a,{animation:"wave",height:20,width:90})})),r.a.createElement(E.a,{variant:"inset"}))},Oa=Object(f.a)((function(e){return{ticketsListWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},ticketsList:Object(T.a)(Object(T.a)({flex:1,overflowY:"scroll"},e.scrollbarStyles),{},{borderTop:"2px solid rgba(0, 0, 0, 0.12)"}),ticketsListHeader:{color:"rgb(67, 83, 105)",zIndex:2,backgroundColor:"white",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",display:"flex",alignItems:"center",justifyContent:"space-between"},ticketsCount:{fontWeight:"normal",color:"rgb(104, 121, 146)",marginLeft:"8px",fontSize:"14px"},noTicketsText:{textAlign:"center",color:"rgb(104, 121, 146)",fontSize:"14px",lineHeight:"1.4"},noTicketsTitle:{textAlign:"center",fontSize:"16px",fontWeight:"600",margin:"0px"},noTicketsDiv:{display:"flex",height:"100px",margin:40,flexDirection:"column",alignItems:"center",justifyContent:"center"}}})),ka=function(e,t){if("LOAD_TICKETS"===t.type)return t.payload.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?(e[a]=t,t.unreadMessages>0&&e.unshift(e.splice(a,1)[0])):e.push(t)})),Object(ve.a)(e);if("RESET_UNREAD"===t.type){var a=t.payload,n=e.findIndex((function(e){return e.id===a}));return-1!==n&&(e[n].unreadMessages=0),Object(ve.a)(e)}if("UPDATE_TICKET"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?e[o]=r:e.unshift(r),Object(ve.a)(e)}if("UPDATE_TICKET_UNREAD_MESSAGES"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c.id}));return-1!==i?(e[i]=c,e.unshift(e.splice(i,1)[0])):e.unshift(c),Object(ve.a)(e)}if("UPDATE_TICKET_CONTACT"===t.type){var s=t.payload,l=e.findIndex((function(e){return e.contactId===s.id}));return-1!==l&&(e[l].contact=s),Object(ve.a)(e)}if("DELETE_TICKET"===t.type){var u=t.payload,d=e.findIndex((function(e){return e.id===u}));return-1!==d&&e.splice(d,1),Object(ve.a)(e)}return"RESET"===t.type?[]:void 0},xa=function(e){var t=e.status,a=e.searchParam,o=e.showAll,c=e.selectedQueueIds,i=Oa(),l=Object(n.useState)(1),u=Object(s.a)(l,2),d=u[0],m=u[1],p=Object(n.useReducer)(ka,[]),f=Object(s.a)(p,2),b=f[0],g=f[1],E=Object(n.useContext)(at).user;Object(n.useEffect)((function(){g({type:"RESET"}),m(1)}),[t,a,g,o,c]);var v=Tt({pageNumber:d,searchParam:a,status:t,showAll:o,queueIds:JSON.stringify(c)}),O=v.tickets,k=v.hasMore,x=v.loading;Object(n.useEffect)((function(){(t||a)&&g({type:"LOAD_TICKETS",payload:O})}),[O,t,a]),Object(n.useEffect)((function(){var e=ge()("http://localhost:8080/"),a=function(e){return(!e.userId||e.userId===(null===E||void 0===E?void 0:E.id)||o)&&(!e.queueId||c.indexOf(e.queueId)>-1)};return e.on("connect",(function(){t?e.emit("joinTickets",t):e.emit("joinNotification")})),e.on("ticket",(function(e){var t;"updateUnread"===e.action&&g({type:"RESET_UNREAD",payload:e.ticketId}),"update"===e.action&&a(e.ticket)&&g({type:"UPDATE_TICKET",payload:e.ticket}),"update"===e.action&&((t=e.ticket).queueId&&-1===c.indexOf(t.queueId))&&g({type:"DELETE_TICKET",payload:e.ticket.id}),"delete"===e.action&&g({type:"DELETE_TICKET",payload:e.ticketId})})),e.on("appMessage",(function(e){"create"===e.action&&a(e.ticket)&&g({type:"UPDATE_TICKET_UNREAD_MESSAGES",payload:e.ticket})})),e.on("contact",(function(e){"update"===e.action&&g({type:"UPDATE_TICKET_CONTACT",payload:e.contact})})),function(){e.disconnect()}}),[t,o,E,c]);return r.a.createElement("div",{className:i.ticketsListWrapper},r.a.createElement(Ee.a,{square:!0,name:"closed",elevation:0,className:i.ticketsList,onScroll:function(e){if(k&&!x){var t=e.currentTarget,a=t.scrollTop;t.scrollHeight-(a+100)<t.clientHeight&&m((function(e){return e+1}))}}},r.a.createElement(h.a,{style:{paddingTop:0}},"open"===t&&r.a.createElement(qe.a,{className:i.ticketsListHeader},r.a.createElement("div",null,$.a.t("ticketsList.assignedHeader"),r.a.createElement("span",{className:i.ticketsCount},b.length))),"pending"===t&&r.a.createElement(qe.a,{className:i.ticketsListHeader},r.a.createElement("div",null,$.a.t("ticketsList.pendingHeader"),r.a.createElement("span",{className:i.ticketsCount},b.length))),0!==b.length||x?r.a.createElement(r.a.Fragment,null,b.map((function(e){return r.a.createElement(Ct,{ticket:e,key:e.id})}))):r.a.createElement("div",{className:i.noTicketsDiv},r.a.createElement("span",{className:i.noTicketsTitle},$.a.t("ticketsList.noTicketsTitle")),r.a.createElement("p",{className:i.noTicketsText},$.a.t("ticketsList.noTicketsMessage"))),x&&r.a.createElement(va,null))))},ya=["children","value","name"],ja=function(e){var t=e.children,a=e.value,n=e.name,o=Object(bt.a)(e,ya);return a===n?r.a.createElement("div",Object.assign({role:"tabpanel",id:"simple-tabpanel-".concat(n),"aria-labelledby":"simple-tab-".concat(n)},o),r.a.createElement(r.a.Fragment,null,t)):null},wa=a(848),Ca=function(e){var t=e.userQueues,a=e.selectedQueueIds,n=void 0===a?[]:a,o=e.onChange;return r.a.createElement("div",{style:{width:120,marginTop:-4}},r.a.createElement(re.a,{fullWidth:!0,margin:"dense"},r.a.createElement(oe.a,{multiple:!0,displayEmpty:!0,variant:"outlined",value:n,onChange:function(e){o(e.target.value)},MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},renderValue:function(){return $.a.t("ticketsQueueSelect.placeholder")}},(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e){return r.a.createElement(y.a,{dense:!0,key:e.id,value:e.id},r.a.createElement(wa.a,{style:{color:e.color},size:"small",color:"primary",checked:n.indexOf(e.id)>-1}),r.a.createElement(We.a,{primary:e.name}))})))))},Ta=Object(f.a)((function(e){return{ticketsWrapper:{position:"relative",display:"flex",height:"100%",flexDirection:"column",overflow:"hidden",borderTopRightRadius:0,borderBottomRightRadius:0},tabsHeader:{flex:"none",backgroundColor:"#eee"},settingsIcon:{alignSelf:"center",marginLeft:"auto",padding:8},tab:{minWidth:120,width:120},ticketOptionsBox:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fafafa",padding:e.spacing(1)},serachInputWrapper:{flex:1,background:"#fff",display:"flex",borderRadius:40,padding:4,marginRight:e.spacing(1)},searchIcon:{color:"grey",marginLeft:6,marginRight:6,alignSelf:"center"},searchInput:{flex:1,border:"none",borderRadius:30}}})),Aa=function(){var e,t=Ta(),a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)("open"),u=Object(s.a)(l,2),d=u[0],m=u[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),b=f[0],g=f[1],E=Object(n.useState)(!1),h=Object(s.a)(E,2),v=h[0],O=h[1],k=Object(n.useRef)(),x=Object(n.useContext)(at).user,y=x.queues.map((function(e){return e.id})),j=Object(n.useState)(y||[]),w=Object(s.a)(j,2),C=w[0],T=w[1];Object(n.useEffect)((function(){"search"===d&&k.current.focus()}),[d]);return r.a.createElement(Ee.a,{elevation:0,variant:"outlined",className:t.ticketsWrapper},r.a.createElement(Ea,{modalOpen:b,onClose:function(e){return g(!1)}}),r.a.createElement(Ee.a,{elevation:0,square:!0,className:t.tabsHeader},r.a.createElement(na.a,{value:d,onChange:function(e,t){m(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon label tabs example"},r.a.createElement(ra.a,{value:"open",icon:r.a.createElement(ca.a,null),label:$.a.t("tickets.tabs.open.title"),classes:{root:t.tab}}),r.a.createElement(ra.a,{value:"closed",icon:r.a.createElement(sa.a,null),label:$.a.t("tickets.tabs.closed.title"),classes:{root:t.tab}}),r.a.createElement(ra.a,{value:"search",icon:r.a.createElement(ta.a,null),label:$.a.t("tickets.tabs.search.title"),classes:{root:t.tab}}))),r.a.createElement(Ee.a,{square:!0,elevation:0,className:t.ticketOptionsBox},"search"===d?r.a.createElement("div",{className:t.serachInputWrapper},r.a.createElement(ta.a,{className:t.searchIcon}),r.a.createElement(aa.a,{className:t.searchInput,inputRef:k,placeholder:$.a.t("tickets.search.placeholder"),type:"search",onChange:function(t){var a=t.target.value.toLowerCase();if(clearTimeout(e),""===a)return i(a),void m("open");e=setTimeout((function(){i(a)}),500)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{variant:"outlined",color:"primary",onClick:function(){return g(!0)}},$.a.t("ticketsManager.buttons.newTicket")),r.a.createElement(Ce,{role:x.profile,perform:"tickets-manager:showall",yes:function(){return r.a.createElement(J.a,{label:$.a.t("tickets.buttons.showAll"),labelPlacement:"start",control:r.a.createElement(X.a,{size:"small",checked:v,onChange:function(){return O((function(e){return!e}))},name:"showAllTickets",color:"primary"})})}})),r.a.createElement(Ca,{style:{marginLeft:6},selectedQueueIds:C,userQueues:null===x||void 0===x?void 0:x.queues,onChange:function(e){return T(e)}})),r.a.createElement(ja,{value:d,name:"open",className:t.ticketsWrapper},r.a.createElement(xa,{status:"open",showAll:v,selectedQueueIds:C}),r.a.createElement(xa,{status:"pending",selectedQueueIds:C})),r.a.createElement(ja,{value:d,name:"closed",className:t.ticketsWrapper},r.a.createElement(xa,{status:"closed",showAll:!0,selectedQueueIds:C})),r.a.createElement(ja,{value:d,name:"search",className:t.ticketsWrapper},r.a.createElement(xa,{searchParam:c,showAll:!0,selectedQueueIds:C})))},Sa=a(458),Na=a.n(Sa),Ra=a(820),Ia=function(e){var t=e.classes;return r.a.createElement("div",{className:t.content},r.a.createElement(Ee.a,{square:!0,variant:"outlined",className:t.contactHeader},r.a.createElement(ha.a,{animation:"wave",variant:"circle",width:160,height:160,className:t.contactAvatar}),r.a.createElement(ha.a,{animation:"wave",height:25,width:90}),r.a.createElement(ha.a,{animation:"wave",height:25,width:80}),r.a.createElement(ha.a,{animation:"wave",height:25,width:80})),r.a.createElement(Ee.a,{square:!0,className:t.contactDetails},r.a.createElement(k.a,{variant:"subtitle1"},$.a.t("contactDrawer.extraInfo")),r.a.createElement(Ee.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},r.a.createElement(ha.a,{animation:"wave",height:20,width:60}),r.a.createElement(ha.a,{animation:"wave",height:20,width:160})),r.a.createElement(Ee.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},r.a.createElement(ha.a,{animation:"wave",height:20,width:60}),r.a.createElement(ha.a,{animation:"wave",height:20,width:160})),r.a.createElement(Ee.a,{square:!0,variant:"outlined",className:t.contactExtraInfo},r.a.createElement(ha.a,{animation:"wave",height:20,width:60}),r.a.createElement(ha.a,{animation:"wave",height:20,width:160}))))},Ma=Object(f.a)((function(e){return{drawer:{width:320,flexShrink:0},drawerPaper:{width:320,display:"flex",borderTop:"1px solid rgba(0, 0, 0, 0.12)",borderRight:"1px solid rgba(0, 0, 0, 0.12)",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",borderTopRightRadius:4,borderBottomRightRadius:4},header:{display:"flex",borderBottom:"1px solid rgba(0, 0, 0, 0.12)",backgroundColor:"#eee",alignItems:"center",padding:e.spacing(0,1),minHeight:"73px",justifyContent:"flex-start"},content:Object(T.a)({display:"flex",backgroundColor:"#eee",flexDirection:"column",padding:"8px 0px 8px 8px",height:"100%",overflowY:"scroll"},e.scrollbarStyles),contactAvatar:{margin:15,width:160,height:160},contactHeader:{display:"flex",padding:8,flexDirection:"column",alignItems:"center",justifyContent:"center","& > *":{margin:4}},contactDetails:{marginTop:8,padding:8,display:"flex",flexDirection:"column"},contactExtraInfo:{marginTop:4,padding:6}}})),Da=function(e){var t,a=e.open,o=e.handleDrawerClose,c=e.contact,i=e.loading,l=Ma(),u=Object(n.useState)(!1),d=Object(s.a)(u,2),m=d[0],p=d[1];return r.a.createElement(b.a,{className:l.drawer,variant:"persistent",anchor:"right",open:a,PaperProps:{style:{position:"absolute"}},BackdropProps:{style:{position:"absolute"}},ModalProps:{container:document.getElementById("drawer-container"),style:{position:"absolute"}},classes:{paper:l.drawerPaper}},r.a.createElement("div",{className:l.header},r.a.createElement(g.a,{onClick:o},r.a.createElement(Na.a,null)),r.a.createElement(k.a,{style:{justifySelf:"center"}},$.a.t("contactDrawer.header"))),i?r.a.createElement(Ia,{classes:l}):r.a.createElement("div",{className:l.content},r.a.createElement(Ee.a,{square:!0,variant:"outlined",className:l.contactHeader},r.a.createElement(ft.a,{alt:c.name,src:c.profilePicUrl,className:l.contactAvatar}),r.a.createElement(k.a,null,c.name),r.a.createElement(k.a,null,r.a.createElement(Ra.a,{href:"tel:".concat(c.number)},c.number)),r.a.createElement(S.a,{variant:"outlined",color:"primary",onClick:function(){return p(!0)}},$.a.t("contactDrawer.buttons.edit"))),r.a.createElement(Ee.a,{square:!0,variant:"outlined",className:l.contactDetails},r.a.createElement(ba,{open:m,onClose:function(){return p(!1)},contactId:c.id}),r.a.createElement(k.a,{variant:"subtitle1"},$.a.t("contactDrawer.extraInfo")),null===c||void 0===c||null===(t=c.extraInfo)||void 0===t?void 0:t.map((function(e){return r.a.createElement(Ee.a,{key:e.id,square:!0,variant:"outlined",className:l.contactExtraInfo},r.a.createElement(ne.a,null,e.name),r.a.createElement(k.a,{component:"div",noWrap:!0,style:{paddingTop:2}},r.a.createElement(jt,null,e.value)))})))))},_a=(a(703),a(472)),Pa=a(459),Wa=a.n(Pa),qa=a(337),La=a.n(qa),Ua=a(462),Ba=a.n(Ua),za=a(336),Fa=a.n(za),Qa=a(335),Ha=a.n(Qa),Ga=a(461),Va=a.n(Ga),Ka=a(460),Ya=a.n(Ka),Ja=a(465),Xa=a.n(Ja),Za=a(464),$a=a.n(Za),en=a(463),tn=a.n(en),an=a(847),nn=a(821),rn=Object(f.a)((function(e){return{timerBox:{display:"flex",marginLeft:10,marginRight:10,alignItems:"center"}}})),on=function(){var e=rn(),t=Object(n.useState)({minutes:0,seconds:0}),a=Object(s.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){var e=setInterval((function(){return c((function(e){return 59===e.seconds?Object(T.a)(Object(T.a)({},e),{},{minutes:e.minutes+1,seconds:0}):Object(T.a)(Object(T.a)({},e),{},{seconds:e.seconds+1})}))}),1e3);return function(){clearInterval(e)}}),[]);var i=function(e){return e<10?"0"+e:e};return r.a.createElement("div",{className:e.timerBox},r.a.createElement("span",null,"".concat(i(o.minutes),":").concat(i(o.seconds))))},cn=Object(n.createContext)(),sn=function(e){var t=e.children,a=Object(n.useState)(null),o=Object(s.a)(a,2),c=o[0],i=o[1];return r.a.createElement(cn.Provider,{value:{replyingMessage:c,setReplyingMessage:i}},t)};var ln=new Wa.a({bitRate:128}),un=Object(f.a)((function(e){return{mainWrapper:Object(m.a)({background:"#eee",display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.down("sm"),{position:"fixed",bottom:0,width:"100%"}),newMessageBox:{background:"#eee",width:"100%",display:"flex",padding:"7px",alignItems:"center"},messageInputWrapper:{padding:6,marginRight:7,background:"#fff",display:"flex",borderRadius:20,flex:1,position:"relative"},messageInput:{paddingLeft:10,flex:1,border:"none"},sendMessageIcons:{color:"grey"},uploadInput:{display:"none"},viewMediaInputWrapper:{display:"flex",padding:"10px 13px",position:"relative",justifyContent:"space-between",alignItems:"center",backgroundColor:"#eee",borderTop:"1px solid rgba(0, 0, 0, 0.12)"},emojiBox:{position:"absolute",bottom:63,width:40,borderTop:"1px solid #e8e8e8"},circleLoading:{color:A.a[500],opacity:"70%",position:"absolute",top:"20%",left:"50%",marginLeft:-12},audioLoading:{color:A.a[500],opacity:"70%"},recorderWrapper:{display:"flex",alignItems:"center",alignContent:"middle"},cancelAudioIcon:{color:"red"},sendAudioIcon:{color:"green"},replyginMsgWrapper:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",paddingTop:8,paddingLeft:73,paddingRight:7},replyginMsgContainer:{flex:1,marginRight:5,overflowY:"hidden",backgroundColor:"rgba(0, 0, 0, 0.05)",borderRadius:"7.5px",display:"flex",position:"relative"},replyginMsgBody:{padding:10,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},replyginContactMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#35cd96"},replyginSelfMsgSideColor:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},messageQuickAnswersWrapper:{margin:0,position:"absolute",bottom:"50px",background:"#ffffff",padding:"2px",border:"1px solid #CCC",left:0,width:"100%","& li":{listStyle:"none","& a":{display:"block",padding:"8px",textOverflow:"ellipsis",overflow:"hidden",maxHeight:"32px","&:hover":{background:"#F1F1F1",cursor:"pointer"}}}}}})),dn=function(e){var t,a=e.ticketStatus,o=un(),c=Object(u.h)().ticketId,i=Object(n.useState)([]),l=Object(s.a)(i,2),d=l[0],f=l[1],b=Object(n.useState)(""),E=Object(s.a)(b,2),h=E[0],v=E[1],O=Object(n.useState)(!1),k=Object(s.a)(O,2),j=k[0],T=k[1],A=Object(n.useState)(!1),S=Object(s.a)(A,2),N=S[0],I=S[1],M=Object(n.useState)(!1),D=Object(s.a)(M,2),_=D[0],P=D[1],W=Object(n.useState)([]),q=Object(s.a)(W,2),L=q[0],U=q[1],B=Object(n.useState)(!1),z=Object(s.a)(B,2),Q=z[0],H=z[1],G=Object(n.useRef)(),V=Object(n.useState)(null),K=Object(s.a)(V,2),Y=K[0],Z=K[1],ee=Object(n.useContext)(cn),te=ee.setReplyingMessage,ne=ee.replyingMessage,re=Object(n.useContext)(at).user,oe=function(e,t){var a=Object(n.useState)((function(){try{var a=localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return ae(n),t}})),r=Object(s.a)(a,2),o=r[0],c=r[1];return[o,function(t){try{var a=t instanceof Function?t(o):t;c(a),localStorage.setItem(e,JSON.stringify(a))}catch(n){ae(n)}}]}("signOption",!0),ce=Object(s.a)(oe,2),ie=ce[0],se=ce[1];Object(n.useEffect)((function(){G.current.focus()}),[ne]),Object(n.useEffect)((function(){return G.current.focus(),function(){v(""),T(!1),f([]),te(null)}}),[c,te]);var le=function(e){if(e.target.files){var t=Array.from(e.target.files);f(t)}},ue=function(){var e=Object(C.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),t.preventDefault(),(a=new FormData).append("fromMe",!0),d.forEach((function(e){a.append("medias",e),a.append("body",e.name)})),e.prev=5,e.next=8,F.post("/messages/".concat(c),a);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),ae(e.t0);case 13:I(!1),f([]);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=Object(C.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==h.trim()){e.next=2;break}return e.abrupt("return");case 2:return I(!0),t={read:1,fromMe:!0,mediaUrl:"",body:ie?"*".concat(null===re||void 0===re?void 0:re.name,":*\n").concat(h.trim()):h.trim(),quotedMsg:ne},e.prev=4,e.next=7,F.post("/messages/".concat(c),t);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),ae(e.t0);case 12:v(""),T(!1),I(!1),te(null);case 16:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=Object(C.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({audio:!0});case 4:return e.next=6,ln.start();case 6:P(!0),I(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),ae(e.t0),I(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||0!==t.indexOf("/")){e.next=15;break}return e.prev=1,e.next=4,F.get("/quickAnswers/",{params:{searchParam:h.substring(1)}});case 4:a=e.sent,n=a.data,U(n.quickAnswers),n.quickAnswers.length>0?H(!0):H(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),H(!1);case 13:e.next=16;break;case 15:H(!1);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){var e=Object(C.a)(w.a.mark((function e(){var t,a,n,r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,ln.stop().getMp3();case 4:if(t=e.sent,a=Object(s.a)(t,2),!((n=a[1]).size<1e4)){e.next=11;break}return I(!1),P(!1),e.abrupt("return");case 11:return r=new FormData,o="".concat((new Date).getTime(),".mp3"),r.append("medias",n,o),r.append("body",o),r.append("fromMe",!0),e.next=18,F.post("/messages/".concat(c),r);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),ae(e.t0);case 23:P(!1),I(!1);case 25:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(C.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ln.stop().getMp3();case 3:P(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ae(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),ge=function(e){Z(null)};return d.length>0?r.a.createElement(Ee.a,{elevation:0,square:!0,className:o.viewMediaInputWrapper},r.a.createElement(g.a,{"aria-label":"cancel-upload",component:"span",onClick:function(e){return f([])}},r.a.createElement(Va.a,{className:o.sendMessageIcons})),N?r.a.createElement("div",null,r.a.createElement(R.a,{className:o.circleLoading})):r.a.createElement("span",null,null===(t=d[0])||void 0===t?void 0:t.name),r.a.createElement(g.a,{"aria-label":"send-upload",component:"span",onClick:ue,disabled:N},r.a.createElement(Ha.a,{className:o.sendMessageIcons}))):r.a.createElement(Ee.a,{square:!0,elevation:0,className:o.mainWrapper},ne&&function(e){var t;return r.a.createElement("div",{className:o.replyginMsgWrapper},r.a.createElement("div",{className:o.replyginMsgContainer},r.a.createElement("span",{className:Object(p.a)(o.replyginContactMsgSideColor,Object(m.a)({},o.replyginSelfMsgSideColor,!e.fromMe))}),r.a.createElement("div",{className:o.replyginMsgBody},!e.fromMe&&r.a.createElement("span",{className:o.messageContactName},null===(t=e.contact)||void 0===t?void 0:t.name),e.body)),r.a.createElement(g.a,{"aria-label":"showRecorder",component:"span",disabled:N||"open"!==a,onClick:function(){return te(null)}},r.a.createElement(Ya.a,{className:o.sendMessageIcons})))}(ne),r.a.createElement("div",{className:o.newMessageBox},r.a.createElement(an.a,{only:["sm","xs"]},r.a.createElement(g.a,{"aria-label":"emojiPicker",component:"span",disabled:N||_||"open"!==a,onClick:function(e){return T((function(e){return!e}))}},r.a.createElement(Fa.a,{className:o.sendMessageIcons})),j?r.a.createElement("div",{className:o.emojiBox},r.a.createElement(nn.a,{onClickAway:function(e){return T(!1)}},r.a.createElement(_a.a,{perLine:16,showPreview:!1,showSkinTones:!1,onSelect:function(e){var t=e.native;v((function(e){return e+t}))}}))):null,r.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:N||_||"open"!==a,className:o.uploadInput,onChange:le}),r.a.createElement("label",{htmlFor:"upload-button"},r.a.createElement(g.a,{"aria-label":"upload",component:"span",disabled:N||_||"open"!==a},r.a.createElement(La.a,{className:o.sendMessageIcons}))),r.a.createElement(J.a,{style:{marginRight:7,color:"gray"},label:$.a.t("messagesInput.signMessage"),labelPlacement:"start",control:r.a.createElement(X.a,{size:"small",checked:ie,onChange:function(e){se(e.target.checked)},name:"showAllTickets",color:"primary"})})),r.a.createElement(an.a,{only:["md","lg","xl"]},r.a.createElement(g.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){Z(e.currentTarget)}},r.a.createElement(Ba.a,null)),r.a.createElement(x.a,{id:"simple-menu",keepMounted:!0,anchorEl:Y,open:Boolean(Y),onClose:ge},r.a.createElement(y.a,{onClick:ge},r.a.createElement(g.a,{"aria-label":"emojiPicker",component:"span",disabled:N||_||"open"!==a,onClick:function(e){return T((function(e){return!e}))}},r.a.createElement(Fa.a,{className:o.sendMessageIcons}))),r.a.createElement(y.a,{onClick:ge},r.a.createElement("input",{multiple:!0,type:"file",id:"upload-button",disabled:N||_||"open"!==a,className:o.uploadInput,onChange:le}),r.a.createElement("label",{htmlFor:"upload-button"},r.a.createElement(g.a,{"aria-label":"upload",component:"span",disabled:N||_||"open"!==a},r.a.createElement(La.a,{className:o.sendMessageIcons})))),r.a.createElement(y.a,{onClick:ge},r.a.createElement(J.a,{style:{marginRight:7,color:"gray"},label:$.a.t("messagesInput.signMessage"),labelPlacement:"start",control:r.a.createElement(X.a,{size:"small",checked:ie,onChange:function(e){se(e.target.checked)},name:"showAllTickets",color:"primary"})})))),r.a.createElement("div",{className:o.messageInputWrapper},r.a.createElement(aa.a,{inputRef:function(e){e&&e.focus(),e&&(G.current=e)},className:o.messageInput,placeholder:"open"===a?$.a.t("messagesInput.placeholderOpen"):$.a.t("messagesInput.placeholderClosed"),multiline:!0,rowsMax:5,value:h,onChange:function(e){v(e.target.value),pe(e.target.value)},disabled:_||N||"open"!==a,onPaste:function(e){"open"===a&&function(e){e.clipboardData.files[0]&&f([e.clipboardData.files[0]])}(e)},onKeyPress:function(e){N||e.shiftKey||"Enter"===e.key&&de()}}),Q?r.a.createElement("ul",{className:o.messageQuickAnswersWrapper},L.map((function(e,t){return r.a.createElement("li",{className:o.messageQuickAnswersWrapperItem,key:t},r.a.createElement("a",{onClick:function(){return function(e){v(e),H(!1)}(e.message)}},"".concat(e.shortcut," - ").concat(e.message)))}))):r.a.createElement("div",null)),h?r.a.createElement(g.a,{"aria-label":"sendMessage",component:"span",onClick:de,disabled:N},r.a.createElement(Ha.a,{className:o.sendMessageIcons})):_?r.a.createElement("div",{className:o.recorderWrapper},r.a.createElement(g.a,{"aria-label":"cancelRecording",component:"span",fontSize:"large",disabled:N,onClick:be},r.a.createElement(tn.a,{className:o.cancelAudioIcon})),N?r.a.createElement("div",null,r.a.createElement(R.a,{className:o.audioLoading})):r.a.createElement(on,null),r.a.createElement(g.a,{"aria-label":"sendRecordedAudio",component:"span",onClick:fe,disabled:N},r.a.createElement($a.a,{className:o.sendAudioIcon}))):r.a.createElement(g.a,{"aria-label":"showRecorder",component:"span",disabled:N||"open"!==a,onClick:me},r.a.createElement(Xa.a,{className:o.sendMessageIcons}))))},mn=a(822),pn=a(823),fn=Object(f.a)((function(e){return{ticketHeader:{display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"}}})),bn=function(){var e=fn();return r.a.createElement(mn.a,{square:!0,className:e.ticketHeader},r.a.createElement(pn.a,{titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:r.a.createElement(ha.a,{animation:"wave",variant:"circle"},r.a.createElement(ft.a,{alt:"contact_image"})),title:r.a.createElement(ha.a,{animation:"wave",width:80}),subheader:r.a.createElement(ha.a,{animation:"wave",width:140})}))},gn=a(466),En=a.n(gn),hn=Object(f.a)((function(e){return{ticketHeader:Object(m.a)({display:"flex",backgroundColor:"#eee",flex:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.down("sm"),{flexWrap:"wrap"})}})),vn=function(e){var t=e.loading,a=e.children,n=hn(),o=Object(u.g)();return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(bn,null):r.a.createElement(mn.a,{square:!0,className:n.ticketHeader},r.a.createElement(S.a,{color:"primary",onClick:function(){o.push("/tickets")}},r.a.createElement(En.a,null)),a))},On=function(e){var t=e.contact,a=e.ticket,n=e.onClick;return r.a.createElement(pn.a,{onClick:n,style:{cursor:"pointer"},titleTypographyProps:{noWrap:!0},subheaderTypographyProps:{noWrap:!0},avatar:r.a.createElement(ft.a,{src:t.profilePicUrl,alt:"contact_image"}),title:"".concat(t.name," #").concat(a.id),subheader:a.user&&"".concat($.a.t("messagesList.header.assignedTo")," ").concat(a.user.name)})},kn=a(824),xn=a(825),yn=Object(la.a)({trim:!0}),jn=function(e){var t=e.modalOpen,a=e.onClose,o=e.ticketid,c=Object(u.g)(),i=Object(n.useState)([]),l=Object(s.a)(i,2),d=l[0],m=l[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),b=f[0],g=f[1],E=Object(n.useState)(""),h=Object(s.a)(E,2),v=h[0],O=h[1],k=Object(n.useState)(null),x=Object(s.a)(k,2),y=x[0],j=x[1];Object(n.useEffect)((function(){if(t&&!(v.length<3)){g(!0);var e=setTimeout((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/users/",{params:{searchParam:v}});case 3:t=e.sent,a=t.data,m(a.users),g(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),g(!1),ae(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}g(!1)}),[v,t]);var A=function(){a(),O(""),j(null)},N=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),o&&y){e.next=3;break}return e.abrupt("return");case 3:return g(!0),e.prev=4,e.next=7,F.put("/tickets/".concat(o),{userId:y.id,queueId:null,status:"open"});case 7:g(!1),c.push("/tickets"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),g(!1),ae(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(G.a,{open:t,onClose:A,maxWidth:"lg",scroll:"paper"},r.a.createElement("form",{onSubmit:N},r.a.createElement(V.a,{id:"form-dialog-title"},$.a.t("transferTicketModal.title")),r.a.createElement(K.a,{dividers:!0},r.a.createElement(ua.a,{style:{width:300},getOptionLabel:function(e){return"".concat(e.name)},onChange:function(e,t){j(t)},options:d,filterOptions:yn,freeSolo:!0,autoHighlight:!0,noOptionsText:$.a.t("transferTicketModal.noOptions"),loading:b,renderInput:function(e){return r.a.createElement(Y.a,Object.assign({},e,{label:$.a.t("transferTicketModal.fieldLabel"),variant:"outlined",required:!0,autoFocus:!0,onChange:function(e){return O(e.target.value)},InputProps:Object(T.a)(Object(T.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,b?r.a.createElement(R.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})),r.a.createElement(Z.a,null,r.a.createElement(S.a,{onClick:A,color:"secondary",disabled:b,variant:"outlined"},$.a.t("transferTicketModal.buttons.cancel")),r.a.createElement(ht,{variant:"contained",type:"submit",color:"primary",loading:b},$.a.t("transferTicketModal.buttons.ok")))))},wn=function(e){var t=e.ticket,a=e.menuOpen,o=e.handleClose,c=e.anchorEl,i=Object(n.useState)(!1),l=Object(s.a)(i,2),u=l[0],d=l[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),f=p[0],b=p[1],g=Object(n.useRef)(!0),E=Object(n.useContext)(at).user;Object(n.useEffect)((function(){return function(){g.current=!1}}),[]);var h=function(){var e=Object(C.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.delete("/tickets/".concat(t.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),ae(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),v=function(e){d(!0),o()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{id:"menu-appbar",anchorEl:c,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:o},r.a.createElement(y.a,{onClick:function(e){b(!0),o()}},$.a.t("ticketOptionsMenu.transfer")),r.a.createElement(Ce,{role:E.profile,perform:"ticket-options:deleteTicket",yes:function(){return r.a.createElement(y.a,{onClick:v},$.a.t("ticketOptionsMenu.delete"))}})),r.a.createElement(me,{title:"".concat($.a.t("ticketOptionsMenu.confirmationModal.title")).concat(t.id," ").concat($.a.t("ticketOptionsMenu.confirmationModal.titleFrom")," ").concat(t.contact.name,"?"),open:u,onClose:d,onConfirm:h},$.a.t("ticketOptionsMenu.confirmationModal.message")),r.a.createElement(jn,{modalOpen:f,onClose:function(){g.current&&b(!1)},ticketid:t.id}))},Cn=Object(f.a)((function(e){return{actionButtons:{marginRight:6,flex:"none",alignSelf:"center",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}})),Tn=function(e){var t=e.ticket,a=Cn(),o=Object(u.g)(),c=Object(n.useState)(null),i=Object(s.a)(c,2),l=i[0],d=i[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),f=p[0],b=p[1],E=Boolean(l),h=Object(n.useContext)(at).user,v=function(){var e=Object(C.a)(w.a.mark((function e(a,n,r){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,F.put("/tickets/".concat(t.id),{status:n,userId:r||null});case 4:b(!1),"open"===n?o.push("/tickets/".concat(t.id)):o.push("/tickets"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),b(!1),ae(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a,n){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:a.actionButtons},"closed"===t.status&&r.a.createElement(ht,{loading:f,startIcon:r.a.createElement(kn.a,null),size:"small",onClick:function(e){return v(e,"open",null===h||void 0===h?void 0:h.id)}},$.a.t("messagesList.header.buttons.reopen")),"open"===t.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ht,{loading:f,startIcon:r.a.createElement(kn.a,null),size:"small",onClick:function(e){return v(e,"pending",null)}},$.a.t("messagesList.header.buttons.return")),r.a.createElement(ht,{loading:f,size:"small",variant:"contained",color:"primary",onClick:function(e){return v(e,"closed",null===h||void 0===h?void 0:h.id)}},$.a.t("messagesList.header.buttons.resolve")),r.a.createElement(g.a,{onClick:function(e){d(e.currentTarget)}},r.a.createElement(xn.a,null)),r.a.createElement(wn,{ticket:t,anchorEl:l,menuOpen:E,handleClose:function(e){d(null)}})),"pending"===t.status&&r.a.createElement(ht,{loading:f,size:"small",variant:"contained",color:"primary",onClick:function(e){return v(e,"open",null===h||void 0===h?void 0:h.id)}},$.a.t("messagesList.header.buttons.accept")))},An=a(826),Sn=a(827),Nn=a(828),Rn=a(829),In=a(830),Mn=a(831),Dn=a(475),_n=Object(f.a)((function(e){return{messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8}}})),Pn=function(e){var t=e.imageUrl,a=_n(),o=Object(n.useState)(!0),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Object(n.useState)(""),d=Object(s.a)(u,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){t&&function(){var e=Object(C.a)(w.a.mark((function e(){var a,n,r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get(t,{responseType:"blob"});case 2:a=e.sent,n=a.data,r=a.headers,o=window.URL.createObjectURL(new Blob([n],{type:r["content-type"]})),p(o),l(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[t]),r.a.createElement(Dn.a,{className:a.messageMedia,smallSrcSet:i?t:m,medium:i?t:m,large:i?t:m,alt:"image"})},Wn=function(e){var t=e.message,a=e.menuOpen,o=e.handleClose,c=e.anchorEl,i=Object(n.useContext)(cn).setReplyingMessage,l=Object(n.useState)(!1),u=Object(s.a)(l,2),d=u[0],m=u[1],p=function(){var e=Object(C.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.delete("/messages/".concat(t.id));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),ae(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(me,{title:$.a.t("messageOptionsMenu.confirmationModal.title"),open:d,onClose:m,onConfirm:p},$.a.t("messageOptionsMenu.confirmationModal.message")),r.a.createElement(x.a,{anchorEl:c,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:a,onClose:o},t.fromMe&&r.a.createElement(y.a,{onClick:function(e){m(!0),o()}},$.a.t("messageOptionsMenu.delete")),r.a.createElement(y.a,{onClick:function(){i(t),o()}},$.a.t("messageOptionsMenu.reply"))))},qn=a(467),Ln=a.n(qn),Un=Object(f.a)((function(e){return{messagesListWrapper:{overflow:"hidden",position:"relative",display:"flex",flexDirection:"column",flexGrow:1},messagesList:Object(T.a)(Object(m.a)({backgroundImage:"url(".concat(Ln.a,")"),display:"flex",flexDirection:"column",flexGrow:1,padding:"20px 20px 20px 20px",overflowY:"scroll"},e.breakpoints.down("sm"),{paddingBottom:"90px"}),e.scrollbarStyles),circleLoading:{color:A.a[500],position:"absolute",opacity:"70%",top:0,left:"50%",marginTop:12},messageLeft:{marginRight:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#ffffff",color:"#303030",alignSelf:"flex-start",borderTopLeftRadius:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerLeft:{margin:"-3px -80px 6px -6px",overflow:"hidden",backgroundColor:"#f0f0f0",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsg:{padding:10,maxWidth:300,height:"auto",display:"block",whiteSpace:"pre-wrap",overflow:"hidden"},quotedSideColorLeft:{flex:"none",width:"4px",backgroundColor:"#6bcbef"},messageRight:{marginLeft:20,marginTop:2,minWidth:100,maxWidth:600,height:"auto",display:"block",position:"relative","&:hover #messageActionsButton":{display:"flex",position:"absolute",top:0,right:0},whiteSpace:"pre-wrap",backgroundColor:"#dcf8c6",color:"#303030",alignSelf:"flex-end",borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:0,paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:0,boxShadow:"0 1px 1px #b3b3b3"},quotedContainerRight:{margin:"-3px -80px 6px -6px",overflowY:"hidden",backgroundColor:"#cfe9ba",borderRadius:"7.5px",display:"flex",position:"relative"},quotedMsgRight:{padding:10,maxWidth:300,height:"auto",whiteSpace:"pre-wrap"},quotedSideColorRight:{flex:"none",width:"4px",backgroundColor:"#35cd96"},messageActionsButton:{display:"none",position:"relative",color:"#999",zIndex:1,backgroundColor:"inherit",opacity:"90%","&:hover, &.Mui-focusVisible":{backgroundColor:"inherit"}},messageContactName:{display:"flex",color:"#6bcbef",fontWeight:500},textContentItem:{overflowWrap:"break-word",padding:"3px 80px 6px 6px"},textContentItemDeleted:{fontStyle:"italic",color:"rgba(0, 0, 0, 0.36)",overflowWrap:"break-word",padding:"3px 80px 6px 6px"},messageMedia:{objectFit:"cover",width:250,height:200,borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:8},timestamp:{fontSize:11,position:"absolute",bottom:0,right:5,color:"#999"},dailyTimestamp:{alignItems:"center",textAlign:"center",alignSelf:"center",width:"110px",backgroundColor:"#e1f3fb",margin:"10px",borderRadius:"10px",boxShadow:"0 1px 1px #b3b3b3"},dailyTimestampText:{color:"#808888",padding:8,alignSelf:"center",marginLeft:"0px"},ackIcons:{fontSize:18,verticalAlign:"middle",marginLeft:4},deletedIcon:{fontSize:18,verticalAlign:"middle",marginRight:4},ackDoneAllIcon:{color:A.a[500],fontSize:18,verticalAlign:"middle",marginLeft:4},downloadMedia:{display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"inherit",padding:10}}})),Bn=function(e,t){if("LOAD_MESSAGES"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(n,Object(ve.a)(e))}if("ADD_MESSAGE"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?e[o]=r:e.push(r),Object(ve.a)(e)}if("UPDATE_MESSAGE"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c.id}));return-1!==i&&(e[i]=c),Object(ve.a)(e)}if("RESET"===t.type)return[]},zn=function(e){var t=e.ticketId,a=e.isGroup,o=Un(),c=Object(n.useReducer)(Bn,[]),i=Object(s.a)(c,2),l=i[0],u=i[1],d=Object(n.useState)(1),f=Object(s.a)(d,2),b=f[0],h=f[1],v=Object(n.useState)(!1),O=Object(s.a)(v,2),k=O[0],x=O[1],y=Object(n.useState)(!1),j=Object(s.a)(y,2),T=j[0],A=j[1],N=Object(n.useRef)(),I=Object(n.useState)({}),M=Object(s.a)(I,2),D=M[0],_=M[1],P=Object(n.useState)(null),W=Object(s.a)(P,2),q=W[0],L=W[1],U=Boolean(q),B=Object(n.useRef)(t);Object(n.useEffect)((function(){u({type:"RESET"}),h(1),B.current=t}),[t]),Object(n.useEffect)((function(){A(!0);var e=setTimeout((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/messages/"+t,{params:{pageNumber:b}});case 3:a=e.sent,n=a.data,B.current===t&&(u({type:"LOAD_MESSAGES",payload:n.messages}),x(n.hasMore),A(!1)),1===b&&n.messages.length>1&&z(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),A(!1),ae(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){clearTimeout(e)}}),[b,t]),Object(n.useEffect)((function(){var e=ge()("http://localhost:8080/");return e.on("connect",(function(){return e.emit("joinChatBox",t)})),e.on("appMessage",(function(e){"create"===e.action&&(u({type:"ADD_MESSAGE",payload:e.message}),z()),"update"===e.action&&u({type:"UPDATE_MESSAGE",payload:e.message})})),function(){e.disconnect()}}),[t]);var z=function(){N.current&&N.current.scrollIntoView({})},Q=function(e,t){L(e.currentTarget),_(t)},H=function(e){return"image"===e.mediaType?r.a.createElement(Pn,{imageUrl:e.mediaUrl}):"audio"===e.mediaType?r.a.createElement("audio",{controls:!0},r.a.createElement("source",{src:e.mediaUrl,type:"audio/ogg"})):"video"===e.mediaType?r.a.createElement("video",{className:o.messageMedia,src:e.mediaUrl,controls:!0}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.downloadMedia},r.a.createElement(S.a,{startIcon:r.a.createElement(An.a,null),color:"primary",variant:"outlined",target:"_blank",href:e.mediaUrl},"Download")),r.a.createElement(E.a,null))},G=function(e,t){if(0===t)return r.a.createElement("span",{className:o.dailyTimestamp,key:"timestamp-".concat(e.id)},r.a.createElement("div",{className:o.dailyTimestampText},Object(ct.a)(Object(mt.a)(l[t].createdAt),"dd/MM/yyyy")));if(t<l.length-1){var a=Object(mt.a)(l[t].createdAt),n=Object(mt.a)(l[t-1].createdAt);if(!Object(dt.a)(a,n))return r.a.createElement("span",{className:o.dailyTimestamp,key:"timestamp-".concat(e.id)},r.a.createElement("div",{className:o.dailyTimestampText},Object(ct.a)(Object(mt.a)(l[t].createdAt),"dd/MM/yyyy")))}return t===l.length-1?r.a.createElement("div",{key:"ref-".concat(e.createdAt),ref:N,style:{float:"left",clear:"both"}}):void 0},V=function(e,t){if(t<l.length&&t>0&&l[t].fromMe!==l[t-1].fromMe)return r.a.createElement("span",{style:{marginTop:16},key:"divider-".concat(e.id)})},K=function(e){var t,a,n,c,i;return r.a.createElement("div",{className:Object(p.a)(o.quotedContainerLeft,Object(m.a)({},o.quotedContainerRight,e.fromMe))},r.a.createElement("span",{className:Object(p.a)(o.quotedSideColorLeft,Object(m.a)({},o.quotedSideColorRight,null===(t=e.quotedMsg)||void 0===t?void 0:t.fromMe))}),r.a.createElement("div",{className:o.quotedMsg},!(null===(a=e.quotedMsg)||void 0===a?void 0:a.fromMe)&&r.a.createElement("span",{className:o.messageContactName},null===(n=e.quotedMsg)||void 0===n||null===(c=n.contact)||void 0===c?void 0:c.name),null===(i=e.quotedMsg)||void 0===i?void 0:i.body))};return r.a.createElement("div",{className:o.messagesListWrapper},r.a.createElement(Wn,{message:D,anchorEl:q,menuOpen:U,handleClose:function(e){L(null)}}),r.a.createElement("div",{id:"messagesList",className:o.messagesList,onScroll:function(e){if(k){var t=e.currentTarget.scrollTop;0===t&&(document.getElementById("messagesList").scrollTop=1),T||t<50&&h((function(e){return e+1}))}}},l.length>0?l.length>0?l.map((function(e,t){return e.fromMe?r.a.createElement(r.a.Fragment,{key:e.id},G(e,t),V(e,t),r.a.createElement("div",{className:o.messageRight},r.a.createElement(g.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:o.messageActionsButton,onClick:function(t){return Q(t,e)}},r.a.createElement(In.a,null)),e.mediaUrl&&H(e),r.a.createElement("div",{className:Object(p.a)(o.textContentItem,Object(m.a)({},o.textContentItemDeleted,e.isDeleted))},e.isDeleted&&r.a.createElement(Mn.a,{color:"disabled",fontSize:"small",className:o.deletedIcon}),e.quotedMsg&&K(e),r.a.createElement(jt,null,e.body),r.a.createElement("span",{className:o.timestamp},Object(ct.a)(Object(mt.a)(e.createdAt),"HH:mm"),function(e){return 0===e.ack?r.a.createElement(Sn.a,{fontSize:"small",className:o.ackIcons}):1===e.ack?r.a.createElement(Nn.a,{fontSize:"small",className:o.ackIcons}):2===e.ack?r.a.createElement(Rn.a,{fontSize:"small",className:o.ackIcons}):3===e.ack||4===e.ack?r.a.createElement(Rn.a,{fontSize:"small",className:o.ackDoneAllIcon}):void 0}(e))))):r.a.createElement(r.a.Fragment,{key:e.id},G(e,t),V(e,t),r.a.createElement("div",{className:o.messageLeft},r.a.createElement(g.a,{variant:"contained",size:"small",id:"messageActionsButton",disabled:e.isDeleted,className:o.messageActionsButton,onClick:function(t){return Q(t,e)}},r.a.createElement(In.a,null)),a&&r.a.createElement("span",{className:o.messageContactName},null===(n=e.contact)||void 0===n?void 0:n.name),e.mediaUrl&&H(e),r.a.createElement("div",{className:o.textContentItem},e.quotedMsg&&K(e),r.a.createElement(jt,null,e.body),r.a.createElement("span",{className:o.timestamp},Object(ct.a)(Object(mt.a)(e.createdAt),"HH:mm")))));var n})):r.a.createElement("div",null,"Say hello to your new contact!"):[]),T&&r.a.createElement("div",null,r.a.createElement(R.a,{className:o.circleLoading})))},Fn=Object(f.a)((function(e){return{root:{display:"flex",height:"100%",position:"relative",overflow:"hidden"},ticketInfo:Object(m.a)({maxWidth:"50%",flexBasis:"50%"},e.breakpoints.down("sm"),{maxWidth:"80%",flexBasis:"80%"}),ticketActionButtons:Object(m.a)({maxWidth:"50%",flexBasis:"50%",display:"flex"},e.breakpoints.down("sm"),{maxWidth:"100%",flexBasis:"100%",marginBottom:"5px"}),mainWrapper:{flex:1,height:"100%",display:"flex",flexDirection:"column",overflow:"hidden",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderLeft:"0",marginRight:-320,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},mainWrapperShift:{borderTopRightRadius:0,borderBottomRightRadius:0,transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}})),Qn=function(){var e=Object(u.h)().ticketId,t=Object(u.g)(),a=Fn(),o=Object(n.useState)(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],f=Object(n.useState)(!0),b=Object(s.a)(f,2),g=b[0],E=b[1],h=Object(n.useState)({}),v=Object(s.a)(h,2),O=v[0],k=v[1],x=Object(n.useState)({}),y=Object(s.a)(x,2),j=y[0],A=y[1];Object(n.useEffect)((function(){E(!0);var t=setTimeout((function(){(function(){var t=Object(C.a)(w.a.mark((function t(){var a,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.get("/tickets/"+e);case 3:a=t.sent,n=a.data,k(n.contact),A(n),E(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),E(!1),ae(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(t)}}),[e,t]),Object(n.useEffect)((function(){var a=ge()("http://localhost:8080/");return a.on("connect",(function(){return a.emit("joinChatBox",e)})),a.on("ticket",(function(e){"update"===e.action&&A(e.ticket),"delete"===e.action&&(d.b.success("Ticket deleted sucessfully."),t.push("/tickets"))})),a.on("contact",(function(e){"update"===e.action&&k((function(t){var a;return t.id===(null===(a=e.contact)||void 0===a?void 0:a.id)?Object(T.a)(Object(T.a)({},t),e.contact):t}))})),function(){a.disconnect()}}),[e,t]);return r.a.createElement("div",{className:a.root,id:"drawer-container"},r.a.createElement(Ee.a,{variant:"outlined",elevation:0,className:Object(p.a)(a.mainWrapper,Object(m.a)({},a.mainWrapperShift,i))},r.a.createElement(vn,{loading:g},r.a.createElement("div",{className:a.ticketInfo},r.a.createElement(On,{contact:O,ticket:j,onClick:function(){l(!0)}})),r.a.createElement("div",{className:a.ticketActionButtons},r.a.createElement(Tn,{ticket:j}))),r.a.createElement(sn,null,r.a.createElement(zn,{ticketId:e,isGroup:j.isGroup}),r.a.createElement(dn,{ticketStatus:j.status}))),r.a.createElement(Da,{open:i,handleDrawerClose:function(){l(!1)},contact:O,loading:g}))},Hn=Object(f.a)((function(e){return{chatContainer:{flex:1,height:"calc(100% - 48px)",overflowY:"hidden"},chatPapper:{display:"flex",height:"100%"},contactsWrapper:{display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},contactsWrapperSmall:Object(m.a)({display:"flex",height:"100%",flexDirection:"column",overflowY:"hidden"},e.breakpoints.down("sm"),{display:"none"}),messagessWrapper:{display:"flex",height:"100%",flexDirection:"column"},welcomeMsg:{backgroundColor:"#eee",display:"flex",justifyContent:"space-evenly",alignItems:"center",height:"100%",textAlign:"center",borderRadius:0},ticketsManager:{},ticketsManagerClosed:Object(m.a)({},e.breakpoints.down("sm"),{display:"none"})}})),Gn=function(){var e=Hn(),t=Object(u.h)().ticketId;return r.a.createElement("div",{className:e.chatContainer},r.a.createElement("div",{className:e.chatPapper},r.a.createElement(Ut.a,{container:!0,spacing:0},r.a.createElement(Ut.a,{item:!0,xs:12,md:4,className:t?e.contactsWrapperSmall:e.contactsWrapper},r.a.createElement(Aa,null)),r.a.createElement(Ut.a,{item:!0,xs:12,md:8,className:e.messagessWrapper},t?r.a.createElement(r.a.Fragment,null,r.a.createElement(Qn,null)):r.a.createElement(an.a,{only:["sm","xs"]},r.a.createElement(Ee.a,{className:e.welcomeMsg},r.a.createElement("span",null,$.a.t("chat.noTicketMessage"))))))))},Vn=a(843),Kn=a(280),Yn=a.n(Kn),Jn=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Xn=Q.a().shape({name:Q.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Q.b().min(5,"Too Short!").max(50,"Too Long!"),email:Q.b().email("Invalid email").required("Required")}),Zn=function(){var e=Jn(),t=Object(u.g)(),a=Object(n.useState)({name:"",email:"",password:""}),o=Object(s.a)(a,1)[0],c=function(){var e=Object(C.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/auth/signup",a);case 3:d.b.success($.a.t("signup.toasts.success")),t.push("/login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ae(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(q.a,{component:"main",maxWidth:"xs"},r.a.createElement(i.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(ft.a,{className:e.avatar},r.a.createElement(Yn.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5"},$.a.t("signup.title")),r.a.createElement(H.d,{initialValues:o,enableReinitialize:!0,validationSchema:Xn,onSubmit:function(e,t){setTimeout((function(){c(e),t.setSubmitting(!1)}),400)}},(function(t){var a=t.touched,n=t.errors;t.isSubmitting;return r.a.createElement(H.c,{className:e.form},r.a.createElement(Ut.a,{container:!0,spacing:2},r.a.createElement(Ut.a,{item:!0,xs:12},r.a.createElement(H.a,{as:Y.a,autoComplete:"name",name:"name",error:a.name&&Boolean(n.name),helperText:a.name&&n.name,variant:"outlined",fullWidth:!0,id:"name",label:$.a.t("signup.form.name"),autoFocus:!0})),r.a.createElement(Ut.a,{item:!0,xs:12},r.a.createElement(H.a,{as:Y.a,variant:"outlined",fullWidth:!0,id:"email",label:$.a.t("signup.form.email"),name:"email",error:a.email&&Boolean(n.email),helperText:a.email&&n.email,autoComplete:"email"})),r.a.createElement(Ut.a,{item:!0,xs:12},r.a.createElement(H.a,{as:Y.a,variant:"outlined",fullWidth:!0,name:"password",error:a.password&&Boolean(n.password),helperText:a.password&&n.password,label:$.a.t("signup.form.password"),type:"password",id:"password",autoComplete:"current-password"}))),r.a.createElement(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},$.a.t("signup.buttons.submit")),r.a.createElement(Ut.a,{container:!0,justify:"flex-end"},r.a.createElement(Ut.a,{item:!0},r.a.createElement(Ra.a,{href:"#",variant:"body2",component:l.b,to:"/login"},$.a.t("signup.buttons.login")))))}))),r.a.createElement(Vn.a,{mt:5}))},$n=Object(f.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),er=function(){var e=$n(),t=Object(n.useState)({email:"",password:""}),a=Object(s.a)(t,2),o=a[0],c=a[1],u=Object(n.useContext)(at).handleLogin,d=function(e){c(Object(T.a)(Object(T.a)({},o),{},Object(m.a)({},e.target.name,e.target.value)))};return r.a.createElement(q.a,{component:"main",maxWidth:"xs"},r.a.createElement(i.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(ft.a,{className:e.avatar},r.a.createElement(Yn.a,null)),r.a.createElement(k.a,{component:"h1",variant:"h5"},$.a.t("login.title")),r.a.createElement("form",{className:e.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),u(o)}},r.a.createElement(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:$.a.t("login.form.email"),name:"email",value:o.email,onChange:d,autoComplete:"email",autoFocus:!0}),r.a.createElement(Y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:$.a.t("login.form.password"),type:"password",id:"password",value:o.password,onChange:d,autoComplete:"current-password"}),r.a.createElement(S.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit},$.a.t("login.buttons.submit")),r.a.createElement(Ut.a,{container:!0},r.a.createElement(Ut.a,{item:!0},r.a.createElement(Ra.a,{href:"#",variant:"body2",component:l.b,to:"/signup"},$.a.t("login.buttons.register")))))),r.a.createElement(Vn.a,{mt:8}))},tr=a(834),ar=a(835),nr=a(833),rr=a(836),or=a(837),cr=a(838),ir=Object(f.a)((function(e){return{contactsHeader:{display:"flex",alignItems:"center",padding:"0px 6px 6px 6px"}}})),sr=function(e){var t=e.children,a=ir();return r.a.createElement("div",{className:a.contactsHeader},t)},lr=Object(f.a)((function(e){return{MainHeaderButtonsWrapper:{flex:"none",marginLeft:"auto","& > *":{margin:e.spacing(1)}}}})),ur=function(e){var t=e.children,a=lr();return r.a.createElement("div",{className:a.MainHeaderButtonsWrapper},t)};function dr(e){return r.a.createElement(k.a,{variant:"h5",color:"primary",gutterBottom:!0},e.children)}var mr=Object(f.a)((function(e){return{customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),pr=function(e){var t=e.avatar,a=e.columns,n=mr();return r.a.createElement(r.a.Fragment,null,r.a.createElement(nr.a,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{style:{paddingRight:0}},r.a.createElement(ha.a,{animation:"wave",variant:"circle",width:40,height:40})),r.a.createElement(M.a,null,r.a.createElement(ha.a,{animation:"wave",height:30,width:80}))),Array.from({length:a},(function(e,t){return r.a.createElement(M.a,{align:"center",key:t},r.a.createElement("div",{className:n.customTableCell},r.a.createElement(ha.a,{align:"center",animation:"wave",height:30,width:80})))}))))},fr=Object(f.a)((function(e){return{mainPaper:Object(T.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"},tooltip:{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",fontSize:e.typography.pxToRem(14),border:"1px solid #dadde9",maxWidth:450},tooltipPopper:{textAlign:"center"},buttonProgress:{color:A.a[500]}}})),br=function(e){var t=e.title,a=e.content,n=e.children,o=fr();return r.a.createElement(N.a,{arrow:!0,classes:{tooltip:o.tooltip,popper:o.tooltipPopper},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{gutterBottom:!0,color:"inherit"},t),a&&r.a.createElement(k.a,null,a))},n)},gr=function(){var e=fr(),t=Object(n.useContext)(xe),a=t.whatsApps,o=t.loading,c=Object(n.useState)(!1),i=Object(s.a)(c,2),l=i[0],u=i[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),f=p[0],b=p[1],E=Object(n.useState)(null),h=Object(s.a)(E,2),v=h[0],O=h[1],k=Object(n.useState)(!1),x=Object(s.a)(k,2),y=x[0],j=x[1],T={action:"",title:"",message:"",whatsAppId:"",open:!1},N=Object(n.useState)(T),q=Object(s.a)(N,2),L=q[0],B=q[1],z=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/whatsappsession/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),ae(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.put("/whatsappsession/".concat(t));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),ae(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),H=Object(n.useCallback)((function(){u(!1),O(null)}),[O,u]),G=Object(n.useCallback)((function(){O(null),b(!1)}),[b,O]),V=function(e,t){"disconnect"===e&&B({action:e,title:$.a.t("connections.confirmationModal.disconnectTitle"),message:$.a.t("connections.confirmationModal.disconnectMessage"),whatsAppId:t}),"delete"===e&&B({action:e,title:$.a.t("connections.confirmationModal.deleteTitle"),message:$.a.t("connections.confirmationModal.deleteMessage"),whatsAppId:t}),j(!0)},K=function(){var e=Object(C.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("disconnect"!==L.action){e.next=9;break}return e.prev=1,e.next=4,F.delete("/whatsappsession/".concat(L.whatsAppId));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),ae(e.t0);case 9:if("delete"!==L.action){e.next=19;break}return e.prev=10,e.next=13,F.delete("/whatsapp/".concat(L.whatsAppId));case 13:d.b.success($.a.t("connections.toasts.deleted")),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(10),ae(e.t1);case 19:B(T);case 20:case"end":return e.stop()}}),e,null,[[1,6],[10,16]])})));return function(){return e.apply(this,arguments)}}(),Y=function(e){return r.a.createElement(r.a.Fragment,null,"qrcode"===e.status&&r.a.createElement(S.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return function(e){O(e),b(!0)}(e)}},$.a.t("connections.buttons.qrcode")),"DISCONNECTED"===e.status&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{size:"small",variant:"outlined",color:"primary",onClick:function(){return z(e.id)}},$.a.t("connections.buttons.tryAgain"))," ",r.a.createElement(S.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){return Q(e.id)}},$.a.t("connections.buttons.newQr"))),("CONNECTED"===e.status||"PAIRING"===e.status||"TIMEOUT"===e.status)&&r.a.createElement(S.a,{size:"small",variant:"outlined",color:"secondary",onClick:function(){V("disconnect",e.id)}},$.a.t("connections.buttons.disconnect")),"OPENING"===e.status&&r.a.createElement(S.a,{size:"small",variant:"outlined",disabled:!0,color:"default"},$.a.t("connections.buttons.connecting")))};return r.a.createElement(U,null,r.a.createElement(me,{title:L.title,open:y,onClose:j,onConfirm:K},L.message),r.a.createElement(he,{open:f,onClose:G,whatsAppId:!l&&(null===v||void 0===v?void 0:v.id)}),r.a.createElement(de,{open:l,onClose:H,whatsAppId:!f&&(null===v||void 0===v?void 0:v.id)}),r.a.createElement(sr,null,r.a.createElement(dr,null,$.a.t("connections.title")),r.a.createElement(ur,null,r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){O(null),u(!0)}},$.a.t("connections.buttons.add")))),r.a.createElement(Ee.a,{className:e.mainPaper,variant:"outlined"},r.a.createElement(tr.a,{size:"small"},r.a.createElement(ar.a,null,r.a.createElement(nr.a,null,r.a.createElement(M.a,{align:"center"},$.a.t("connections.table.name")),r.a.createElement(M.a,{align:"center"},$.a.t("connections.table.status")),r.a.createElement(M.a,{align:"center"},$.a.t("connections.table.session")),r.a.createElement(M.a,{align:"center"},$.a.t("connections.table.lastUpdate")),r.a.createElement(M.a,{align:"center"},$.a.t("connections.table.default")),r.a.createElement(M.a,{align:"center"},$.a.t("connections.table.actions")))),r.a.createElement(I.a,null,o?r.a.createElement(pr,null):r.a.createElement(r.a.Fragment,null,(null===a||void 0===a?void 0:a.length)>0&&a.map((function(t){return r.a.createElement(nr.a,{key:t.id},r.a.createElement(M.a,{align:"center"},t.name),r.a.createElement(M.a,{align:"center"},function(t){return r.a.createElement("div",{className:e.customTableCell},"DISCONNECTED"===t.status&&r.a.createElement(br,{title:$.a.t("connections.toolTips.disconnected.title"),content:$.a.t("connections.toolTips.disconnected.content")},r.a.createElement(D.a,{color:"secondary"})),"OPENING"===t.status&&r.a.createElement(R.a,{size:24,className:e.buttonProgress}),"qrcode"===t.status&&r.a.createElement(br,{title:$.a.t("connections.toolTips.qrcode.title"),content:$.a.t("connections.toolTips.qrcode.content")},r.a.createElement(_.a,null)),"CONNECTED"===t.status&&r.a.createElement(br,{title:$.a.t("connections.toolTips.connected.title")},r.a.createElement(P.a,{style:{color:A.a[500]}})),("TIMEOUT"===t.status||"PAIRING"===t.status)&&r.a.createElement(br,{title:$.a.t("connections.toolTips.timeout.title"),content:$.a.t("connections.toolTips.timeout.content")},r.a.createElement(W.a,{color:"secondary"})))}(t)),r.a.createElement(M.a,{align:"center"},Y(t)),r.a.createElement(M.a,{align:"center"},Object(ct.a)(Object(mt.a)(t.updatedAt),"dd/MM/yy HH:mm")),r.a.createElement(M.a,{align:"center"},t.isDefault&&r.a.createElement("div",{className:e.customTableCell},r.a.createElement(rr.a,{style:{color:A.a[500]}}))),r.a.createElement(M.a,{align:"center"},r.a.createElement(g.a,{size:"small",onClick:function(){return function(e){O(e),u(!0)}(t)}},r.a.createElement(or.a,null)),r.a.createElement(g.a,{size:"small",onClick:function(e){V("delete",t.id)}},r.a.createElement(cr.a,null))))})))))))},Er=Object(f.a)((function(e){return{root:{display:"flex",alignItems:"center",padding:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",alignItems:"center"},settingOption:{marginLeft:"auto"},margin:{margin:e.spacing(1)}}})),hr=function(){var e=Er(),t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/settings");case 3:t=e.sent,a=t.data,c(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),ae(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=ge()("http://localhost:8080/");return e.on("settings",(function(e){"update"===e.action&&c((function(t){var a=Object(ve.a)(t),n=a.findIndex((function(t){return t.key===e.setting.key}));return a[n].value=e.setting.value,a}))})),function(){e.disconnect()}}),[]);var i,l=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,n=t.target.name,e.prev=2,e.next=5,F.put("/settings/".concat(n),{value:a});case 5:d.b.success($.a.t("settings.success")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),ae(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:e.root},r.a.createElement(q.a,{className:e.container,maxWidth:"sm"},r.a.createElement(k.a,{variant:"body2",gutterBottom:!0},$.a.t("settings.title")),r.a.createElement(Ee.a,{className:e.paper},r.a.createElement(k.a,{variant:"body1"},$.a.t("settings.settings.userCreation.name")),r.a.createElement(oe.a,{margin:"dense",variant:"outlined",native:!0,id:"userCreation-setting",name:"userCreation",value:o&&o.length>0&&(i="userCreation",o.find((function(e){return e.key===i})).value),className:e.settingOption,onChange:l},r.a.createElement("option",{value:"enabled"},$.a.t("settings.settings.userCreation.options.enabled")),r.a.createElement("option",{value:"disabled"},$.a.t("settings.settings.userCreation.options.disabled"))))))},vr=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},multFieldLine:{display:"flex","& > *:not(:last-child)":{marginRight:e.spacing(1)},justifyContent:"space-between"},btnWrapper:{position:"relative"},ok:{color:A.a[500]},err:{color:"red"}}})),Or=Q.a().shape({URL:Q.b().min(10,"Too Short!").max(50,"Too Long!").required("Required"),platfrom:Q.b().required("Required")}),kr=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1],d=Object(n.useState)(!1),m=Object(s.a)(d,2),p=m[0],f=m[1],b=function(e){o(e.target.value)},g=function(e){!0===(null!==e.target.value.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g))?z.a.get(e.target.value).then((function(e){200===e.status?u("valid url"):u("Invalid url")})).catch((function(e){u("incorrect formula")})):u("format error")},E=function(){navigator.clipboard.writeText(v.GenerateToken),f(!0),setTimeout((function(){f(!1)}),1500)},h=vr(),v={GenerateToken:"!@#$%^&*",platfrom:a,URL:""};return r.a.createElement(q.a,{maxWidth:"lg",className:h.container},r.a.createElement(H.d,{initialValues:v,enableReinitialize:!0,validationSchema:Or,onSubmit:function(e,t){"valid url"===l&&console.log("save")}},(function(e){e.values;var t=e.touched,a=e.errors;e.isSubmitting;return r.a.createElement(H.c,null,r.a.createElement(K.a,{dividers:!0},r.a.createElement("div",{className:h.multFieldLine},r.a.createElement("h3",{style:{margin:"0px "}},"Generate Token"),r.a.createElement(S.a,{color:!1===p?"primary":"danger",variant:"contained",className:h.btnWrapper,onClick:E},!1===p?"copy":"copied")),r.a.createElement(Vn.a,{sx:{minWidth:120},style:{margin:"25px 0"}},r.a.createElement(re.a,{fullWidth:!0,variant:"outlined",margin:"dense"},r.a.createElement(ne.a,{id:"demo-simple-select-label"},"Platfrom"),r.a.createElement(oe.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",name:"platfrom",label:"Platfrom",onChange:b,error:t.platfrom&&Boolean(a.platfrom),helperText:t.platfrom&&a.platfrom},r.a.createElement(y.a,{value:"Woocommerce"},"Woocommerce"),r.a.createElement(y.a,{value:"Shopify"},"Shopify"),r.a.createElement(y.a,{value:"Salla"},"Salla"),r.a.createElement(y.a,{value:"Custom"},"Custom")))),r.a.createElement("div",null,r.a.createElement(H.a,{as:Y.a,label:"URL",type:"text",placeholder:"example: https://www.Domain Name.com",rows:4,fullWidth:!0,name:"URL",error:t.URL&&Boolean(a.URL),helperText:t.URL&&a.URL,variant:"outlined",margin:"dense",onKeyUp:g})),"valid url"===l?r.a.createElement("div",{className:h.ok},l):r.a.createElement("div",{className:h.err},l)),r.a.createElement(Z.a,null,r.a.createElement(S.a,{type:"submit",color:"primary",variant:"contained",className:h.btnWrapper},"save")))})))},xr=a(839),yr=a(281),jr=a.n(yr),wr=function(e,t){if("LOAD_USERS"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(Object(ve.a)(e),n)}if("UPDATE_USERS"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?(e[o]=r,Object(ve.a)(e)):[r].concat(Object(ve.a)(e))}if("DELETE_USER"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c}));return-1!==i&&e.splice(i,1),Object(ve.a)(e)}if("RESET"===t.type)return[]},Cr=Object(f.a)((function(e){return{mainPaper:Object(T.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Tr=function(){var e=Cr(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(1),l=Object(s.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),b=f[0],E=f[1],h=Object(n.useState)(null),v=Object(s.a)(h,2),O=v[0],k=v[1],x=Object(n.useState)(null),y=Object(s.a)(x,2),j=y[0],T=y[1],A=Object(n.useState)(!1),N=Object(s.a)(A,2),R=N[0],D=N[1],_=Object(n.useState)(!1),P=Object(s.a)(_,2),W=P[0],q=P[1],L=Object(n.useState)(""),B=Object(s.a)(L,2),z=B[0],Q=B[1],H=Object(n.useReducer)(wr,[]),G=Object(s.a)(H,2),V=G[0],K=G[1];Object(n.useEffect)((function(){K({type:"RESET"}),m(1)}),[z]),Object(n.useEffect)((function(){c(!0);var e=setTimeout((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/users/",{params:{searchParam:z,pageNumber:u}});case 3:t=e.sent,a=t.data,K({type:"LOAD_USERS",payload:a.users}),E(a.hasMore),c(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ae(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[z,u]),Object(n.useEffect)((function(){var e=ge()("http://localhost:8080/");return e.on("user",(function(e){"update"!==e.action&&"create"!==e.action||K({type:"UPDATE_USERS",payload:e.user}),"delete"===e.action&&K({type:"DELETE_USER",payload:+e.userId})})),function(){e.disconnect()}}),[]);var J=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.delete("/users/".concat(t));case 3:d.b.success($.a.t("users.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ae(e.t0);case 9:T(null),Q(""),m(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(U,null,r.a.createElement(me,{title:j&&"".concat($.a.t("users.confirmationModal.deleteTitle")," ").concat(j.name,"?"),open:W,onClose:q,onConfirm:function(){return J(j.id)}},$.a.t("users.confirmationModal.deleteMessage")),r.a.createElement(Dt,{open:R,onClose:function(){k(null),D(!1)},"aria-labelledby":"form-dialog-title",userId:O&&O.id}),r.a.createElement(sr,null,r.a.createElement(dr,null,$.a.t("users.title")),r.a.createElement(ur,null,r.a.createElement(Y.a,{placeholder:$.a.t("contacts.searchPlaceholder"),type:"search",value:z,onChange:function(e){Q(e.target.value.toLowerCase())},InputProps:{startAdornment:r.a.createElement(xr.a,{position:"start"},r.a.createElement(ta.a,{style:{color:"gray"}}))}}),r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){k(null),D(!0)}},$.a.t("users.buttons.add")))),r.a.createElement(Ee.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(b&&!o){var t=e.currentTarget,a=t.scrollTop;t.scrollHeight-(a+100)<t.clientHeight&&m((function(e){return e+1}))}}},r.a.createElement(tr.a,{size:"small"},r.a.createElement(ar.a,null,r.a.createElement(nr.a,null,r.a.createElement(M.a,{align:"center"},$.a.t("users.table.name")),r.a.createElement(M.a,{align:"center"},$.a.t("users.table.email")),r.a.createElement(M.a,{align:"center"},$.a.t("users.table.profile")),r.a.createElement(M.a,{align:"center"},$.a.t("users.table.actions")))),r.a.createElement(I.a,null,r.a.createElement(r.a.Fragment,null,V.map((function(e){return r.a.createElement(nr.a,{key:e.id},r.a.createElement(M.a,{align:"center"},e.name),r.a.createElement(M.a,{align:"center"},e.email),r.a.createElement(M.a,{align:"center"},e.profile),r.a.createElement(M.a,{align:"center"},r.a.createElement(g.a,{size:"small",onClick:function(){return function(e){k(e),D(!0)}(e)}},r.a.createElement(jr.a,null)),r.a.createElement(g.a,{size:"small",onClick:function(t){q(!0),T(e)}},r.a.createElement(ma.a,null))))})),o&&r.a.createElement(pr,{columns:4}))))))},Ar=function(e,t){if("LOAD_CONTACTS"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(Object(ve.a)(e),n)}if("UPDATE_CONTACTS"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?(e[o]=r,Object(ve.a)(e)):[r].concat(Object(ve.a)(e))}if("DELETE_CONTACT"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c}));return-1!==i&&e.splice(i,1),Object(ve.a)(e)}if("RESET"===t.type)return[]},Sr=Object(f.a)((function(e){return{mainPaper:Object(T.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Nr=function(){var e=Sr(),t=Object(u.g)(),a=Object(n.useContext)(at).user,o=Object(n.useState)(!1),c=Object(s.a)(o,2),i=c[0],l=c[1],m=Object(n.useState)(1),p=Object(s.a)(m,2),f=p[0],b=p[1],E=Object(n.useState)(""),h=Object(s.a)(E,2),v=h[0],O=h[1],k=Object(n.useReducer)(Ar,[]),x=Object(s.a)(k,2),y=x[0],j=x[1],T=Object(n.useState)(null),A=Object(s.a)(T,2),N=A[0],R=A[1],D=Object(n.useState)(!1),_=Object(s.a)(D,2),P=_[0],W=_[1],q=Object(n.useState)(null),L=Object(s.a)(q,2),B=L[0],z=L[1],Q=Object(n.useState)(!1),H=Object(s.a)(Q,2),G=H[0],V=H[1],K=Object(n.useState)(!1),J=Object(s.a)(K,2),X=J[0],Z=J[1];Object(n.useEffect)((function(){j({type:"RESET"}),b(1)}),[v]),Object(n.useEffect)((function(){l(!0);var e=setTimeout((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/contacts/",{params:{searchParam:v,pageNumber:f}});case 3:t=e.sent,a=t.data,j({type:"LOAD_CONTACTS",payload:a.contacts}),Z(a.hasMore),l(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ae(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[v,f]),Object(n.useEffect)((function(){var e=ge()("http://localhost:8080/");return e.on("contact",(function(e){"update"!==e.action&&"create"!==e.action||j({type:"UPDATE_CONTACTS",payload:e.contact}),"delete"===e.action&&j({type:"DELETE_CONTACT",payload:+e.contactId})})),function(){e.disconnect()}}),[]);var ee=function(){var e=Object(C.a)(w.a.mark((function e(n){var r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return l(!0),e.prev=3,e.next=6,F.post("/tickets",{contactId:n,userId:null===a||void 0===a?void 0:a.id,status:"open"});case 6:r=e.sent,o=r.data,t.push("/tickets/".concat(o.id)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),ae(e.t0);case 14:l(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.delete("/contacts/".concat(t));case 3:d.b.success($.a.t("contacts.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ae(e.t0);case 9:z(null),O(""),b(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(C.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.post("/contacts/import");case 3:t.go(0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ae(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(U,{className:e.mainContainer},r.a.createElement(ba,{open:P,onClose:function(){R(null),W(!1)},"aria-labelledby":"form-dialog-title",contactId:N}),r.a.createElement(me,{title:B?"".concat($.a.t("contacts.confirmationModal.deleteTitle")," ").concat(B.name,"?"):"".concat($.a.t("contacts.confirmationModal.importTitlte")),open:G,onClose:V,onConfirm:function(e){return B?te(B.id):ne()}},"".concat(B?$.a.t("contacts.confirmationModal.deleteMessage"):$.a.t("contacts.confirmationModal.importMessage"))),r.a.createElement(sr,null,r.a.createElement(dr,null,$.a.t("contacts.title")),r.a.createElement(ur,null,r.a.createElement(Y.a,{placeholder:$.a.t("contacts.searchPlaceholder"),type:"search",value:v,onChange:function(e){O(e.target.value.toLowerCase())},InputProps:{startAdornment:r.a.createElement(xr.a,{position:"start"},r.a.createElement(ta.a,{style:{color:"gray"}}))}}),r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(e){return V(!0)}},$.a.t("contacts.buttons.import")),r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){R(null),W(!0)}},$.a.t("contacts.buttons.add")))),r.a.createElement(Ee.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(X&&!i){var t=e.currentTarget,a=t.scrollTop;t.scrollHeight-(a+100)<t.clientHeight&&b((function(e){return e+1}))}}},r.a.createElement(tr.a,{size:"small"},r.a.createElement(ar.a,null,r.a.createElement(nr.a,null,r.a.createElement(M.a,{padding:"checkbox"}),r.a.createElement(M.a,null,$.a.t("contacts.table.name")),r.a.createElement(M.a,{align:"center"},$.a.t("contacts.table.whatsapp")),r.a.createElement(M.a,{align:"center"},$.a.t("contacts.table.email")),r.a.createElement(M.a,{align:"center"},$.a.t("contacts.table.actions")))),r.a.createElement(I.a,null,r.a.createElement(r.a.Fragment,null,y.map((function(e){return r.a.createElement(nr.a,{key:e.id},r.a.createElement(M.a,{style:{paddingRight:0}},r.a.createElement(ft.a,{src:e.profilePicUrl})),r.a.createElement(M.a,null,e.name),r.a.createElement(M.a,{align:"center"},e.number),r.a.createElement(M.a,{align:"center"},e.email),r.a.createElement(M.a,{align:"center"},r.a.createElement(g.a,{size:"small",onClick:function(){return ee(e.id)}},r.a.createElement(Fe.a,null)),r.a.createElement(g.a,{size:"small",onClick:function(){return t=e.id,R(t),void W(!0);var t}},r.a.createElement(jr.a,null)),r.a.createElement(Ce,{role:a.profile,perform:"contacts-page:deleteContact",yes:function(){return r.a.createElement(g.a,{size:"small",onClick:function(t){V(!0),z(e)}},r.a.createElement(ma.a,null))}})))})),i&&r.a.createElement(pr,{avatar:!0,columns:3}))))))},Rr=Object(f.a)((function(e){return{root:{flexWrap:"wrap"},textField:{marginRight:e.spacing(1),width:"100%"},btnWrapper:{position:"relative"},buttonProgress:{color:A.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},textQuickAnswerContainer:{width:"100%"}}})),Ir=Q.a().shape({shortcut:Q.b().min(2,"Too Short!").max(15,"Too Long!").required("Required"),message:Q.b().min(8,"Too Short!").max(3e4,"Too Long!").required("Required")}),Mr=function(e){var t=e.open,a=e.onClose,o=e.quickAnswerId,c=e.initialValues,i=e.onSave,l=Rr(),u=Object(n.useRef)(!0),m={shortcut:"",message:""},p=Object(n.useState)(m),f=Object(s.a)(p,2),b=f[0],g=f[1];Object(n.useEffect)((function(){return function(){u.current=!1}}),[]),Object(n.useEffect)((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&g((function(e){return Object(T.a)(Object(T.a)({},e),c)})),o){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,F.get("/quickAnswers/".concat(o));case 6:t=e.sent,a=t.data,u.current&&g(a),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),ae(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}})()()}),[o,t,c]);var E=function(){a(),g(m)},h=function(){var e=Object(C.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=7;break}return e.next=4,F.put("/quickAnswers/".concat(o),t);case 4:E(),e.next=13;break;case 7:return e.next=9,F.post("/quickAnswers",t);case 9:a=e.sent,n=a.data,i&&i(n),E();case 13:d.b.success($.a.t("quickAnswersModal.success")),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),ae(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:l.root},r.a.createElement(G.a,{open:t,onClose:E,maxWidth:"sm",fullWidth:!0,scroll:"paper"},r.a.createElement(V.a,{id:"form-dialog-title"},"".concat(o?$.a.t("quickAnswersModal.title.edit"):$.a.t("quickAnswersModal.title.add"))),r.a.createElement(H.d,{initialValues:b,enableReinitialize:!0,validationSchema:Ir,onSubmit:function(e,t){setTimeout((function(){h(e),t.setSubmitting(!1)}),400)}},(function(e){e.values;var t=e.errors,a=e.touched,n=e.isSubmitting;return r.a.createElement(H.c,null,r.a.createElement(K.a,{dividers:!0},r.a.createElement("div",{className:l.textQuickAnswerContainer},r.a.createElement(H.a,{as:Y.a,label:$.a.t("quickAnswersModal.form.shortcut"),name:"shortcut",autoFocus:!0,error:a.shortcut&&Boolean(t.shortcut),helperText:a.shortcut&&t.shortcut,variant:"outlined",margin:"dense",className:l.textField,fullWidth:!0})),r.a.createElement("div",{className:l.textQuickAnswerContainer},r.a.createElement(H.a,{as:Y.a,label:$.a.t("quickAnswersModal.form.message"),name:"message",error:a.message&&Boolean(t.message),helperText:a.message&&t.message,variant:"outlined",margin:"dense",className:l.textField,multiline:!0,rows:5,fullWidth:!0}))),r.a.createElement(Z.a,null,r.a.createElement(S.a,{onClick:E,color:"secondary",disabled:n,variant:"outlined"},$.a.t("quickAnswersModal.buttons.cancel")),r.a.createElement(S.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:l.btnWrapper},"".concat(o?$.a.t("quickAnswersModal.buttons.okEdit"):$.a.t("quickAnswersModal.buttons.okAdd")),n&&r.a.createElement(R.a,{size:24,className:l.buttonProgress}))))}))))},Dr=function(e,t){if("LOAD_QUICK_ANSWERS"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(Object(ve.a)(e),n)}if("UPDATE_QUICK_ANSWERS"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?(e[o]=r,Object(ve.a)(e)):[r].concat(Object(ve.a)(e))}if("DELETE_QUICK_ANSWERS"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c}));return-1!==i&&e.splice(i,1),Object(ve.a)(e)}if("RESET"===t.type)return[]},_r=Object(f.a)((function(e){return{mainPaper:Object(T.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles)}})),Pr=function(){var e=_r(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(1),l=Object(s.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),b=f[0],E=f[1],h=Object(n.useReducer)(Dr,[]),v=Object(s.a)(h,2),O=v[0],k=v[1],x=Object(n.useState)(null),y=Object(s.a)(x,2),j=y[0],T=y[1],A=Object(n.useState)(!1),N=Object(s.a)(A,2),R=N[0],D=N[1],_=Object(n.useState)(null),P=Object(s.a)(_,2),W=P[0],q=P[1],L=Object(n.useState)(!1),B=Object(s.a)(L,2),z=B[0],Q=B[1],H=Object(n.useState)(!1),G=Object(s.a)(H,2),V=G[0],K=G[1];Object(n.useEffect)((function(){k({type:"RESET"}),m(1)}),[b]),Object(n.useEffect)((function(){c(!0);var e=setTimeout((function(){(function(){var e=Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.get("/quickAnswers/",{params:{searchParam:b,pageNumber:u}});case 3:t=e.sent,a=t.data,k({type:"LOAD_QUICK_ANSWERS",payload:a.quickAnswers}),K(a.hasMore),c(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),ae(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}),500);return function(){return clearTimeout(e)}}),[b,u]),Object(n.useEffect)((function(){var e=ge()("http://localhost:8080/");return e.on("quickAnswer",(function(e){"update"!==e.action&&"create"!==e.action||k({type:"UPDATE_QUICK_ANSWERS",payload:e.quickAnswer}),"delete"===e.action&&k({type:"DELETE_QUICK_ANSWERS",payload:+e.quickAnswerId})})),function(){e.disconnect()}}),[]);var J=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.delete("/quickAnswers/".concat(t));case 3:d.b.success($.a.t("quickAnswers.toasts.deleted")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ae(e.t0);case 9:q(null),E(""),m(1);case 12:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(U,null,r.a.createElement(me,{title:W&&"".concat($.a.t("quickAnswers.confirmationModal.deleteTitle")," ").concat(W.shortcut,"?"),open:z,onClose:Q,onConfirm:function(){return J(W.id)}},$.a.t("quickAnswers.confirmationModal.deleteMessage")),r.a.createElement(Mr,{open:R,onClose:function(){T(null),D(!1)},"aria-labelledby":"form-dialog-title",quickAnswerId:j&&j.id}),r.a.createElement(sr,null,r.a.createElement(dr,null,$.a.t("quickAnswers.title")),r.a.createElement(ur,null,r.a.createElement(Y.a,{placeholder:$.a.t("quickAnswers.searchPlaceholder"),type:"search",value:b,onChange:function(e){E(e.target.value.toLowerCase())},InputProps:{startAdornment:r.a.createElement(xr.a,{position:"start"},r.a.createElement(ta.a,{style:{color:"gray"}}))}}),r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){T(null),D(!0)}},$.a.t("quickAnswers.buttons.add")))),r.a.createElement(Ee.a,{className:e.mainPaper,variant:"outlined",onScroll:function(e){if(V&&!o){var t=e.currentTarget,a=t.scrollTop;t.scrollHeight-(a+100)<t.clientHeight&&m((function(e){return e+1}))}}},r.a.createElement(tr.a,{size:"small"},r.a.createElement(ar.a,null,r.a.createElement(nr.a,null,r.a.createElement(M.a,{align:"center"},$.a.t("quickAnswers.table.shortcut")),r.a.createElement(M.a,{align:"center"},$.a.t("quickAnswers.table.message")),r.a.createElement(M.a,{align:"center"},$.a.t("quickAnswers.table.actions")))),r.a.createElement(I.a,null,r.a.createElement(r.a.Fragment,null,O.map((function(e){return r.a.createElement(nr.a,{key:e.id},r.a.createElement(M.a,{align:"center"},e.shortcut),r.a.createElement(M.a,{align:"center"},e.message),r.a.createElement(M.a,{align:"center"},r.a.createElement(g.a,{size:"small",onClick:function(){return function(e){T(e),D(!0)}(e)}},r.a.createElement(or.a,null)),r.a.createElement(g.a,{size:"small",onClick:function(t){Q(!0),q(e)}},r.a.createElement(cr.a,null))))})),o&&r.a.createElement(pr,{columns:3}))))))},Wr=a(471),qr=function(e){var t=e.onChange,a=e.currentColor,o=e.handleClose,c=e.open,i=Object(n.useState)(a),l=Object(s.a)(i,2),u=l[0],d=l[1];return r.a.createElement(G.a,{onClose:o,"aria-labelledby":"simple-dialog-title",open:c},r.a.createElement(Wr.a,{width:"100%",triangle:"hide",color:u,onChange:function(e){d(e.hex),o()},onChangeComplete:function(e){return t(e.hex)}}))},Lr=a(840),Ur=Object(f.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},textField:{marginRight:e.spacing(1),flex:1},btnWrapper:{position:"relative"},buttonProgress:{color:A.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},formControl:{margin:e.spacing(1),minWidth:120},colorAdorment:{width:20,height:20}}})),Br=Q.a().shape({name:Q.b().min(2,"Too Short!").max(50,"Too Long!").required("Required"),color:Q.b().min(3,"Too Short!").max(9,"Too Long!").required(),greetingMessage:Q.b()}),zr=function(e){var t=e.open,a=e.onClose,o=e.queueId,c=Ur(),i={name:"",color:"",greetingMessage:""},l=Object(n.useState)(!1),u=Object(s.a)(l,2),m=u[0],p=u[1],f=Object(n.useState)(i),b=Object(s.a)(f,2),E=b[0],h=b[1],v=Object(n.useRef)();Object(n.useEffect)((function(){return Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,F.get("/queue/".concat(o));case 5:t=e.sent,a=t.data,h((function(e){return Object(T.a)(Object(T.a)({},e),a)})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),ae(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))(),function(){h({name:"",color:"",greetingMessage:""})}}),[o,t]);var O=function(){a(),h(i)},k=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=6;break}return e.next=4,F.put("/queue/".concat(o),t);case 4:e.next=8;break;case 6:return e.next=8,F.post("/queue",t);case 8:d.b.success("Queue saved successfully"),O(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),ae(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:c.root},r.a.createElement(G.a,{open:t,onClose:O,scroll:"paper"},r.a.createElement(V.a,null,"".concat(o?$.a.t("queueModal.title.edit"):$.a.t("queueModal.title.add"))),r.a.createElement(H.d,{initialValues:E,enableReinitialize:!0,validationSchema:Br,onSubmit:function(e,t){setTimeout((function(){k(e),t.setSubmitting(!1)}),400)}},(function(e){var t=e.touched,a=e.errors,n=e.isSubmitting,i=e.values;return r.a.createElement(H.c,null,r.a.createElement(K.a,{dividers:!0},r.a.createElement(H.a,{as:Y.a,label:$.a.t("queueModal.form.name"),autoFocus:!0,name:"name",error:t.name&&Boolean(a.name),helperText:t.name&&a.name,variant:"outlined",margin:"dense",className:c.textField}),r.a.createElement(H.a,{as:Y.a,label:$.a.t("queueModal.form.color"),name:"color",id:"color",onFocus:function(){p(!0),v.current.focus()},error:t.color&&Boolean(a.color),helperText:t.color&&a.color,InputProps:{startAdornment:r.a.createElement(xr.a,{position:"start"},r.a.createElement("div",{style:{backgroundColor:i.color},className:c.colorAdorment})),endAdornment:r.a.createElement(g.a,{size:"small",color:"default",onClick:function(){return p(!0)}},r.a.createElement(Lr.a,null))},variant:"outlined",margin:"dense"}),r.a.createElement(qr,{open:m,handleClose:function(){return p(!1)},onChange:function(e){i.color=e,h((function(){return Object(T.a)(Object(T.a)({},i),{},{color:e})}))}}),r.a.createElement("div",null,r.a.createElement(H.a,{as:Y.a,label:$.a.t("queueModal.form.greetingMessage"),type:"greetingMessage",multiline:!0,inputRef:v,rows:5,fullWidth:!0,name:"greetingMessage",error:t.greetingMessage&&Boolean(a.greetingMessage),helperText:t.greetingMessage&&a.greetingMessage,variant:"outlined",margin:"dense"}))),r.a.createElement(Z.a,null,r.a.createElement(S.a,{onClick:O,color:"secondary",disabled:n,variant:"outlined"},$.a.t("queueModal.buttons.cancel")),r.a.createElement(S.a,{type:"submit",color:"primary",disabled:n,variant:"contained",className:c.btnWrapper},"".concat(o?$.a.t("queueModal.buttons.okEdit"):$.a.t("queueModal.buttons.okAdd")),n&&r.a.createElement(R.a,{size:24,className:c.buttonProgress}))))}))))},Fr=Object(f.a)((function(e){return{mainPaper:Object(T.a)({flex:1,padding:e.spacing(1),overflowY:"scroll"},e.scrollbarStyles),customTableCell:{display:"flex",alignItems:"center",justifyContent:"center"}}})),Qr=function(e,t){if("LOAD_QUEUES"===t.type){var a=t.payload,n=[];return a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t.id}));-1!==a?e[a]=t:n.push(t)})),[].concat(Object(ve.a)(e),n)}if("UPDATE_QUEUES"===t.type){var r=t.payload,o=e.findIndex((function(e){return e.id===r.id}));return-1!==o?(e[o]=r,Object(ve.a)(e)):[r].concat(Object(ve.a)(e))}if("DELETE_QUEUE"===t.type){var c=t.payload,i=e.findIndex((function(e){return e.id===c}));return-1!==i&&e.splice(i,1),Object(ve.a)(e)}if("RESET"===t.type)return[]},Hr=function(){var e=Fr(),t=Object(n.useReducer)(Qr,[]),a=Object(s.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)(!1),l=Object(s.a)(i,2),u=l[0],m=l[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),b=f[0],E=f[1],h=Object(n.useState)(null),v=Object(s.a)(h,2),O=v[0],x=v[1],y=Object(n.useState)(!1),j=Object(s.a)(y,2),T=j[0],A=j[1];Object(n.useEffect)((function(){Object(C.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,F.get("/queue");case 4:t=e.sent,a=t.data,c({type:"LOAD_QUEUES",payload:a}),m(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),ae(e.t0),m(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()}),[]),Object(n.useEffect)((function(){var e=ge()("http://localhost:8080/");return e.on("queue",(function(e){"update"!==e.action&&"create"!==e.action||c({type:"UPDATE_QUEUES",payload:e.queue}),"delete"===e.action&&c({type:"DELETE_QUEUE",payload:e.queueId})})),function(){e.disconnect()}}),[]);var N=function(){var e=Object(C.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.delete("/queue/".concat(t));case 3:d.b.success($.a.t("Queue deleted successfully!")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),ae(e.t0);case 9:x(null);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(U,null,r.a.createElement(me,{title:O&&"".concat($.a.t("queues.confirmationModal.deleteTitle")," ").concat(O.name,"?"),open:T,onClose:function(){A(!1),x(null)},onConfirm:function(){return N(O.id)}},$.a.t("queues.confirmationModal.deleteMessage")),r.a.createElement(zr,{open:b,onClose:function(){E(!1),x(null)},queueId:null===O||void 0===O?void 0:O.id}),r.a.createElement(sr,null,r.a.createElement(dr,null,$.a.t("queues.title")),r.a.createElement(ur,null,r.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){E(!0),x(null)}},$.a.t("queues.buttons.add")))),r.a.createElement(Ee.a,{className:e.mainPaper,variant:"outlined"},r.a.createElement(tr.a,{size:"small"},r.a.createElement(ar.a,null,r.a.createElement(nr.a,null,r.a.createElement(M.a,{align:"center"},$.a.t("queues.table.name")),r.a.createElement(M.a,{align:"center"},$.a.t("queues.table.color")),r.a.createElement(M.a,{align:"center"},$.a.t("queues.table.greeting")),r.a.createElement(M.a,{align:"center"},$.a.t("queues.table.actions")))),r.a.createElement(I.a,null,r.a.createElement(r.a.Fragment,null,o.map((function(t){return r.a.createElement(nr.a,{key:t.id},r.a.createElement(M.a,{align:"center"},t.name),r.a.createElement(M.a,{align:"center"},r.a.createElement("div",{className:e.customTableCell},r.a.createElement("span",{style:{backgroundColor:t.color,width:60,height:20,alignSelf:"center"}}))),r.a.createElement(M.a,{align:"center"},r.a.createElement("div",{className:e.customTableCell},r.a.createElement(k.a,{style:{width:300,align:"center"},noWrap:!0,variant:"body2"},t.greetingMessage))),r.a.createElement(M.a,{align:"center"},r.a.createElement(g.a,{size:"small",onClick:function(){return function(e){x(e),E(!0)}(t)}},r.a.createElement(or.a,null)),r.a.createElement(g.a,{size:"small",onClick:function(){x(t),A(!0)}},r.a.createElement(cr.a,null))))})),u&&r.a.createElement(pr,{columns:4}))))))},Gr=["component","isPrivate"],Vr=function(e){var t=e.component,a=e.isPrivate,o=void 0!==a&&a,c=Object(bt.a)(e,Gr),i=Object(n.useContext)(at),s=i.isAuth,l=i.loading;return!s&&o?r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(Wt,null),r.a.createElement(u.a,{to:{pathname:"/login",state:{from:c.location}}})):s&&!o?r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(Wt,null),r.a.createElement(u.a,{to:{pathname:"/",state:{from:c.location}}}),";"):r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(Wt,null),r.a.createElement(u.b,Object.assign({},c,{component:t})))},Kr=function(){var e=je().user;return r.a.createElement(l.a,null,r.a.createElement(nt,null,r.a.createElement(u.d,null,r.a.createElement(Vr,{exact:!0,path:"/login",component:er}),r.a.createElement(Vr,{exact:!0,path:"/signup",component:Zn}),r.a.createElement(ye,null,r.a.createElement(Lt,null,r.a.createElement(Ce,{role:e.profile,perform:"drawer-admin-items:view",yes:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr,{exact:!0,path:"/",component:$t,isPrivate:!0}),r.a.createElement(Vr,{exact:!0,path:"/clientapi",component:kr,isPrivate:!0}),r.a.createElement(Vr,{exact:!0,path:"/users",component:Tr,isPrivate:!0}))}}),r.a.createElement(Vr,{exact:!0,path:"/tickets/:ticketId?",component:Gn,isPrivate:!0}),r.a.createElement(Vr,{exact:!0,path:"/contacts",component:Nr,isPrivate:!0}),r.a.createElement(Vr,{exact:!0,path:"/quickAnswers",component:Pr,isPrivate:!0}),r.a.createElement(Ce,{role:e.profile,perform:"drawer-superadmin-items:view",yes:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Vr,{exact:!0,path:"/",component:$t,isPrivate:!0}),r.a.createElement(Vr,{exact:!0,path:"/clientapi",component:kr,isPrivate:!0}),r.a.createElement(Vr,{exact:!0,path:"/users",component:Tr,isPrivate:!0}),r.a.createElement(Vr,{exact:!0,path:"/Settings",component:hr,isPrivate:!0}),r.a.createElement(Vr,{exact:!0,path:"/Queues",component:Hr,isPrivate:!0}),r.a.createElement(Vr,{exact:!0,path:"/connections",component:gr,isPrivate:!0}))}})))),r.a.createElement(d.a,{autoClose:3e3})))},Yr=(a(737),a(473)),Jr=a(841),Xr=a(470),Zr=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(Yr.a)({scrollbarStyles:{"&::-webkit-scrollbar":{width:"8px",height:"8px"},"&::-webkit-scrollbar-thumb":{boxShadow:"inset 0 0 6px rgba(0, 0, 0, 0.3)",backgroundColor:"#e8e8e8"}},palette:{primary:{main:"#2576d2"}}},a);return Object(n.useEffect)((function(){var e=localStorage.getItem("i18nextLng");"ptBR"===e.substring(0,2)+e.substring(3,5)&&o(Xr.ptBR)}),[]),r.a.createElement(Jr.a,{theme:c},r.a.createElement(Kr,null))};c.a.render(r.a.createElement(i.a,null,r.a.createElement(Zr,null)),document.getElementById("root"))}},[[507,1,2]]]);
//# sourceMappingURL=main.da69dc1e.chunk.js.map